;/*FB_PKG_DELIM*/

__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],c.i64.cast([0,1])))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[16],d[17],f,f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,additionalThreadContext:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,c.i64.cast([0,0]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?c.i64.cast([0,0]):h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticMessageV2",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[4]=c.i64.to_string(d[1]),d[3]=a[4]==null?a[3]:a[4],c.seq([function(b){return d[5]=a[5].get("snippet_has_emoji"),a[5],c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[6]=c.i64.cast([-1,4294967295]):(b=a.item,d[6]=b.lastActivityTimestampMs)})},function(e){return d[8]=c.i64.add(d[6],c.i64.cast([0,1])),d[10]=c.i64.gt(d[0],d[8])?d[0]:d[8],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[16]=!1:(b=a.item,d[19]=b.capabilities2,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=c.i64.cast([0,0]),d[16]=c.i64.neq(c.i64.and_(d[18],c.i64.cast([0,4096])),c.i64.cast([0,0])))})},function(a){return d[11]=d[16]}]):c.resolve(d[11]=!1)},function(b){return d[11]?d[12]="e2ee_cutover":d[12]="inbox",d[11]?d[13]=c.i64.cast([-1,4294967279]):d[13]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:d[12],parentThreadKey:d[13],lastActivityTimestampMs:d[10],lastReadWatermarkTimestampMs:d[10],snippet:d[3],snippetHasEmoji:d[5]==null?!1:d[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[16],d[17],f,f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[10],lastReadWatermarkTimestampMs:d[10],snippet:d[3],snippetHasEmoji:d[5]==null?!1:d[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,additionalThreadContext:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[49]=c.i64.of_float(Date.now()),d[5]=d[49]):(b=a.item,d[5]=b.primarySortKey)})},function(e){return d[7]=a[5].get("reply_source_id"),a[5],d[8]=a[5].get("reply_source_type"),a[5],d[9]=a[5].get("reply_source_type_v2"),a[5],d[10]=a[5].get("reply_type"),a[5],d[7]!==f&&(c.i64.eq(d[8],c.i64.cast([0,1]))||c.i64.eq(d[9],c.i64.cast([0,1])))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(d[7]==null?"":d[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[d[7],f,f,c.i64.cast([0,0]),f,f,f,f,f,f,f,f,f,f,f,f],d[49]=i[0],d[50]=i[1],d[51]=i[2],d[52]=i[3],d[53]=i[4],d[54]=i[5],d[55]=i[6],d[56]=i[7],d[57]=i[8],d[58]=i[9],d[59]=i[10],d[60]=i[11],d[61]=i[12],d[62]=i[13],d[63]=i[14],d[64]=i[15],i):(h=e.item,c.seq([function(e){return d[70]=h.senderId,d[69]=h.stickerId,c.i64.neq(d[69],f)?(e=[d[69],c.i64.cast([0,4])],d[71]=e[0],d[72]=e[1],e):(e=[f,f],d[71]=e[0],d[72]=e[1],e),e=[d[71],d[72]],d[66]=e[0],d[67]=e[1],e,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[70],d[10]==null?c.i64.cast([0,0]):d[10]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[68]=c.i64.eq(d[9],c.i64.cast([0,1]))?d[71]:""}])},function(a){return a=[d[7],d[8],d[9],c.i64.cast([0,1]),d[68],d[70],h.text,d[66],d[67],f,f,f,f,f,f,d[10]],d[49]=a[0],d[50]=a[1],d[51]=a[2],d[52]=a[3],d[53]=a[4],d[54]=a[5],d[55]=a[6],d[56]=a[7],d[57]=a[8],d[58]=a[9],d[59]=a[10],d[60]=a[11],d[61]=a[12],d[62]=a[13],d[63]=a[14],d[64]=a[15],a}]))})},function(a){return a=[d[49],d[50],d[51],d[52],d[53],d[54],d[55],d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((d[7]===f||c.i64.eq(d[8],c.i64.cast([0,0]))||c.i64.eq(d[9],c.i64.cast([0,0]))?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[49]=e[0],d[50]=e[1],d[51]=e[2],d[52]=e[3],d[53]=e[4],d[54]=e[5],d[55]=e[6],d[56]=e[7],d[57]=e[8],d[58]=e[9],d[59]=e[10],d[60]=e[11],d[61]=e[12],d[62]=e[13],d[63]=e[14],d[64]=e[15],e):(e=[d[7],d[8],d[9],c.i64.cast([0,1]),f,f,f,f,f,f,f,f,f,f,f,f],d[49]=e[0],d[50]=e[1],d[51]=e[2],d[52]=e[3],d[53]=e[4],d[54]=e[5],d[55]=e[6],d[56]=e[7],d[57]=e[8],d[58]=e[9],d[59]=e[10],d[60]=e[11],d[61]=e[12],d[62]=e[13],d[63]=e[14],d[64]=e[15],e),e=[d[49],d[50],d[51],d[52],d[53],d[54],d[55],d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return d[27]=a[5].get("mention_data"),a[5],d[27]?d[28]=!1:d[28]=!0,d[28]?(b=[f,f,f,f],d[29]=b[0],d[30]=b[1],d[31]=b[2],d[32]=b[3],b):(d[49]=d[27].get("mention_offsets"),d[27],d[50]=d[27].get("mention_lengths"),d[27],d[51]=d[27].get("mention_ids"),d[27],d[52]=d[27].get("mention_types"),d[27],b=[d[49],d[50],d[51],d[52]],d[29]=b[0],d[30]=b[1],d[31]=b[2],d[32]=b[3],b),d[33]=a[5].get("magic_words_data"),a[5],d[33]?d[34]=!1:d[34]=!0,d[34]?(b=[f,f],d[35]=b[0],d[36]=b[1],b):(d[49]=d[33].get("magic_word_offsets"),d[33],d[50]=d[33].get("magic_word_lengths"),d[33],b=[d[49],d[50]],d[35]=b[0],d[36]=b[1],b),d[48]=c.i64.eq(d[10],c.i64.cast([0,1]))?d[17]:a[3],d[37]=a[5].get("sticker_id"),a[5],d[38]=a[5].get("sticker_alt_text"),a[5],d[39]=a[5].get("hot_emoji_size"),a[5],d[40]=a[5].get("is_forwarded"),a[5],d[41]=a[5].get("forward_score"),a[5],d[42]=a[5].get("power_up_style"),a[5],d[43]=a[5].get("local_data_id"),a[5],d[44]=a[5].get("command_type"),a[5],d[45]=a[5].get("reply_type"),a[5],d[46]=a[5].get("is_forwarded"),a[5],d[46]?d[47]=c.i64.cast([0,3]):d[47]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[4],timestampMs:d[0],offlineThreadingId:d[4],primarySortKey:d[5],secondarySortKey:d[0],text:d[48],senderId:a[0],stickerId:d[37],hotEmojiSize:d[39],isForwarded:d[40],forwardScore:d[41],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[43],replyType:d[26],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[47],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],mentionOffsets:d[29],mentionLengths:d[30],mentionIds:d[31],mentionTypes:d[32]}):c.seq([function(a){return c.db.table(12).fetch([[[d[4]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[5],d[0],d[43]],d[49]=c[0],d[50]=c[1],d[51]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[49]=c[0],d[50]=c[1],d[51]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[4]]],"optimistic"]),function(a){return a.offlineThreadingId===d[4]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[4],timestampMs:d[0],offlineThreadingId:d[4],primarySortKey:d[49],secondarySortKey:d[50],text:d[48],senderId:a[0],stickerId:d[37],hotEmojiSize:d[39],isForwarded:d[40],forwardScore:d[41],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[51],replyType:d[26],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[47],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],mentionOffsets:d[29],mentionLengths:d[30],mentionIds:d[31],mentionTypes:d[32]})}])}])},function(e){return d[5]=c.createArray(),d[6]=(d[5].push("LSMailboxLocalApplyOptimisticMessageV2StoredProcedure"),d[5]),d[7]=(d[5].push("localApplyOptimisticMessage"),d[5]),d[8]=(d[5].push(a[1]),d[5]),d[9]=(d[5].push(d[4]),d[5]),d[10]=c.toJSON(d[5]),function(a){c.logger(a).info(a)}(d[10]),d[2]=a[5].get("calculate_denormalizations"),a[5],(d[2]==null?!0:d[2])?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[4],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return d[5]=a[5].get("sticker_id"),a[5],c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[4],d[0],a[3],!1,c.i64.neq(d[5],f))}]):c.resolve()},function(a){return a=[d[4],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,20]))}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendMessageV2",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessageV2","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessageV2"),a[0],a[1],a[2],a[4],a[5],a[6]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return c.seq([function(e){return d[4]=a[6].get("external_attachment_url"),a[6],d[28]=d[4]===""?f:d[4],d[28]!==f?c.seq([function(e){return d[29]=a[6].get("attribution_app_id"),a[6],d[30]=a[6].get("optimistic_attachment_preview"),a[6],c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[28],d[29],!0,!1)},function(e){return d[30]?d[31]=!1:d[31]=!0,d[31]?c.resolve():(d[32]=d[30].get("playable_url"),d[30],d[33]=d[30].get("playable_url_fallback"),d[30],d[34]=d[30].get("playable_url_expiration_timestamp_ms"),d[30],d[35]=d[30].get("playable_url_mime_type"),d[30],d[36]=d[30].get("preview_url"),d[30],d[37]=d[30].get("preview_url_fallback"),d[30],d[38]=d[30].get("preview_url_expiration_timestamp_ms"),d[30],d[39]=d[30].get("preview_url_mime_type"),d[30],d[40]=d[30].get("preview_width"),d[30],d[41]=d[30].get("preview_height"),d[30],d[42]=d[30].get("image_url"),d[30],d[43]=d[30].get("image_url_fallback"),d[30],d[44]=d[30].get("image_url_expiration_timestamp_ms"),d[30],d[45]=d[30].get("image_url_mime_type"),d[30],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[32],d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41]))},function(a){return d[5]=c.i64.cast([0,7])}]):c.seq([function(e){return d[29]=a[6].get("sticker_id"),a[6],c.i64.neq(d[29],f)?c.seq([function(e){return c.i64.neq(d[29],c.i64.cast([53057,267535043]))&&c.i64.neq(d[29],c.i64.cast([85970,924785702]))&&c.i64.neq(d[29],c.i64.cast([85970,1004785694]))&&c.i64.neq(d[29],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[33]=c.i64.to_string(d[29]),d[31]=a[6].get("optimistic_attachment_preview"),a[6],c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(d[29]),d[33],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve():(d[34]=d[31].get("playable_url"),d[31],d[35]=d[31].get("playable_url_fallback"),d[31],d[36]=d[31].get("playable_url_expiration_timestamp_ms"),d[31],d[37]=d[31].get("playable_url_mime_type"),d[31],d[38]=d[31].get("preview_url"),d[31],d[39]=d[31].get("preview_url_fallback"),d[31],d[40]=d[31].get("preview_url_expiration_timestamp_ms"),d[31],d[41]=d[31].get("preview_url_mime_type"),d[31],d[42]=d[31].get("preview_width"),d[31],d[43]=d[31].get("preview_height"),d[31],d[44]=d[31].get("image_url"),d[31],d[45]=d[31].get("image_url_fallback"),d[31],d[46]=d[31].get("image_url_expiration_timestamp_ms"),d[31],d[47]=d[31].get("image_url_mime_type"),d[31],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43]))}]):c.resolve()},function(a){return d[30]=c.i64.cast([0,2])}]):c.resolve(d[30]=c.i64.cast([0,1]))},function(a){return d[5]=d[30]}])},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]),f).then(function(a){return a=a,d[6]=a[0],a})},function(e){return d[7]=a[6].get("data_trace_id"),a[6],d[7]!==f?c.seq([function(a){return c.sp(b("LSPredefineTraceForTask"),d[7],d[6],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(e){return d[29]=a[6].get("source"),a[6],d[32]=c.i64.to_string(d[29]),d[32]!==f?d[30]=d[32]:d[30]=c.i64.to_string(c.i64.cast([0,0])),d[31]=",",c.nop(b("LSAppendDataTraceAddon.nop"),d[7],c.i64.cast([0,20]),c.i64.cast([0,1]),f,[d[30],d[31],c.i64.to_string(d[5]),d[31],c.i64.to_string(a[2])].join(""))}]):c.resolve()},function(b){return d[8]=a[6].get("source"),a[6],d[9]=a[6].get("external_attachment_url"),a[6],d[10]=a[6].get("platform_ref"),a[6],d[11]=a[6].get("platform_token"),a[6],d[12]=a[6].get("reply_source_id"),a[6],d[13]=a[6].get("reply_source_type"),a[6],d[14]=a[6].get("mark_read"),a[6],d[15]=a[6].get("initiating_app_id"),a[6],d[16]=a[6].get("initiating_source"),a[6],d[17]=a[6].get("navigation_chain"),a[6],d[18]=a[6].get("dety_params"),a[6],d[19]=a[6].get("skip_url_preview_gen"),a[6],d[20]=a[6].get("text_has_links"),a[6],c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:d[8],externalAttachmentUrl:d[9],platformRef:d[10],platformToken:d[11],replySourceId:d[12],replySourceType:d[13],sendType:d[5],markThreadRead:d[14]==null?!1:d[14],initiatingSource:d[16],skipUrlPreviewGen:d[19],textHasLinks:d[20]})},function(e){return d[21]=a[6].get("mark_read"),a[6],(d[21]==null?!1:d[21])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[22]=c.createArray(),d[23]=(d[22].push("optimisticSendMessageV2"),d[22]),d[24]=(d[22].push(a[1]),d[22]),d[25]=(d[22].push(d[0]),d[22]),d[26]=c.toJSON(d[22]),function(a){c.logger(a).info(a)}(d[26]),d[27]=new c.Map(),d[27].set("offline_threading_id",d[0]),d[27].set("task_id",d[6]),d[27].set("task_queue_name",c.i64.to_string(a[1])),d[27].set("task_label",c.i64.to_string(c.i64.cast([0,46]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[27])},function(a){return a=[d[0],d[6]],d[2]=a[0],d[3]=a[1],a}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometLazyDialogTrigger.react",["react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(a){var b=a.children,d=a.dialogProps,e=a.dialogResource,f=a.fallback,g=a.onHide,i=a.onShow;a=c("useCometLazyDialog")(e,f);var j=a[0];e=a[1];f=h(function(){j(d,g),i==null?void 0:i()},[j,d,g,i]);return b(f,e)}g["default"]=a}),98);
__d("useStatesInMap",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b){var c=i(a),d=i({}),e=j(b),f=e[0],g=e[1];h(function(){if(c.current!==a){var e;c.current=a;g((e=d.current[a])!=null?e:b)}},[d,g,c,a,b]);h(function(){d.current[a]=f},[f,a]);return[f,g]}g["default"]=a}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.createContext,j=d.useCallback,k=d.useContext,l=d.useMemo,m=i({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function a(a){var b=a.children,d=a.identifier,e=a.isOnFeedMedia,f=a.overlayExists,g=a.overlayShownOverride;a=a.videoController;e=c("useStatesInMap")(d,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:e,overlayExists:f,overlayShown:(d=g)!=null?d:f,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:a});var i=e[0],k=e[1],n=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayShown:a})})},[k]),o=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isContentVisibleDespiteOverlay:a})})},[k]),p=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayExists:a})})},[k]),q=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isOnFeedMedia:a})})},[k]),r=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{additionalRequiredHeight:a})})},[k]),s=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{parentRenderInstructions:a})})},[k]);g=l(function(){return{makeContentVisibleDespiteOverlay:o,overlaySettings:i,setAdditionalRequiredHeight:r,setIsOnFeedMedia:q,setOverlayExists:p,setParentRenderInstructions:s,showOverlay:n}},[i,r,n,o,p,s,q]);return h.jsx(m.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(m);a=a.overlaySettings;return a.overlayExists}function e(){var a=k(m);a=a.overlaySettings;return a.videoController}function n(){var a=k(m);a=a.overlaySettings;return a.overlayShown}function o(){var a=k(m);a=a.overlaySettings;return a.isOnFeedMedia}function p(){var a=k(m);a=a.overlaySettings;return a.isContentVisibleDespiteOverlay}function q(){var a=n(),b=p();return!a?!0:b}function r(){var a=k(m);a=a.overlaySettings;return a.additionalRequiredHeight}function s(){var a=k(m);a=a.overlaySettings;return a.parentRenderInstructions}function t(){var a=k(m);a=a.showOverlay;return a}function u(){var a=k(m);a=a.makeContentVisibleDespiteOverlay;return a}function v(){var a=k(m);a=a.setOverlayExists;return a}function w(){var a=k(m);a=a.setIsOnFeedMedia;return a}function x(){var a=k(m);a=a.setAdditionalRequiredHeight;return a}function y(){var a=k(m);a=a.setParentRenderInstructions;return a}g.CometWarningScreenContextProvider=a;g.useHasOverlay=b;g.useHasVideoController=e;g.useIsOverlayShown=n;g.useIsOnFeedMedia=o;g.useIsContentVisibleDespiteOverlay=p;g.useIsContentVisible=q;g.useAdditionalRequiredHeight=r;g.useParentRenderInstructions=s;g.useShowOverlay=t;g.useMakeContentVisibleDespiteOverlay=u;g.useSetOverlayExists=v;g.useSetIsOnFeedMedia=w;g.useSetAdditionalRequiredHeight=x;g.useSetParentRenderInstructions=y}),98);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useIsFullscreen(),l=d("VideoPlayerHooks").useLastMuteReason();a=k?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__");var m=function(){b&&b(),g.requestSetIsFullscreen(!k),f===!0&&l!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})};return j.jsx(c("VideoPlayerControlIcon.react"),{icon:k?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:m,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useIsHovering(),l=d("VideoPlayerHooks").usePaused(),m=d("VideoPlayerHooks").useIsMouseIdle(),n=d("VideoPlayerHooks").useVideoPlaybackEnded(),o=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",k&&!m,a);k=i(e===!0);var p=k[0],q=k[1];h(function(){if(!l&&p){var a=c("setTimeout")(function(){q(!1)},j);return function(){c("clearTimeout")(a)}}},[p,l]);b===!0||b===!1?m=b:o?m=!1:f>0||p?m=!0:l?m=g?n:!0:m=!1;return{isControlsVisible:m,onUserInteraction:a}}g["default"]=a}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),l=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.forceVisible,g=a.forceVisibleOnMount,m=a.mutedButtonVisibility,n=a.pictureInPictureControl,o=a.renderExpandControl,p=a.shouldRenderBigPlayButton,q=a.shouldRenderCaptionsControl,r=a.shouldRenderCostreamControl,s=a.shouldRenderExpandSidePanelControl,t=a.shouldRenderLivePauseControl,u=a.shouldRenderModeratorControl,v=a.shouldRenderQuietModeControl,w=a.shouldRenderWatchAndScrollControl,x=a.shouldUnmuteForBigPlayButton,y=a.skipControl,z=a.subOrigin,A=a.video;a=a.videoTahoeUrl;A=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),A);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var B=j();B=B!=null?B.isSilentAtPlayhead:!1;var C=d("VideoPlayerHooks").useMuted(),D=d("VideoPlayerHooks").useIsLive();g=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:f,forceVisibleOnMount:g});var E=g.isControlsVisible;g=g.onUserInteraction;p=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:p!=null?p:f===!1?!1:void 0,shouldUnmute:x});f=p.bigPlayButtonElement;x=p.bigPlayButtonIsVisible;p=E&&!x&&e;E=m===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?p:(C||p||B)&&!x;e=o!=null?o({onUserInteraction:g}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g});m=D?i.jsx(k,{expandControl:e,isControlsVisible:p,isVolumeControlVisible:E,onUserInteraction:g,pictureInPictureControl:n,shouldRenderCaptionsControl:q,shouldRenderCostreamControl:r,shouldRenderExpandSidePanelControl:s,shouldRenderModeratorControl:u,shouldRenderPauseControl:t,shouldRenderQuietModeControl:v,shouldRenderWatchAndScrollControl:w,subOrigin:z,video:A,videoTahoeUrl:a}):i.jsx(l,{expandControl:e,isControlsVisible:p,isVolumeControlVisible:E,onUserInteraction:g,pictureInPictureControl:n,shouldRenderCaptionsControl:q,shouldRenderExpandSidePanelControl:s,shouldRenderQuietModeControl:v,shouldRenderWatchAndScrollControl:w,skipControl:y,subOrigin:z,video:A,videoTahoeUrl:a});return i.jsxs(i.Fragment,{children:[f,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDVideoPlayer.react",["fbt","CometPressable.react","PolarisUA","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={playbackControllerOverlay:{cursor:"x1ypdohk",top:"x13vifvy",$$css:!0}},m=h._("__JHASH__aZ-l6hM8DgT__JHASH__"),n=h._("__JHASH__hqzk9Y8Y4DC__JHASH__");function o(){var a=d("VideoPlayerHooks").useController(),b=d("VideoPlayerHooks").usePaused(),e=d("VideoPlayerHooks").useMuted(),f=k(e);j(function(){f.current&&a.setMuted(!1,"product_initiated")},[a]);return i.jsx(c("CometPressable.react"),{"aria-label":b?m:n,onPress:function(){!b?a.pause("user_initiated"):a.play("user_initiated")},overlayDisabled:!0,role:"button",xstyle:l.playbackControllerOverlay})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.isVideoGif;return a?null:i.jsx(c("VideoPlayerDefaultControls.react"),{forceVisibleOnMount:d("PolarisUA").isTouchDevice()})}function a(a){var b=a.fbid,e=a.hdSrc,f=a.isGif,g=a.originalHeight,h=a.originalWidth;a=a.sdSrc;e=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:e,hdSrcPreferred:!1,isExternalMedia:!1,sdSrc:a});if(e instanceof Error)return null;a=c("computeAspectRatio")(h,g);return i.jsx(c("VideoPlayerX.react"),{implementations:[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:e,typename:"VideoPlayerProgressiveImplementation"}],loopCount:-1,portalingEnabled:!1,subOrigin:"igd_thread",videoFBID:b,videoPixelsAspectRatio:a,children:i.jsxs(c("VideoPlayerSurface.react"),{children:[i.jsx(o,{}),i.jsx(p,{isVideoGif:(h=f)!=null?h:!1})]})},b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWDbXMA",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}f.convertNumbersToXMAIds=a;f.convertNumberToXMAId=b}),66);
__d("IGDDeleteSecureThread",["MAWBridgeSendAndReceive","MAWGating","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnActThreadReady").onActThreadReady(a,c.threadKey,"IGDDeleteSecureThread",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=d("MAWGating").isAppSyncDeleteThreadEnabled()?yield d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatId:b,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}})):d("MAWBridgeSendAndReceive").sendAndReceive("backend","deleteThread",{threadId:b});return a});return function(b,c,d){return a.apply(this,arguments)}}())}g.deleteSecureThread=a}),98);
__d("IGDBroadcastChannelLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IGDBroadcastChannelLogger").__setRef("IGDBroadcastChannelLoggerDeferred");function a(a){h.onReady(function(b){return b.log(a)})}g.log=a}),98);
__d("useIGDBroadcastChannelLogger",["I64","IGDBroadcastChannelLoggerDeferred","Int64Hooks","ReQL","ReQLSuspense","asyncToGeneratorRuntime","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useReStore")(),f=c("usePolarisViewer")(),g=d("I64").of_string((f=f==null?void 0:f.id)!=null?f:"0"),i=h(a);f=d("Int64Hooks").useCallbackInt64(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return a.consistentThreadFbid})):null;d("IGDBroadcastChannelLoggerDeferred").log(babelHelpers["extends"]({},b,{actor_id:d("I64").to_string(g),consistent_thread_fbid:c!=null?d("I64").to_string(c):void 0,ig_thread_id:(b=i)!=null?b:void 0}))});return function(a){return c.apply(this,arguments)}}(),[g,e,i,a]);return f}function h(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("ig_thread_info")).getKeyRange(a)},[b,a],f.id+":62");return(e=e==null?void 0:e.igThreadId)!=null?e:""}g["default"]=a}),98);
__d("IGDBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:"tap",event:"message_options_rendered",parent_surface:"broadcast",source:"message_options_dot_menu",surface:"thread_view"};b={action:"tap",event:"end_chat_dialog_rendered",parent_surface:"broadcast",source:"end_chat_cta_button",surface:"thread_details"};c={action:"tap",event:"thread_end_successful",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};d={action:"tap",event:"thread_end_attempt",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"};e={action:"tap",event:"thread_end_error",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};var g={action:"tap",event:"thread_end_cancel",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},h={action:"view",event:"retrieve_polls_responses_details",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},i={action:"view",event:"poll_responses_render_error",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},j={action:"view",event:"poll_responses_render_successful",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},k={action:"tap",event:"retrieve_message_reactions_details",parent_surface:"instagram",source:"view_reactions_button",surface:"thread_view"},l={action:"view",event:"message_reactions_render_error",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},m={action:"view",event:"message_reactions_render_successful",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},n={action:"view",event:"fetch_seen_active_count_error",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},o={action:"view",event:"fetch_seen_active_count_successful",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},p={action:"tap",event:"thread_create_attempt",parent_surface:"broadcast",source:"create_broadcast_chat_button",surface:"chat_setup"},q={action:"view",event:"thread_create_successful",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"thread_view"},r={action:"view",event:"thread_create_error",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"chat_setup"},s={action:"view",event:"broadcast_chat_option_viewed",parent_surface:"broadcast",source:"omnipicker_view",surface:"dm_creation_omnipicker"},t={action:"tap",event:"creator_nux_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},u={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},v={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"get_started_button",surface:"broadcast_chat_creator_nux"},w={action:"impression",event:"exit_chat_setup_sheet",parent_surface:"broadcast",source:"back_button",surface:"chat_setup"};f.MESSAGE_OPTIONS_RENDERED_SHAPE=a;f.END_CHAT_DIALOG_RENDERED_SHAPE=b;f.THREAD_END_SUCCESSFUL_SHAPE=c;f.THREAD_END_ATTEMPT_SHAPE=d;f.THREAD_END_ERROR_SHAPE=e;f.THREAD_END_CANCEL_SHAPE=g;f.POLL_DETAIL_DIALOG_RENDERED_SHAPE=h;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=i;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=j;f.REACTIONS_FOOTER_BUTTON_CLICK_SHAPE=k;f.REACTIONS_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=l;f.REACTIONS_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=m;f.SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE=n;f.SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE=o;f.CREATE_BROADCAST_CHANNEL_ATTEMPT_SHAPE=p;f.CREATE_BROADCAST_CHANNEL_SUCCESS_SHAPE=q;f.BROADCAST_CHANNEL_SUCCESS_FAILURE_SHAPE=r;f.BROADCAST_CHAT_OPTION_VIEWED_SHAPE=s;f.CREATOR_NUX_SHEET_RENDERED_SHAPE=t;f.CHAT_SETUP_SHEET_RENDERED_SHAPE=u;f.CHAT_SETUP_SHEET_RENDERED_FROM_NUX_SHAPE=v;f.EXIT_CHAT_SETUP_SHEET_SHAPE=w}),66);
__d("LSThreadAttributionStore.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var c;a=(c=(c=h.get(b))!=null?c:a)!=null?c:{_0:"unknown",TAG:1};h["delete"](b);return a}function b(a,b){h.set(a,{_0:b,TAG:1})}function c(a,b){b=d("I64").of_string(b);h.set(a,{_0:b,TAG:0})}function e(a){h.set("",{_0:a,TAG:1})}function f(){var a=h.get("");if(a==null||a.TAG===0)return"unknown";else return a._0}g.getSource=a;g.setSource=b;g.setLSMessagingThreadAttribution=c;g.setSourceForNewThread=e;g.getSourceForNewThread=f}),98);
__d("LSThreadAttributionTypeUtil.bs",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},d("I64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_OVERFLOW);else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="pageResponsivenessCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3});f["default"]=a}),66);
__d("useLSMessagingInitiatingSource",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g["default"]=a}),98);
__d("useLSMessagingSource",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return"chatInThread";default:return"unknown"}}g["default"]=a}),98);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("MWVersion.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("2");g.v2=a}),98);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.type==="sent")return a.value.messageId}function b(a){if(a.type==="sent")return a.value.threadId}function c(a){if(a.type==="sent")return a.value.timestamp}function e(a,b,c){return{type:"sent",value:{messageId:b,threadId:d("I64").of_string(a),timestamp:d("I64").of_string(c)}}}function f(a){return{type:"sent",value:{messageId:a,threadId:d("I64").zero,timestamp:d("I64").zero}}}var h={type:"sent",value:{messageId:"",threadId:d("I64").zero,timestamp:d("I64").zero}};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=h}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","LSMessagingInitiatingSource","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWChatInteraction.bs").get(d("I64").to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;return b!=null&&d("I64").to_int32(b)===c("LSMessagingInitiatingSource").FACEBOOK_INBOX?h(e,a):i(e,a)}function h(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.inboxEntrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get("inbox_init");return a!=null&&d("I64").equal(b,d("I64").of_string(a))?"initInbox":"unknownInbox"}function i(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.entrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);a=a!=null?c("InteractionTracingMetrics").get(a):null;a=(a==null?void 0:(a=a.annotations.string)==null?void 0:a.thread_id)===d("I64").to_string(b);return a?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasSticker;h=h===void 0?!1:h;var i=a.hasVideo;i=i===void 0?!1:i;a=a.hasVoiceClip;a=a===void 0?!1:a;var j=g.None;e?j=g.Image:i?j=g.Video:h?j=g.Sticker:c?j=g.Gif:a?j=g.Audio:d?j=g.HotEmoji:f?j=g.Link:b&&(j=g.File);return j}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MAWEBSwitch","MAWLogMultipleTabs","MWGetOriginalEntrypoint","MWLinkRegex","MWMsgMediaTypeLogUtils","MWVersion.bs","URLMatcher","asyncToGeneratorRuntime","cr:6277","gkx","isStringNullOrEmpty","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply"}),i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){e.hasAttachment;var g=e.hasReply,j=e.hasStoryReply,k=e.hasText;e=babelHelpers.objectWithoutPropertiesLoose(e,["hasAttachment","hasReply","hasStoryReply","hasText"]);var l=h.Send;g?l=h.Reply:j&&(l=h.StoryReply);g=d("MWMsgMediaTypeLogUtils").getAttachmentType(e);j=k&&(!g||g===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;e=!1;b("cr:6277")!=null&&(e=(yield b("cr:6277").isCutoverThreadKey(a.threadKey)));return{bool:{is_cutover:e,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_pdb_enabled:Boolean(c("gkx")("6543")),is_secure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{action_type:l,attachment_type:g,message_type:j,mw_version:d("I64").to_string(d("MWVersion.bs").v2),original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey,f),thread_id:d("I64").to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?d("I64").to_string(a.threadSubtype):null,thread_type:d("I64").to_string(a.threadType)}}});return j.apply(this,arguments)}function e(a,e,f,g){var j=e.hasFile;j=j===void 0?!1:j;var k=e.hasGif;k=k===void 0?!1:k;var l=e.hasHotEmoji;l=l===void 0?!1:l;var m=e.hasImage;m=m===void 0?!1:m;var n=e.hasLinks;n=n===void 0?!1:n;var o=e.hasReply;o=o===void 0?!1:o;var p=e.hasSticker;p=p===void 0?!1:p;var q=e.hasStoryReply;q=q===void 0?!1:q;var r=e.hasText;r=r===void 0?!1:r;var s=e.hasVideo;s=s===void 0?!1:s;e=e.hasVoiceClip;e=e===void 0?!1:e;var t=h.Send;o?t=h.Reply:q&&(t=h.StoryReply);o=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:j,hasGif:k,hasHotEmoji:l,hasImage:m,hasLinks:n,hasSticker:p,hasVideo:s,hasVoiceClip:e});q=r&&(!o||o===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;d("MAWLogMultipleTabs").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",o);a.addAnnotation("action_type",t);a.addAnnotation("message_type",q);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(f.threadKey,g));a.addAnnotation("thread_id",d("I64").to_string(f.threadKey));a.addAnnotation("thread_type",d("I64").to_string(f.threadType));f.threadSubtype!=null&&a.addAnnotation("thread_subtype",d("I64").to_string(f.threadSubtype));b("cr:6277")!=null&&c("promiseDone")(b("cr:6277").isCutoverThreadKey(f.threadKey),function(b){a.addAnnotationBoolean("is_cutover",b)});a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isSecure(f.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb_enabled",Boolean(c("gkx")("6543")))}function f(a,b,e,f,g,h,i){var j=!c("isStringNullOrEmpty")(a),k=!1;a!=null&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0&&(k=!0);a=!1;h=h!=null;h?a=!0:g!=null&&(a=!0);var l=!1,m=!1,n=!1;if(i!=null&&i.length>0){a=!0;for(i of i){var o=i.mimeType;o.indexOf("image")!==-1&&(l=!0);o.indexOf("video")!==-1&&(m=!0);o.indexOf("application")!==-1&&(n=!0)}}o=b!=null;i=e!=null;b=e!=null;e=f!=null;f=!e&&g!=null;return{hasAttachment:a,hasFile:n,hasGif:f,hasHotEmoji:o,hasImage:l,hasLinks:k,hasReply:i,hasSticker:e,hasStoryReply:b,hasText:j,hasVideo:m,hasVoiceClip:h}}g.ActionType=h;g.MsgType=i;g.getSharedMetadataForQPLUserFlow=a;g.addSharedMetadataForInteractionTrace=e;g.getMessageTypeParams=f}),98);
__d("MAWAttachmentBlob.react",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","Promise","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function j(a){var e=h.get(a);if(e!=null)if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e.value);else return e.value;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10))}).then(function(c){h.set(a,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(d){h.set(a,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:d});return b("Promise").resolve()});h.set(a,{TAG:0,value:e});return c("LSSuspense").throwErrorOrPromise(e)}function a(a){if(a!=null&&a.hasMedia!==!1)return j(a.attachmentFbid);else if(a!=null&&a.hasXma!==!1)return k(a,"preview");else return""}function k(a,e){if(a==null)return"";var f=i.get(a.attachmentFbid+e);if(f!=null)if(f.TAG===0)return c("LSSuspense").throwErrorOrPromise(f.value);else return f.value;f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){i.set(a.attachmentFbid+e,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(c){i.set(a.attachmentFbid+e,{TAG:1,value:""});return b("Promise").resolve()});i.set(a.attachmentFbid+e,{TAG:0,value:f});return c("LSSuspense").throwErrorOrPromise(f)}g.getAttachmentBlobNonOptional=j;g.getAttachmentBlob=a;g.getInfoUrlXMA=k}),98);
__d("PolarisDirectPageMetadata.react",["PolarisPageMetadata.react","react","usePolarisDirectFeatures"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.id;a=a.title;var d=c("usePolarisDirectFeatures")();d=d.directTitle;return h.jsx(c("PolarisPageMetadata.react"),{base:d,id:b,title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAPIRetrieveUserCallSettings",["PolarisInstapi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("PolarisInstapi").apiGet("/api/v1/video_call/retrieve_user_call_settings/"));return a.data});return h.apply(this,arguments)}g.retrieveUserCallSettings=a}),98);
__d("PolarisIGCoreMediaPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"m18.509 14.757-4.285-2.474a.857.857 0 0 0-1.286.743v4.948a.857.857 0 0 0 1.286.742l4.285-2.474a.857.857 0 0 0 0-1.485ZM5.225 3.977a1.25 1.25 0 1 0 1.25 1.25 1.25 1.25 0 0 0-1.25-1.25ZM19.5 7.5h-3v-3a4.004 4.004 0 0 0-4-4h-8a4.004 4.004 0 0 0-4 4v8a4.004 4.004 0 0 0 4 4h3v3a4.004 4.004 0 0 0 4 4h8a4.004 4.004 0 0 0 4-4v-8a4.004 4.004 0 0 0-4-4Zm-12 7h-3a1.997 1.997 0 0 1-1.882-1.349l2.607-2.607L7.5 12.819Zm.23-4.28L6.41 8.9a1.679 1.679 0 0 0-2.37 0L2.5 10.44V4.5a2.003 2.003 0 0 1 2-2h8a2.003 2.003 0 0 1 2 2v3h-3a3.992 3.992 0 0 0-3.77 2.72ZM21.5 19.5a2.003 2.003 0 0 1-2 2h-8a2.003 2.003 0 0 1-2-2v-8a2.003 2.003 0 0 1 2-2h8a2.003 2.003 0 0 1 2 2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15});f["default"]=a}),66);
__d("MessagePowerUp",[],(function(a,b,c,d,e,f){a=Object.freeze({AVATAR_LOVE:1e3,AVATAR_ANGER:1001,AVATAR_LAUGH:1002,AVATAR_CRY:1003,NONE:0,LOVE:1,GIFT_WRAP:2,CELEBRATION:3,FIRE:4});f["default"]=a}),66);
__d("LSMediaUrl.bs",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.imageUrlFallback):a.imageUrl}function h(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList1):a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList2):a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList3):a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.headerImageUrlFallback):a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback1);else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback2):a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback3):a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}h={faviconUrl:h,headerImageUrl:l,imageUrl:f,listItemContactUrlList1:i,listItemContactUrlList2:j,listItemContactUrlList3:k,listItemProfilePictureUrl1:m,listItemProfilePictureUrl2:n,listItemProfilePictureUrl3:o,playableUrl:e,previewUrl:a,previewUrlLarge:b};function p(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function q(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function r(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function s(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}l={faviconUrl:s,playableUrl:r,previewUrl:p,previewUrlLarge:q};g.Attachment=h;g.AttachmentItem=l}),98);/*FB_PKG_DELIM*/
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){return h.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.urls.map(function(a){return h.jsx("li",{className:"x1yu6fn4",children:h.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:h.jsx(c("BaseImage.react"),{src:a,xstyle:i.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=i(function(){return b.map(j).filter(Boolean)},[b]);return h.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:h.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),h.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:h.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.bs",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=h.jsx("div",{className:"x1ye3gou",children:h.jsx(c("MWChatFileIconV2.react"),{})});b=b!=null?b.previewUrl:void 0;if(b==null)return f;if(!a)return f;f=(a=d)!=null?a:"";return h.jsx(c("CometImageCover.react"),{alt:f,src:b,style:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return h.jsx(c("CometPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return d("I64").to_string(b())}var h=c("gkx")("1016");function i(a,b){if(h){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?d("I64").to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:d("I64").to_string(b.thread.threadKey),thread_type:d("I64").to_int32(b.thread.threadType)}})}}function e(a){return i("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("MWFilePressableHooks.bs",["MWFileViewerLogger","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadId,a.messageId).take(1)},[b,a],f.id+":26")}function j(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadId).take(1)},[b,a],f.id+":37")}function a(a,b,c,e,f){var g=i(a),k=j(a);return h(function(h){c==null?void 0:c(h);h={attachment:g,attachmentID:b,entryPoint:e,messageID:a,sessionId:f,thread:k};return d("MWFileViewerLogger").logFileViewerDirectDownload(h)},[k,b,g,f,e,a,c])}g.useOnPressHandler=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFilePressableHooks.bs","MWFileViewerLogger","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,j=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&j!=null?h.jsx(i,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:j,xstyle:a}):h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:j,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function i(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,i=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();i=d("MWFilePressableHooks.bs").useOnPressHandler(i,b,g,f,k);return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:i,url:j,xstyle:a})})}i.displayName=i.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetch","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var g,h=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(h.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetch")(a,e,d("LSIntEnum").ofNumber(14),b,c("pageID"),c("LSFactory")(f))},"readwrite"))},[h,a,e,b]);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("community_members")).getKeyRange(a,e,d("LSIntEnum").ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[h,a,e],f.id+":53"))!=null?g:!1}g["default"]=a}),98);
__d("MWInboxInfoSharedContentQPLLogger.bs",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l}),98);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){a=a.children;var b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext(),e=b.openReactionsMenu,f=i(function(){return e.current()},[e]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var g=b.replyToMessage,k=i(function(){return g.current()},[g]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var l=b.forwardMessage,m=i(function(){return l.current()},[l]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var n=b.removeMessage,o=i(function(){return n.current()},[n]);b=j(function(){var a=[],b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",k);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",m);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);a.push(b);return a},[f,k,m,o]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWV2TombstonedMessage.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderTop:"x1n2xptk",borderEnd:"xkbpzyx",borderBottom:"xdppsyt",borderStart:"x1rr5fae",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.ariaLabel,d=a.children,e=a.connectTop,f=a.connectBottom;a=(a=a.xstyle)!=null?a:!1;e=e!=null?e:!1;f=f!=null?f:!1;return h.jsx("div",{"aria-label":b,className:c("stylex")(i.root,e?i.connectTop:!1,f?i.connectBottom:!1,a),children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return i.jsxs("div",{className:c("stylex")(a?j.withRepliedMessage:j.withBackground),children:[a?null:i.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),i.jsx(c("MWV2TombstonedMessage.bs"),{xstyle:j.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement;function a(){}var i=e(a);function b(a){var b=a.children;a=a.value;return h(i.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.context=i;g.MWV2MessageListIsRowModalContextProvider=b}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.timestamp;var b=d("MWTheme.react").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:c("stylex")(i.root,d("MWTheme.react").isGradient(b)&&i.mask),"data-scope":"date_break",children:h.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagement","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.message,e=a.shouldMute,g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":37");a=i(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagement")(b.threadKey,a,f,c("LSFactory")(d))},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?h.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscription","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=c("useReStore")(),g=d("I64").to_string(b.threadKey),j=i(function(){var a=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscription")(d("I64").of_string(g),a,c("LSFactory")(b))},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?h.jsx(c("MWXLink.react"),{onClick:function(){return j()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?h.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:h.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);h=function(){return a};return a}var i=d("react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(function(a){return d("I64").to_string(a.jid)})},[e,b.threadKey],f.id+":45");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(h(),d("I64").to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":70");g=g==null?void 0:g.title;a=g!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),k=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:d("I64").neg_one)},[g,e],f.id+":58");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},l=c("useMWXLazyDialog")(j),m=l[0];l=function(){return m(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?i.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:k}):i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("MWXLink.react"),{onClick:l,target:"_blank",children:a})}):null;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),i.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(h);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return h.jsx(c("CometPressable.react"),{onPress:function(){return a()},children:h.jsx(c("CometTextWithEntities.react"),{text:f})})};return h.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:d("I64").neg_one)},[g,e],f.id+":40");var i=e.adminMsgCtaTitle,j=a==null?void 0:a.targetId;a=i!=null&&a!=null&&j!=null?h.jsx("div",{className:"x1rg5ohu x1s688f",children:h.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:j,threadKey:e.threadKey,title:i})}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":37");var g=c("useMWXLazyDialog")(i),j=g[0];g=a==null?void 0:a.title;a=g!=null?h.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:d("I64").to_string(b.threadKey)}})},children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":36");var g=c("useMWXLazyDialog")(i),j=g[0];g=a==null?void 0:a.title;a=g!=null?h.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return h.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=c("useReStore")();a=c("useMWXLazyDialog")(i);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":38");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?h.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":30");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?h.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:565","cr:625","cr:7124","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function j(a){if(a!=null)return a.isAdminMessage;else return!1}function k(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return h.jsx("div",{className:c("stylex")(i.container,j(a)?i.containerThatProceedsAdminMessage:!1,j(d)?i.containerThatPrecedesAdminMessage:!1),children:h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.message;var d=b("cr:565")!=null&&b("cr:625")!=null?b("cr:565").buildLocalizedString([],[],b("cr:625").CURRENT_USER_ADDED_DEVICE):"";d=a.text===d&&b("cr:7124")!=null?h.jsx(b("cr:7124"),{}):null;var e=a.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return h.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:a});else if(e==="admin_msg_web_url")return h.jsx(c("MWV2AdminMsgWebUrl.react"),{message:a});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return h.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:a});else if(e==="admin_notification_messages_opt_out")return h.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:a});else if(e==="admin_notification_messages_opt_in")return h.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:a});else if(e==="admin_msg_thread_level_cutover")return h.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:a});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return h.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:a});else if(e==="xmat_instant_game_bot_message_subscribe")return h.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return h.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return h.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:a});else if(e==="xmat_instant_game_custom_update_message_mute")return h.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return h.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return h.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:a});else return h.jsxs("div",{children:[h.jsx(c("MWAdminTextLayout.react"),{message:a}),d]});return h.jsxs("div",{children:[h.jsx(c("MWAdminTextLayout.react"),{message:a}),d]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return h.jsx(k,{nextMessage:d,prevMessage:a,children:h.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h.jsx(l,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=j;g.MWV2ChatAdminMessageContainer=k;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.bs",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(b!=null)return d("I64").compare(d("I64").abs(d("I64").sub(a.timestampMs,b.timestampMs)),d("I64").of_string("900000"))>0;else return!0}function j(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(i(e,a))return h.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:h.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:a,children:h.jsx(c("MWPDateBreak.react"),{timestamp:d("I64").to_float(e.timestampMs)})})})});else return null}function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return h.jsx(j,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","ix","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXRow.react","MWXRowItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(){return h(function(){})}g.useStopHoveringRef=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MessengerWebUXLogger","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return i.jsxs(i.Fragment,{children:[b&&i.jsx("span",{className:c("stylex")(a),children:i.jsx(c("CometMiddot.react"),{})}),i.jsx("span",{ref:d,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=j(!1),d=b[0],e=b[1],f=i(a);h(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?k.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:k.unmountAnimation}}g["default"]=a}),98);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","I64","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MessagingAttachmentType","cr:956","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,i=a.children,j=a.linkProps_,k=a.onHoverIn,l=a.onPress,m=a.overlayDisabled;m=m===void 0?!1:m;var n=a.testid;n=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=c("gkx")("1581")&&a(d("LSIntEnum").ofNumber(46));var o=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)),p=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)),q=o?"Image":p?"Video":"Media";return b("cr:956")!=null&&(o||p)&&a?h.jsx(b("cr:956"),{ariaLabel:f,linkProps:j,mediaType:q,onPress:l,overlayDisabled:m,testid:void 0,type:p?"video":"image",url:d("LSMediaUrl.bs").Attachment.previewUrl(g),xstyle:n,children:i}):h.jsx(c("CometPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:j,onHoverIn:k,onPress:function(){return l()},overlayDisabled:m,testid:void 0,xstyle:n,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.table("media_staging")).getKeyRange(b):d("ReQL").empty()},[b],f.id+":26");return a!=null&&a.isSent?h.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("MWV2ChatFileV2.bs",["fbt","ConstUriUtils","I64","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.bs","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger.bs","MWV2ChatAttachmentParserUtils.bs","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=j(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=j(function(){var a=b.filesize!=null?d("I64").to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=j(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrl.bs").Attachment.playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils.bs").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);a={children:i.jsxs("div",{className:c("stylex")(k.root,!1),children:[i.jsx(c("MWChatFilePreview.bs"),{attachment:b,withPreview:!1}),i.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[i.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),i.jsx("div",{className:"x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}),entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent(d("I64").to_string(b.threadKey),b.messageId,d("I64").to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread("files")}};f=b.attachmentFbid;f!=null&&(a.attachmentID=f);g!=null&&(a.url=g.toString());return i.jsx(c("MWFilePressable.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.bs","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useLayoutEffect;function a(){var a=h(d("MWV2MessageRowIsRowFocusedContext.bs").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var j=c("usePrevious")(g);i(function(){if(j!=null){b===!0&&j>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,j,g]);return e}g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function k(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=i(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=h.jsx("img",{alt:b,className:c("stylex")(j.image,d==null?!1:j.imageFill),src:a,style:f});if(d!=null)return h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}function l(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;c=(a=c)!=null?a:null;a=i(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var j=i(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return h.jsx("div",{className:"x193iq5w",children:h.jsx("div",{style:j,children:h.jsx("div",{className:d,style:a,children:c})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,i=a.src;a=a.width;var j=a!=null&&e!=null?a/e:void 0;return h.jsxs(l,{aspectRatio:j,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[h.jsx(k,{alt:b,aspectRatio:j,maxHeight:f,src:i}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=l;g.MWPStableImage=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return h.jsx("div",{className:c("stylex")(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp(d("I64").to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetch","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var g=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("I64").is_zero(a)||(yield g.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetch")(a,e,d("LSIntEnum").ofNumber(14),void 0,c("pageID"),c("LSFactory")(b))},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[g,a,e]);var h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID"))},[g,a,e],f.id+":55"),i=(h==null?void 0:h.isAdmin)==null?!1:h.isAdmin;h=(h==null?void 0:h.isModerator)==null?!1:h.isModerator;return{isAdmin:i,isModerator:h}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(a){var b=a.fbGroupId,d=a.senderId,e=a.shouldRenderSenderName;a=a.threadKey;var f=c("useMWPIsSenderAdMod")(b,d),g=f.isAdmin;f=f.isModerator;b=c("useMWCMIsSenderChatHost")(b,a,d);d=h._("__JHASH__l4xCpI5VHpV__JHASH__");var j=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=i.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return i.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return i.jsx(i.Fragment,{children:e&&(g||f||b)&&i.jsxs(i.Fragment,{children:[i.jsx(c("CometMiddot.react"),{}),i.jsx("span",{"data-testid":void 0,children:g?d:f?j:a})]})})};function a(a){var b=a.fbGroupId,c=a.message;a=a.shouldRenderSenderName;return b==null||d("I64").is_zero(b)?null:i.jsx(j,{fbGroupId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","LSIntEnum","MWCMBotIcons.react","MWEditedEyebrow.react","MWGroupUpdatesVerifiedIcon.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",position:"x1n2onr6",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}},k=function(a){var b=a.children;a=a.outgoing;return i.jsx("div",{className:c("stylex")(j.container,a?j.alignEnd:j.alignStart),children:b})};function a(a){var b=a.fbGroupId,e=a.message,f=a.outgoing,g=a.renderPinnedText,l=a.renderTextWrapper,m=a.shouldRenderSenderName;a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];var n=d("MWPContactContext.react").useMWPContactStableContext(),o=n.contact;n=n.nickname;var p=d("Actor").useActor();p=p[0];var q=d("MWPEditMessageUtil").isEditedMessage(e),r=o?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(77),o):!1,s=o?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(84),o):!1,t=c("useMWPIsMessagePinned")(e);o=c("usePinnedTextAnimation")(t);var u=o.mountAnimation,v=o.unmountAnimation;o=m||t||q;n=(n=n)!=null?n:h._("__JHASH__4LwiFWKMkVy__JHASH__");p=p===d("I64").to_string(e.senderId);p=p?n.toString():a==null?void 0:a.toString();n=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!o)return i.jsx(c("MWPAccessibleEyebrowsText.react"),{message:e,outgoing:f});a=function(a){return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsx(k,{outgoing:f,children:l(i.jsxs(i.Fragment,{children:[m&&a!=null&&i.jsx("span",{"data-testid":void 0,children:a}),i.jsx(c("MWPMessageAdModOrHostText.react"),{fbGroupId:b,message:e,shouldRenderSenderName:m}),t&&i.jsx("span",{className:c("stylex")(t?u:v),children:g(e,m)}),q&&i.jsx(c("MWEditedEyebrow.react"),{hasSeparator:m&&a!=null,xstyle:j.separator}),r===!0?i.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:i.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,s&&i.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:i.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})})]}))})})};return e.takedownState?a(n.toString()):a(p)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function j(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.fbGroupId,f=a.isAnyCMThread;f=f===void 0?!1:f;var g=a.isFirstMessageInGroup,k=a.isGroupThread,l=a.message,m=a.outgoing,n=a.renderForwardSnippet,o=a.renderPinnedText,p=a.renderReplySnippet,q=a.renderSenderName,r=a.renderTextWrapper;a=a.renderTimestamp;var s=c("MWPMessageIsReply")(l);n=j(l,n,p,m);p=d("MWPContactContext.react").useMWPContactStableContext();p=p.nickname;p=g&&p!=null&&f;f=b||k&&g&&!m&&!s||p;n!=null?b=h.jsx("div",{className:c("stylex")(i.header,m?i.alignEnd:!1),role:"none",children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):q!=null?b=f?q(l):h.jsx(c("MWPAccessibleEyebrowsText.react"),{message:l,outgoing:m}):b=h.jsx(c("MWPMessageEyebrows.react"),{fbGroupId:e,message:l,outgoing:m,renderPinnedText:o,renderTextWrapper:r,shouldRenderSenderName:f});k=n!=null?i.timestampWithSnippet:i.timestamp;s=a!=null?h.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:l,renderText:r,renderTimestamp:a,xstyle:k}):null;if(g)return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsxs(c("BaseRow.react"),{direction:m?"backward":"forward",children:[h.jsx(c("BaseRowItem.react"),{children:h.jsx(c("BaseHeading.react"),{children:b})}),s!=null?h.jsx(c("BaseRowItem.react"),{children:h.jsx(c("BaseHeading.react"),{children:s})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:d("I64").zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(function(a,b){return d("I64").compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,j=a.renderEmphasisRing,k=a.renderEphemeralMediaAttachment,l=a.renderFileAttachment,m=a.renderImageAttachment,n=a.renderImageGrid,o=a.renderStickerAttachment,p=a.renderUnsupportedAttachment,q=a.renderUnsupportedMultipleAttachments,r=a.renderVideoAttachment,s=a.renderWrapper,t=a.renderXMAAttachment;a=a.xmaLayout;var u=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,v=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(v.length>0?v[0].attachmentCta1Id:null);var w=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();w=c("gkx")("1581")&&w(d("LSIntEnum").ofNumber(46));if(f.replyType&&d("I64").equal(f.replyType,d("LSIntEnum").ofNumber(c("EntMessageReplyType").BUMP)))return null;if(v.length!==1)v.length>1&&v.every(i)?w?w=v.map(function(a,b){return h.jsxs(h.Fragment,{children:[b!==0?h.jsx(c("MWVerticalRhythm"),{height:2}):null,h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:j,xmaLayout:u,children:m(a,b!==0,b!==v.length-1)})]},a.attachmentFbid)}):w=h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:j,xmaLayout:u,children:n(v)}):w=q!=null?q(v):void 0;else{n=v[0];q=n.attachmentType;q=!d("I64").equal(q,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO));var x=n.attachmentType;w=h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:q,renderEmphasisRing:j,xmaLayout:u,children:d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?m(n,e,b):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))?r(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))?g(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))?o(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?t(n,a):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))?l(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k(n):p(n)})}return w!=null?s!=null?s(w):w:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function j(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,c=a.children,e=a.modal,f=a.setModal,g=a.wrapX;g=g===void 0?!1:g;a=a.wrapY;a=a===void 0?!1:a;var k=i(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(j):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return h.jsx(d("MWV2MessageListIsRowModalContext.bs").MWV2MessageListIsRowModalContextProvider,{value:f,children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.bs").scopeQuery,stopOnFocusWithinPropagation:!1,children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[0],{allowModifiers:!0,disabled:e!=="",onNavigate:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:h.jsx("div",{"aria-label":b,className:"x63ui4o x18i3tt1 x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:c})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.forwardRef;var j=b.useCallback,k=b.useContext,l=b.useId,m=b.useMemo,n=b.useRef,o={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0}};function p(){}function q(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var r=h._("__JHASH__U5V4JiyTDSI__JHASH__"),s=h._("__JHASH__GoIrDg5lzef__JHASH__"),t=h._("__JHASH__ctLNxPXr8we__JHASH__"),u=e(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var j=a[1];return a[0]({children:i.jsx(c("CometPressable.react"),{"aria-label":g,focusable:f,onPress:function(){return h()},ref:b,xstyle:[j,o.enterModalButton,e],children:i.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4})})})});function a(a){var b=a.children,e=a.domElementRef,f=a.isDialogOpened,g=a.isFocused,v=a.isModal,w=a.message,x=a.messageDomID,y=a.nextMessage,z=a.outgoing,A=a.prevMessage,B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=k(d("MWV2MessageListIsRowModalContext.bs").context),G=n(null),H=l(),I=j(function(){F(function(){return w.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,w.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date(d("I64").to_float(w.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];z=z?h._("__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var M=l(),N=i.jsx(c("CometScreenReaderText.react"),{id:M,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",z)])}),O=l(),P=n(null),Q=c("gkx")("3598"),R=n(p),S=n(p),T=n(p),U=n(p);L=m(function(){return{isDialogOpened:f,setFocused:B,setIsDialogOpened:D}},[B,D,f]);K=m(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(d("MWV2MessageRowIsRowFocusedContext.bs").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:i.jsx(d("MWV2MessageRowActionsContext.bs").MWV2MessageRowActionsContextProvider,{value:K,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:w,nextMessage:y,prevMessage:A,role:"row",setHovered:C,stopHoveringRef:E,theme:a,xstyle:o.row,children:i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:i.jsx(c("FocusWithinHandler.react"),{onFocusChange:function(a){if(g!==a){B(function(){return a});return F(function(){if((a||f)&&v)return w.messageId;else return""})}},onFocusVisibleChange:function(b){g!==b&&B(function(){return b});var a=P.current;if(b&&!(a==null)){c("setTimeout")(function(){try{return a.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:i.jsx("div",{className:c("stylex")(o.cell,v?o.cellModal:!1,e?o.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,ref:G,role:"gridcell",tabIndex:0,children:i.jsx(c("FocusInertRegion.react"),{disabled:v,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:v?i.jsxs(i.Fragment,{children:[i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:q,children:i.jsxs("div",{"aria-describedby":x,"aria-labelledby":M,id:O,role:"dialog",children:[b,v?N:null,i.jsx(u,{ariaLabel:s,focusable:!0,onPress:J,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:o.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(i.jsx("div",{"aria-owns":O}),document.body)]}):b})})});return i.jsxs(i.Fragment,{children:[i.jsx(d("MWMessageCellFocusTable.bs").keyCommands,{onEnter:v?void 0:I,onEscape:v?J:void 0,onSpace:v?void 0:I,children:Q?i.jsx(d("MWMessageCellKeyCommands.bs").keyCommands,{message:w,children:a}):a}),i.jsx("div",{role:"gridcell",children:i.jsx(u,{ariaLabel:v?h._("__JHASH__C-7ahaHTUI7__JHASH__"):r,focusable:v,onPress:I,ref:P,text:v?h._("__JHASH__C-7ahaHTUI7__JHASH__"):t,xstyle:e&&!v?o.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})})]})}})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).take(8)},[e,a.threadKey],f.id+":29");return i(function(){var c=a.threadName;if(c!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",c)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDXMAPostModal.react",["CometPlaceholder.react","I64","deferredLoadComponent","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectMessagePostModal").__setRef("IGDXMAPostModal.react"));function k(a,b){return{carousel_share_child_media_id:"",client_context:"",code:b,id:d("I64").to_string(a),media_type:0,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}function a(a){var b=a.children,d=a.shortCode;a=a.targetId;var e=i(!1),f=e[0],g=e[1];return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1277o0a",onClick:function(){return g(!0)},role:"none",children:b}),f?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{media:k(a,d),modalEntryPath:"/direct/t",onClose:function(){return g(!1)},onOpen:c("emptyFunction")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemPressable.react",["IGDXMAAttachmentItemLink.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","IGDXMAPostModal.react","PolarisFastLink.react","PolarisLinkBuilder","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link:{display:"x1lliihq",":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachmentItem,e=a.children,f=a.isPrivatePost;f=f===void 0?!1:f;var g=a.isReply;g=g===void 0?!1:g;var j=a.isXMAExpired;j=j===void 0?!1:j;a.message;a=a.xstyle;var k=d("IGDXMAAttachmentItemUtil").useDefaultCtaInternal(b),l=d("useIGDDeviceType").useIGDDeviceType().isMobile;if(k==null||g||j)return h.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:b,children:e});g=k.actionUrl;if(g==null||!d("IGDXMAAttachmentItemUtil").isAttachmentCTAHrefValid(g))return h.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:b,children:e});j=k.nativeUrl;var m=k.targetId,n=k.type_,o=d("IGDXMAAttachmentItemUtil").getShortCodeFromMediaDeeplinkUrl(j);if(m!=null&&o!=null&&n==="igd_web_post_share")if(!l&&!f)return h.jsx(c("IGDXMAPostModal.react"),{shortCode:o,targetId:m,children:e});else return h.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildMediaLink(o),target:"_blank",xstyle:[i.link,a],children:e});return h.jsx(c("IGDXMAAttachmentItemLink.react"),{attachmentEnableExtensions:k.enableExtensions,attachmentItem:b,attachmentType:k.type_,href:g,nativeUrl:j,xstyle:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAWPrivatePostXMAPlaceholder.react",["fbt","I64","IGDSBox.react","IGDSText.react","IGDXMAAttachmentItemPressable.react","LSIntEnum","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWPSolidMessageBubble.react","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__AH2pn-NjT2Y__JHASH__");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.connectBottom,g=a.connectTop,k=a.message,l=a.outgoing,m=a.previewImageDecorationType;a=a.userName;var n;m!=null&&d("I64").equal(m,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").REEL))?n=h._("__JHASH___amBAhJsxac__JHASH__"):m!=null&&d("I64").equal(m,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))?n=h._("__JHASH__FDPMb9x7B17__JHASH__"):n=h._("__JHASH__GfmoFQ0tEau__JHASH__");return i.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:b,attachmentItem:e,renderPressable:function(a){return i.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:e,isPrivatePost:!0,message:k,children:a})},children:[g?i.jsx(c("IGDSBox.react"),{height:2,width:"100%"}):null,i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:f,connectTop:g,outgoing:l,style:{backgroundColor:"var(--comment-background)"},children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",padding:2,children:[i.jsx(c("IGDSBox.react"),{marginEnd:4,children:i.jsx(c("PolarisIGCoreIcon"),{alt:j,icon:d("PolarisAssetManagerGlyphMapping").ICONS.APP_ICON_CIRCULAR_34})}),i.jsxs(c("IGDSBox.react"),{children:[i.jsx(c("IGDSBox.react"),{marginBottom:2,children:i.jsx(c("IGDSText.react"),{weight:"semibold",children:a})}),i.jsx(c("IGDSText.react"),{color:"secondaryText",children:n})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioWaveformUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length>b){var c=a.length/b,d=[];for(var e=0;e<b;e++){var f=e*c,g=(e+1)*c,h=0,i=0;for(var j=Math.ceil(f);j<Math.floor(g);j++)j<a.length&&(i++,h+=a[j]);i+=f-Math.floor(f);h+=(f-Math.floor(f))*a[Math.floor(f)];Math.ceil(g)<a.length&&(i+=Math.ceil(g)-g,h+=(Math.ceil(g)-g)*a[Math.ceil(g)]);i>0&&d.push(h/i)}return d}else return a}function b(a){var b=1,c=0;for(var d=0;d<a.length;d++)b=Math.min(a[d],b),c=Math.max(a[d],c);return b===c?a:a.map(function(a){return-b/(c-b)+1/(c-b)*a})}f.getReducedAudioWaveformDimensions=a;f.getLinearlyInterpolatedValues=b}),66);
__d("MWPAudioWaveform.bs",["MWPAudioWaveformUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.height,c=a.waveformData,e=a.waveformId;a=a.width;var f=6,g=a/f,j=b;a=i(function(){return d("MWPAudioWaveformUtils").getLinearlyInterpolatedValues(d("MWPAudioWaveformUtils").getReducedAudioWaveformDimensions(c.split(",").map(function(a){return Number(a)}),g))},[g,e]);return h.jsx("svg",{className:"xqtp20y x10l6tqk xnalus7",children:h.jsx("defs",{children:h.jsx("clipPath",{id:e,children:a.map(function(a,c){a=Math.max(j*a,4);return h.jsx("rect",{height:a.toString(),rx:"2",width:3..toString(),x:Math.imul(c,f).toString(),y:((b/2|0)-((a|0)/2|0)|0).toString()},c.toString())})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioWaveformPlayer.react",["CometProgressRingIndeterminate.react","I64","MWPAudioPlayer.react","MWPAudioWaveform.bs","MWPColorUtils","emptyFunction","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={container:{alignItems:"x6s0dn4",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",height:"x10wjd1d",paddingTop:"x1yrsyyn",paddingEnd:"x4uap5",paddingBottom:"x10b6aqq",paddingStart:"xkhd6sd",width:"x1hfn5x7",$$css:!0},progressDefault:{height:"x5yr21d",width:"xh8yej3",$$css:!0},progressDefaultIncoming:{backgroundColor:"x1bhxuv2",$$css:!0},progressDefaultOutgoing:{backgroundColor:"xz3rzyy",opacity:"xuzhngd",$$css:!0},progressPlayedIncoming:{backgroundColor:"x124kx0k",$$css:!0},progressPlayedOutgoing:{backgroundColor:"xz3rzyy",$$css:!0},progressSeek:{transform:"x5i6ehr",$$css:!0},progressSeekIncoming:{backgroundColor:"xdbldzf",$$css:!0},progressSeekOutgoing:{backgroundColor:"xdbldzf",$$css:!0}};function k(a){a=a.outgoing;return h.jsx("div",{className:c("stylex")(j.progressDefault,a?j.progressDefaultOutgoing:j.progressDefaultIncoming)})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.color,c=a.isLoading;a.isPaused;var e=a.isPlaying;a=a.outgoing;if(c)return null;return e?h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:a?b:void 0}):h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:a?b:void 0})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.getPlayableUrl,f=a.outgoing;a=a.waveformData;var g=c("useMWPThreadTheme")();g=g.threadTheme;var m=d("MWPColorUtils").int64ToHex(g.fallbackColor),n=i(),o=b.playableDurationMs;o=o!=null?d("I64").to_float(o)/1e3:0;e=d("MWPAudioPlayer.react").useControlCenter(e(b),void 0,c("emptyFunction"),!0,o);var p=e[0],q=e[1],r=e[2],s=e[3];e=e[4];var t=p===d("MWPAudioPlayer.react").State.PLAYING,u=p===d("MWPAudioPlayer.react").State.PAUSED;p=p===d("MWPAudioPlayer.react").State.LOADING;var v=u||t,w=d("MWPAudioPlayer.react").useResetHighlightProgress(n);b="waveform-clip-path-"+b.messageId;var x=p?0:Math.max(o-q,0),y=d("MWPAudioPlayer.react").usePlaybackButtonContainerStyle();return h.jsx(d("MWPAudioPlayer.react").KeyCommands,{audioEl:r,children:h.jsxs("div",{className:"x6s0dn4 x78zum5 x1r8uery x1iyjqo2 xs83m0k x10wjd1d x1yrsyyn x4uap5 x10b6aqq xkhd6sd x1hfn5x7",style:{backgroundColor:f?d("MWPColorUtils").int64ToHex(g.fallbackColor):"rgb(var(--ig-highlight-background))",borderRadius:18},children:[h.jsx(c("MWPAudioWaveform.bs"),{height:50,waveformData:a,waveformId:b,width:171}),p?h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.pressable),onMouseMove:v?w:void 0,style:y,children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):h.jsx("div",{onMouseMove:v?w:void 0,style:y,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{icon:h.jsx(l,{color:m,isLoading:p,isPaused:u,isPlaying:t,outgoing:f}),label:p||u?d("MWPAudioPlayer.react").playLabel:d("MWPAudioPlayer.react").pauseLabel,onPress:p?c("emptyFunction"):s})}),h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:r,hasScrubber:v,scrubberRef:n,style:{backgroundColor:f?d("MWPColorUtils").int64ToHex(g.fallbackColor):"rgb(var(--ig-highlight-background))",height:"100%"},testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.PLAYER,children:h.jsxs("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.common),style:{clipPath:"url(#"+b+")"},children:[h.jsx(k,{outgoing:f}),h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:e,xstyle:f?j.progressPlayedOutgoing:j.progressPlayedIncoming}),h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:n,xstyle:[j.progressSeek,f?j.progressSeekOutgoing:j.progressSeekIncoming]}),h.jsx(d("MWPAudioPlayer.react").ScreenReaderLabel,{currentTime:q,duration:o})]})}),h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:f,time:x})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioPlayer.react",["IGDAudioWaveformPlayer.react","MWAudioPlayer.react","MWPAudioPlayer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,e=a.getPlayableUrl,f=a.outgoing;a=a.width;var g=d("MWPAudioPlayer.react").useShowNewUX();return b.waveformData!=null&&b.waveformData!==""&&!g?h.jsx(c("IGDAudioWaveformPlayer.react"),{attachment:b,getPlayableUrl:e,outgoing:f,waveformData:b.waveformData}):h.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,customIncomingBackgroundColor:"rgb(var(--ig-highlight-background))",disableTheme:!0,getPlayableUrl:e,outgoing:f,width:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentAudioPlayer.react",["IGDAudioPlayer.react","LSMediaUrl.bs","MAWAttachmentBlob.react","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.attachment,e=a.isSecure;a=a.outgoing;var f=d("useIGDDeviceType").useIGDDeviceType();f=f.isMobile;var g=i(function(a){if(e)return d("MAWAttachmentBlob.react").getAttachmentBlob(a);else return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[e]);return h.jsx(c("IGDAudioPlayer.react"),{attachment:b,getPlayableUrl:g,outgoing:a,width:f?"168px":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListImage.react",["MWPStableImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={appAttr:{alignItems:"x6s0dn4",borderBottomEndRadius:"xsqq2vd",borderBottomStartRadius:"xyvi45c",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},appText:{color:"xzsf02u",fontSize:"x1nxh6w3",wordBreak:"x13faqbe",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incoming_connect_bottom:{borderBottomStartRadius:"xlvjrdi",$$css:!0},incoming_connect_top:{borderTopStartRadius:"xaypk6r",$$css:!0},outgoing_connect_bottom:{borderBottomEndRadius:"xjeyjuz",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x11ow2hl",$$css:!0},standalone:{borderBottomEndRadius:"xsqq2vd",borderBottomStartRadius:"xyvi45c",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0}};function j(a){a=a.attachment;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return h.jsxs("div",{className:"x6s0dn4 xsqq2vd xyvi45c x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?h.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,h.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}j.displayName=j.name+" [from "+f.id+"]";function k(a,b){if(a)return b?i.outgoing_connect_top:i.incoming_connect_top}function l(a,b){if(a)return b?i.outgoing_connect_bottom:i.incoming_connect_bottom}function a(a){var b=a.connectBottom,e=a.alt,f=a.attachment,g=a.connectTop,m=a.height,n=a.maxHeight,o=a.maxWidth,p=a.outgoing,q=a.src;a=a.width;b=b!=null?b:!1;var r=f.attributionAppName!=null;g=k(g,p);b=l(b,p);return h.jsx(d("MWPStableImage.react").MWPStableImage,{alt:e,className:c("stylex")(i.content,r?i.withAppAttribution:i.standalone,g,b),height:m,maxHeight:n,maxWidth:o,src:q,width:a,children:h.jsx(j,{attachment:f})})}a.displayName=a.name+" [from "+f.id+"]";g.useConnectTopStyles=k;g.useConnectBottomStyles=l;g.MWPMessageListImage=a}),98);
__d("useIGDMediaViewerShowDialog.react",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(){var a=c("useCometLazyDialog")(c("JSResourceForInteraction")("IGDMediaViewer.react").__setRef("useIGDMediaViewerShowDialog.react"),function(a){return h.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}),b=a[0],d=a[1];i(function(){return d()},[b,d]);return[b,d]}g["default"]=a}),98);
__d("IGDChatImage.react",["fbt","BaseTheme.react","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrl.bs","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MWMessageListMediaPressableContainer.bs","MWPActor.react","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MessagingAttachmentType","gkx","promiseDone","react","requireDeferred","useIGDDeviceType","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatImage.react");b={"mwp-message-list-image-radius":"22px","mwp-message-list-image-radius-connected":"4px"};e={"mwp-message-list-image-radius":"22px","mwp-message-list-image-radius-connected":"4px"};var k={dark:e,light:b,type:"VARIABLES"},l={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},standalone:{borderBottomEndRadius:"xsqq2vd",borderBottomStartRadius:"xyvi45c",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0}};function a(a){var b=a.attachment,e=a.connectBottom;e=e===void 0?!1:e;var f=a.connectTop,g=a.isSecure,m=g===void 0?!1:g;g=a.maxHeight;g=g===void 0?340:g;var n=a.maxWidth;n=n===void 0?236:n;var o=a.message;a=a.outgoing;var p=d("useIGDDeviceType").useIGDDeviceType(),q=p.isMobile,r=c("useReStore")(),s=d("MWPActor.react").useActor();p=d("MWPMessageListImage.react").useConnectTopStyles(f,a);var t=d("MWPMessageListImage.react").useConnectBottomStyles(e,a),u=c("gkx")("1924962"),v=c("useMWV2FocusRowAfterClosingPushView")(),w=function(a){if(m){var b=a.attachmentType;if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return d("MAWAttachmentBlob.react").getAttachmentBlob(a);else return c("MAWGetAttachmentThumbnailBlob")(a)}b=a.previewUrlLarge;if(b!=null)return b;else return d("LSMediaUrl.bs").Attachment.previewUrl(a)},x=c("useIGDMediaViewerShowDialog.react")(),y=x[0],z=x[1];x=w(b);if(x==null)return null;w=b.previewWidth;var A=b.previewHeight;return i.jsxs(c("MWMessageListMediaPressableContainer.bs"),{allowClickEventPropagation:!0,attachment:b,onHoverIn:function(){return z()},onPress:function(){if(q)return;v(function(){return!0});y({attachment:b},function(){});j.onReady(function(a){return c("promiseDone")(a.log(r,o.messageId,o.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,s))})},testid:void 0,xstyle:[l.container,l.standalone,p,t],children:[i.jsx(c("BaseTheme.react"),{config:k,children:i.jsx(d("MWPMessageListImage.react").MWPMessageListImage,{alt:b.titleText!=null&&u?b.titleText:h._("__JHASH__Pisa25BX9rt__JHASH__").toString(),attachment:b,connectBottom:e,connectTop:f,height:A!=null?d("I64").to_float(A):void 0,maxHeight:g,maxWidth:n,outgoing:a,src:x,width:w!=null?d("I64").to_float(w):void 0})}),d("I64").le(o.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?i.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null]},b.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatVideo.react",["fbt","BaseImage.react","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrl.bs","MAWAttachmentBlob.react","MWMessageListMediaPressableContainer.bs","MWPActor.react","MWPStableImage.react","MWV2AttachmentProgressBar.react","promiseDone","react","requireDeferred","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatVideo.react"),k={chatVideoContainer:{alignItems:"x6s0dn4",backgroundColor:"x1ybostu",display:"x78zum5",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},playButton:{backgroundSize:"x91lo7",display:"x1lliihq",height:"xqvfhly",marginStart:"xszxewd",marginTop:"x1ok221b",pointerEvents:"x47corl",position:"x10l6tqk",start:"xulwito",top:"x13vifvy",width:"xzuapc8",zIndex:"x1vjfegm",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xvbhtw8",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopEndRadius:"x3jqge",borderTopStartRadius:"x1ke7ulo",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.attachment,e=a.connectTop,f=a.isSecure,g=f===void 0?!1:f;f=a.maxHeight;f=f===void 0?340:f;var l=a.maxWidth;l=l===void 0?236:l;var m=a.message;a=a.outgoing;var n=c("useReStore")(),o=d("MWPActor.react").useActor(),p=function(a){return g?d("MAWAttachmentBlob.react").getAttachmentBlob(a):d("LSMediaUrl.bs").Attachment.previewUrl(a)},q=d("I64").le(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL));e=e?a?k.outgoing_connect_top:k.incoming_connect_top:!1;var r=c("useMWV2FocusRowAfterClosingPushView")();a=c("useIGDMediaViewerShowDialog.react")();var s=a[0],t=a[1];a=p(b);if(a==null)return null;p=b.previewWidth?d("I64").to_float(b.previewWidth):void 0;var u=b.previewHeight?d("I64").to_float(b.previewHeight):void 0;return i.jsxs(c("MWMessageListMediaPressableContainer.bs"),{ariaLabel:h._("__JHASH__Fp182jxGf7T__JHASH__"),attachment:b,disabled:q,onHoverIn:function(){return t()},onPress:function(){r(function(){return!0}),s({attachment:b},function(){}),j.onReady(function(a){return c("promiseDone")(a.log(n,m.messageId,m.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,o))})},overlayDisabled:!0,testid:void 0,xstyle:[k.root,e],children:[i.jsxs("div",{className:"x6s0dn4 x1ybostu x78zum5",children:[i.jsx("span",{className:"x91lo7 x1lliihq xqvfhly xszxewd x1ok221b x47corl x10l6tqk xulwito x13vifvy xzuapc8 x1vjfegm",children:i.jsx(c("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),b.previewUrlMimeType!=null?i.jsx(d("MWPStableImage.react").MWPStableImage,{alt:void 0,height:u,maxHeight:f,maxWidth:l,src:a,width:p}):i.jsx("video",{alt:void 0,height:u!=null&&u>f?"100%":u,src:a,style:{maxHeight:f,maxWidth:l},width:p!=null&&p>l?"100%":p})]}),q?i.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContainerWithHighlightBar.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",$$css:!0},container_incoming:{paddingStart:"x1ye3gou",$$css:!0},container_outgoing:{paddingEnd:"xn6708d",$$css:!0},container_with_margin_bottom:{marginBottom:"xzueoph",$$css:!0},highlight_bar:{backgroundColor:"x19g9edo",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"x51ohtg",$$css:!0},highlight_bar_incoming:{start:"x17qophe",$$css:!0},highlight_bar_outgoing:{end:"xds687c",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.withMarginBottom;return h.jsxs("div",{className:c("stylex")([i.container,a&&i.container_with_margin_bottom,d?i.container_outgoing:i.container_incoming]),children:[!d&&h.jsx("div",{className:c("stylex")([i.highlight_bar,i.highlight_bar_incoming])}),b,d&&h.jsx("div",{className:c("stylex")([i.highlight_bar,i.highlight_bar_outgoing])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContentNoLongerAvailablePlaceholder.react",["fbt","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.message;return i.jsxs("div",{className:"x78zum5 xdt5ytf xl56j7k x21xpn4",children:[a!=null&&i.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:a.replySnippet!=null&&a.replySnippet!==""&&i.jsx(c("IGDSText.react"),{size:"footnote",children:a.replySnippet})}),i.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__6BlzXQ_UCKH__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDSText.react","MWPSolidMessageBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.connectBottom,d=a.connectTop;a=a.outgoing;return i.jsxs(i.Fragment,{children:[d?i.jsx("div",{className:"xjbqb8w x36qwtl xh8yej3",role:"none"}):null,i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:d,outgoing:a,style:{backgroundColor:"var(--comment-background)"},children:i.jsxs("div",{className:"xw5ewwj x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:[i.jsx("div",{className:"x1e56ztr",children:i.jsx(c("IGDSText.react"),{children:h._("__JHASH__atQVoVk5XY5__JHASH__")})}),i.jsx(c("IGDSText.react"),{color:"secondaryText",children:h._("__JHASH__INT7ORPdLDy__JHASH__")})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSticker.react",["I64","MAWAttachmentBlob.react","MWPStableImage.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,c){a=a!=null?d("I64").to_float(a):void 0;b=b!=null?d("I64").to_float(b):void 0;if(a==null||b==null)return[a,b];var e=Math.max(a,b)===c,f=a>b?"width":b>a?"height":"same",g;if(e)g=1;else switch(f){case"height":g=c/b;break;case"same":case"width":g=c/a;break;default:g=1}return[a*g,b*g]}function a(a){var b=a.attachment,e=a.className,f=a.isSecure;a=a.stickerSize;a=(a=a)!=null?a:157;var g=(f=f)!=null?f:!1;f=function(a){if(g)return d("MAWAttachmentBlob.react").getAttachmentBlob(a);else return b.previewUrl};var j=b.playableUrl;if(j!=null)j=j;else{f=f(b);f!=null?j=f:(c("recoverableViolation")("Sticker Attachment has no playable_url or preview_url: "+b.attachmentFbid,"messenger_web_product"),j=void 0)}f=a;a=i(b.previewWidth,b.previewHeight,f);var k=a[0];a=a[1];if(j!=null)return h.jsx(d("MWPStableImage.react").MWPStableImage,{alt:b.accessibilitySummaryText,className:e,height:a,maxHeight:f,maxWidth:f,src:j,width:k});else return h.jsx(h.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentContainer.react",["IGDMessageContainerWithHighlightBar.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming_connect_bottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.withHighlightBar;g=g===void 0?!1:g;a=a.xstyle;e=h.jsx("div",{className:c("stylex")(i.root,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,d?f?i.outgoing_connect_bottom:i.incoming_connect_bottom:!1,a),children:b});if(g)return h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:f,withMarginBottom:!1,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentCard.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIgProfile.react","WAArmadilloXMA.pb","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={flattenTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.attachmentItems,g=a.connectBottom,j=a.connectTop,k=a.getFaviconUrlXMA,l=a.getHeaderImageUrlXMA,m=a.getPreviewImageUrlXMA,n=a.hasText,o=a.isReply,p=o===void 0?!1:o;a.isSecure;var q=a.message;o=a.outgoing;var r=b.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();a=b.xmaLayoutType;var s=a!=null?d("I64").equal(a,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1;a=k==null?void 0:k(b,e);return h.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:!n&&j,outgoing:o,xstyle:[i.root,!s&&n?i.flattenTop:!1,p?i.reply:!1],children:[h.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:b,attachmentItem:e,getHeaderImageUrlXMA:l,isReply:p}),h.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:b,attachmentItem:e,renderPressable:function(a){return h.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:e,isPrivatePost:r,isReply:p,isXMAExpired:s,message:q,children:a})},children:h.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:[h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:e,getPreviewImageUrlXMA:m,size:"large"}),f.length===6?h.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:f}):null]})}),h.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,favIconUrl:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentExpired.react",["IGDMessageContainerWithHighlightBar.react","IGDSText.react","polarisGetIGFormattedText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(a){return a==null||a===""};function a(a){var b=a.attachment,d=a.formatText,e=a.message;a=a.outgoing;var f=b.subtitleText;b=b.titleText;var g=e.replySnippet;e=e.text;e=!i(e);d=i(f)?null:h.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!0,children:d?c("polarisGetIGFormattedText")((d=f)!=null?d:""):f})});f=d===null&&!i(g)?h.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:g})}):null;g=!e&&!i(b)?h.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:h.jsx(c("IGDSText.react"),{color:f?"secondaryText":"primaryText",size:"footnote",children:b})}):null;return h.jsx("div",{className:"x78zum5 xdt5ytf xl56j7k x21xpn4",children:h.jsxs(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!1,children:[f,g,d]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentPlaceholder.react",["IGDSText.react","IGDXMAAttachmentContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"x19g9edo",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},titleWithMarginBottom:{marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=a.attachment;a=a.outgoing;var d=b.subtitleText!=null&&b.subtitleText!==""?h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:b.subtitleText}):null;b=b.titleText!=null&&b.titleText!==""?h.jsx("div",{className:c("stylex")(d!==null?i.titleWithMarginBottom:void 0),children:h.jsx(c("IGDSText.react"),{size:"body",children:b.titleText})}):null;return b!==null||d!==null?h.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,outgoing:a,xstyle:i.container,children:[b,d]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatEmoji.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.styles;a=a.text;if(a!=null)return h.jsx("span",{className:["xu54ipa xb7ehew xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x126k92a",b],children:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{end:"xb1pw9c",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{start:"x1oqdd6z",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingStart:"x1ye3gou",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingEnd:"xn6708d",textAlign:"xp4054r",$$css:!0}};function a(a){var b=a.isOverlay,d=a.outgoing;a=a.reaction;return a==null?null:h.jsx("div",{className:c("stylex")(b?[i.overlayReaction,d?i.overlayReactionOutgoing:i.overlayReactionIncoming]:[d?i.reactionOutgoing:i.reactionIncoming]),children:h.jsx(c("IGDChatEmoji.react"),{text:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentUtil",[],(function(a,b,c,d,e,f){"use strict";var g=String.fromCodePoint(128293),h=String.fromCodePoint(128546),i=String.fromCodePoint(128079),j=String.fromCodePoint(128558),k=String.fromCodePoint(128514),l=String.fromCodePoint(128525);function a(a){return a!=null?a===g||a===h||a===i||a===j||a===k?!0:a===l:!1}f.isEmojiReaction=a}),66);
__d("IGDSHistoryOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M1.523 7.91a11.253 11.253 0 1 1 2.275 11.784",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"6.381 7.909 0.756 7.909 0.756 2.284",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"8.51 15.496 12.006 12 12.019 12.013 12.019 5.016",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDXMAStoryOnlyYouCanSee.react",["fbt","IGDSBox.react","IGDSHistoryOutline24Icon","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{maxWidth:"xazcve0",paddingStart:"x1egjynq",$$css:!0},viewerIcon:{marginBottom:"xod5an3",$$css:!0}};function a(){return i.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:j.container,children:[i.jsx("div",{className:"xod5an3",children:i.jsx(c("IGDSHistoryOutline24Icon"),{alt:"Info",color:"ig-secondary-text",size:18})}),i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__IfMML-M2h40__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreReelsFilledIcon",["PolarisIGCoreReelsPanoFilledIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreReelsPanoFilledIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("useXMAPreviewIconDecorator.react",["fbt","I64","Int64Hooks","LSIntEnum","MNXMAPreviewImageDecorationType","PolarisIGCoreReelsFilledIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return d("Int64Hooks").useMemoInt64(function(){return a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").REEL))?i.jsx(c("PolarisIGCoreReelsFilledIcon"),{alt:h._("__JHASH__2sHlT8vl0xv__JHASH__"),color:"web-always-white"}):null},[a])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentPortrait.react",["I64","IGDSBox.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","IGDXMAAttachmentReactionItem.react","IGDXMAAttachmentUtil","IGDXMAStoryOnlyYouCanSee.react","LSIntEnum","LSReplyMessageAttachmentType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWPStableImage.react","MWVerticalRhythm","WAArmadilloXMA.pb","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},decorationIconOverlay:{bottom:"x1ey2m1c",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",start:"x17qophe",zIndex:"x1vjfegm",$$css:!0},reel:{width:"xtqaf1t",$$css:!0},reelGradient:{backgroundImage:"xvj8vl3",$$css:!0},scrim:{bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",$$css:!0},story:{width:"xfj1xho",$$css:!0},storyGradient:{backgroundImage:"x118e72v",$$css:!0},storyInteraction:{width:"x1exxlbk",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.connectBottom,g=a.connectTop,j=a.getHeaderImageUrlXMA,k=a.getPreviewImageUrlXMA,l=a.hasText;a.isSecure;var m=a.message;a=a.outgoing;var n=b.previewImageDecorationType,o=b.targetExpiryTimestampMs,p=n!=null?[d("I64").equal(n,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").REEL)),d("I64").equal(n,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))]:[!1,!1],q=p[0];p=p[1];n=c("useXMAPreviewIconDecorator.react")(n);var r=b.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),s=b.defaultCtaId!=null,t=d("IGDXMAAttachmentUtil").isEmojiReaction(m.text);t=t||!1;var u=p?l||t?i.storyInteraction:i.story:q?i.reel:!1,v=!(l||t),w=p&&m.replyAttachmentType==null,x=m.text;o=o!=null&&Date.now()>=d("LSIntEnum").toNumber(o);o=p&&o&&!a&&l;l=m.replySourceId!=null||!(m.replyMediaUrl!=null&&m.replyMediaPreviewWidth!=null&&m.replyMediaPreviewHeight!=null&&m.replyMediaUrlMimeType!=null&&m.replyMediaUrlMimeType==="image/gif"&&m.replyAttachmentType!=null&&d("I64").equal(m.replyAttachmentType,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF)))?null:h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsx(d("MWPStableImage.react").MWPStableImage,{alt:void 0,height:d("I64").to_float((l=m.replyMediaPreviewHeight)!=null?l:d("I64").zero),maxHeight:200,maxWidth:void 0,src:(l=m.replyMediaUrl)!=null?l:"",width:d("I64").to_float((l=m.replyMediaPreviewWidth)!=null?l:d("I64").zero)})]});return h.jsxs(c("IGDSBox.react"),{direction:"row",xstyle:i.container,children:[h.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:b,attachmentItem:e,renderPressable:function(a){return h.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:e,isPrivatePost:r,message:m,children:a})},children:[h.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:p&&t?!1:f,connectTop:g,outgoing:a,withHighlightBar:w,xstyle:u,children:[v?h.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:b,attachmentItem:e,getHeaderImageUrlXMA:j,overlayingMedia:!0}):null,h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:e,getPreviewImageUrlXMA:k,size:"large"}),h.jsx("div",{className:"x1ey2m1c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:n}),v?h.jsx("div",{className:c("stylex")(i.scrim,q?i.reelGradient:!1,p?i.storyGradient:!1)}):null]}),t&&x!=null&&x!==""?h.jsx(c("IGDXMAAttachmentReactionItem.react"),{isOverlay:s,outgoing:a,reaction:x}):null,l]}),o?h.jsx(c("IGDXMAStoryOnlyYouCanSee.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseXMAAttachment.react",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){return null}function j(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}function k(a,b,e,f){if(b.length!==0){c("recoverableViolation")("Unknown combination of XMA items and layout. Attachment Items: ("+String(b.length)+"), Layout: "+(a.xmaLayoutType==null?"na":d("I64").to_string(a.xmaLayoutType))+", Attachment Type: "+d("I64").to_string(a.attachmentType),"messenger_web_product");return e()}return f({attachmentItems:[],layoutType:"vertical",preview:j(a)})}function l(a,b,e,f){var g=a.xmaLayoutType,h=b.length;if(g==null)return k(a,b,e,f);if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)))return f({layoutType:"expired"});if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").PLACEHOLDER)))return f({layoutType:"placeholder"});if(h===1)return f({attachmentItems:b,layoutType:"vertical",preview:b[0]});return d("I64").equal(g,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SINGLE))&&h===6?f({attachmentItems:b,layoutType:"vertical",preview:j(a)}):k(a,b,e,f)}function m(a,b,e,f){var g=a.xmaLayoutType;if(g==null)return l(a,b,e,f);if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)))return f({attachmentItems:b,layoutType:"horizontal"});return d("I64").equal(g,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").XCENTER))?f({attachmentItem:b[0],layoutType:"centered"}):l(a,b,e,f)}function a(a){var b=a.attachment,e=a.renderLayout;a=a.renderUnsupportedXMAAttachment;a=a===void 0?i:a;var g=c("useReStore")(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("attachment_items")).getKeyRange(b.attachmentFbid)},[g,b.attachmentFbid],f.id+":239");return h.jsx("div",{className:"x16it46q",children:m(b,j,a,e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachment.react",["I64","IGDAWPrivatePostXMAPlaceholder.react","IGDMessageContainerWithHighlightBar.react","IGDXMAAttachmentCard.react","IGDXMAAttachmentExpired.react","IGDXMAAttachmentPlaceholder.react","IGDXMAAttachmentPortrait.react","LSIntEnum","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachment.react","WAArmadilloXMA.pb","cr:5669","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.formatText,j=i===void 0?!1:i,k=a.getFaviconUrlXMA,l=a.getHeaderImageUrlXMA,m=a.getPreviewImageUrlXMA;i=a.hasText;var n=i===void 0?!1:i;i=a.isReply;var o=i===void 0?!1:i,p=a.isSecure,q=a.message,r=a.outgoing;return h.jsx(c("MWPBaseXMAAttachment.react"),{attachment:e,connectBottom:f,connectTop:g,hasText:n,renderLayout:function(a){switch(a.layoutType){case"vertical":var i=a.attachmentItems,s=a.preview,t=e.gatingType,u=e.headerTitle,v=e.previewImageDecorationType,w=e.xmaLayoutType;t=t===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();if(p&&t){t=e.previewImageDecorationType!=null&&d("I64").equal(e.previewImageDecorationType,d("LSIntEnum").ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON));t=t&&q.replyAttachmentType==null;u=h.jsx(c("IGDAWPrivatePostXMAPlaceholder.react"),{attachment:e,attachmentItem:s,connectBottom:f,connectTop:g,message:q,outgoing:r,previewImageDecorationType:v,userName:(v=u)!=null?v:"Instagram User"});return t?h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:r,withMarginBottom:!0,children:u}):u}return w!=null&&d("I64").equal(w,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").PORTRAIT))?h.jsx(c("IGDXMAAttachmentPortrait.react"),{attachment:e,attachmentItem:s,connectBottom:f,connectTop:g,getHeaderImageUrlXMA:l,getPreviewImageUrlXMA:m,hasText:n,isSecure:p,message:q,outgoing:r}):h.jsx(c("IGDXMAAttachmentCard.react"),{attachment:e,attachmentItem:s,attachmentItems:i,connectBottom:f,connectTop:g,getFaviconUrlXMA:k,getHeaderImageUrlXMA:l,getPreviewImageUrlXMA:m,hasText:n,isReply:o,isSecure:p,message:q,outgoing:r});case"centered":if(a.attachmentItem!=null&&b("cr:5669")!=null)return h.jsx(b("cr:5669"),{attachment:e,attachmentItem:a.attachmentItem,connectBottom:f,connectTop:g,getFaviconUrlXMA:k,getHeaderImageUrlXMA:l,getPreviewImageUrlXMA:m,outgoing:r});else return"Centered";case"horizontal":return"Horizontal";case"expired":return h.jsx(c("IGDXMAAttachmentExpired.react"),{attachment:e,formatText:j,message:q,outgoing:r});case"placeholder":return h.jsx(c("IGDXMAAttachmentPlaceholder.react"),{attachment:e,outgoing:r})}}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentOpen.react",["I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDMessageContainerWithHighlightBar.react","IGDMessageContentNoLongerAvailablePlaceholder.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","LSMediaUrl.bs","MWPMessageListAttachment.react","MWPSolidMessageBubble.react","MWV2ChatFileV2.bs","RavenMessagingState","cr:2630","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var e=a.connectBottom,f=a.connectTop,g=a.formatText,j=a.hasText,k=a.message,l=a.outgoing,m=i(function(a){return d("LSMediaUrl.bs").Attachment.headerImageUrl(a)},[]),n=i(function(a,b){return d("LSMediaUrl.bs").Attachment.previewUrl(a)},[]),o=i(function(a,b){return(a=(a=d("LSMediaUrl.bs").Attachment.faviconUrl(a))!=null?a:d("LSMediaUrl.bs").AttachmentItem.faviconUrl(b))!=null?a:void 0},[]);return h.jsx(c("MWPMessageListAttachment.react"),{connectBottom:e,connectTop:f,message:k,renderAudioAttachment:function(a){return h.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,isSecure:!1,outgoing:l})},renderEphemeralMediaAttachment:function(a){var g=a.ephemeralMediaState;if(g)if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return a.igStoryReplyType==="story_selfie_reply"?h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l}):h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:e,connectTop:f,message:k,outgoing:l});else return b("cr:2630")?h.jsx(b("cr:2630"),{attachment:a,connectBottom:e,connectTop:f,outgoing:l}):h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l});else return null},renderFileAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:f,outgoing:l,style:{backgroundColor:"var(--comment-background)"},children:h.jsx(c("MWV2ChatFileV2.bs"),{attachment:a})})},renderImageAttachment:function(a,b,d){return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:d,connectTop:b,message:k,outgoing:l})},renderImageGrid:function(a){return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l})},renderStickerAttachment:function(a){return h.jsx(c("IGDSticker.react"),{attachment:a})},renderUnsupportedAttachment:function(a){return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l})},renderUnsupportedMultipleAttachments:function(a){var b=k.displayedContentTypes;return a.length===0&&!!d("I64").equal(b,d("I64").zero)?h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:l,withMarginBottom:!1,children:h.jsx(c("IGDMessageContentNoLongerAvailablePlaceholder.react"),{message:k.replySnippet!=null?k:void 0})}):h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l})},renderVideoAttachment:function(a){return h.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:f,message:k,outgoing:l})},renderXMAAttachment:function(a,b){if(d("IGDAttachmentUtil").isUnsupportedXma(a,b))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,outgoing:l});else if(a.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:a});else return h.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:e,connectTop:f,formatText:g,getFaviconUrlXMA:o,getHeaderImageUrlXMA:m,getPreviewImageUrlXMA:n,hasText:j,isSecure:!1,message:k,outgoing:l})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3*60,j=i*60;function k(a,b){return a+b>=d("ServerTime").getMillis()}function l(a,b){var c=new Date(d("ServerTime").getMillis());c.setDate(c.getDate()-b);b=new Date(a);if(c.getDay()===b.getDay()&&c.getMonth()===b.getMonth())return c.getFullYear()===b.getFullYear();else return!1}function a(a){if(k(a,i))return h._("__JHASH__yCT-6TTQLoe__JHASH__");else if(k(a,i*59))return h._("__JHASH__O4B4eMqb3mU__JHASH__",[h._param("mins",Math.floor((d("ServerTime").getMillis()-a)/i).toString())]);else if(k(a,j*23))return h._("__JHASH__398KkN5HDjO__JHASH__",[h._param("hours",Math.floor((d("ServerTime").getMillis()-a)/j).toString())]);else if(l(a,0))return h._("__JHASH__iw8t4iQWjoj__JHASH__");else if(l(a,1))return h._("__JHASH__dzU1Cfcfr8H__JHASH__");else return}g["default"]=a}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return[];a=d("PolarisIGHashtagRegex").matchHashtags(a);return a.map(function(a){var b=a.endIndex,c=a.hashtag;a=a.startIndex;return{entity:{__typename:"Hashtag",uri:d("PolarisLinkBuilder").buildTagLink(c)},length:b-a,offset:a}})}g.getHashtagRanges=a}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","react","useIGDDeviceType","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={bold:{fontWeight:"x1s688f",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0},underline:{textDecoration:"x1bvjpef",$$css:!0}};function a(a,b,e,f){var g=c("useMWPLinkRendererFactory")(b),j=e&&f?i.textPrecedesXMA:e?i.regularOutgoing:i.regularIncoming;b=d("useIGDDeviceType").useIGDDeviceType();f=b.isMobile;var k=f?"_self":"_blank";return c("useMWPCombineTextRenderers")(h(function(){return[g([i.underline],"ig_chat_message_regular_link","Link",k),g([i.bold,j],"ig_profile_link","Profile",k),g([i.bold,j],"ig_chat_message_regular_hashtag","Hashtag",k),a===!0?["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]:void 0]},[g,k,j,a]))}g["default"]=a}),98);
__d("IGDMessageListText.react",["IGDGetHashtagRanges.react","MWPMessageListText.react","MWV2ChatText.bs","react","useIGDTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartWidth:"xm0m39n",color:"x1heor9g",fontSize:"x1qlqyl8",lineHeight:"x1fc57z9",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xbfkjp0",paddingEnd:"xfs7jpi",paddingBottom:"x1e826z5",paddingStart:"xxom0vf",wordWrap:"x1vvkbs",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0},textPrecedesXMA:{color:"x5n08af",$$css:!0}};function a(a){var b=a.enableMessengerTextFormatting,e=a.isSecureMessage,f=a.message,g=a.outgoing;a=a.precedesXMA;b=c("useIGDTextRenderers")(b,e,g,a);e=d("IGDGetHashtagRanges.react").getHashtagRanges(f.text);e=d("MWV2ChatText.bs").useRanges(f).concat(e);a=g&&a?i.textPrecedesXMA:!1;var j=[i.forwarded,g?i.regularOutgoing:i.regularIncoming];return h.jsx(c("MWPMessageListText.react"),{message:f,outgoing:g,ranges:e,renderers:b,text:f.text,transforms:[],xstyleForForwarded:j,xstyleForText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDBroadcastChannelReactionsFooterButtonClickLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=d("MWLSThread").useThread(a,function(a){return a.threadSubtype});e=e!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e);var f=c("useIGDBroadcastChannelLogger")(a);a=h(function(){c("promiseDone")(f(babelHelpers["extends"]({},d("IGDBroadcastChannelLoggingShapes").REACTIONS_FOOTER_BUTTON_CLICK_SHAPE,{extra:{mid:b}})))},[f,b]);return e?a:c("emptyFunction")}g["default"]=a}),98);
__d("IGDMessageRowFooter.react",["IGDSEmoji.react","IGDSingleAvatar.react","JSResourceForInteraction","MWPActor.react","MWPMessageFooter.react","MWPMessageReactions.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","requireDeferred","stylex","useIGDBroadcastChannelReactionsFooterButtonClickLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageRowFooter.react"),j=c("JSResourceForInteraction")("IGDBroadcastChannelReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),k=c("JSResourceForInteraction")("IGDReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),l={footerContainer:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},footerContainerOutgoing:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0},reactionContainer:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderTop:"x1yq40vb",borderEnd:"x6u7qqy",borderBottom:"x1okoo6m",borderStart:"xy6v8t",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",boxShadow:"x1gnnqk1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",height:"x17rw0jw",justifyContent:"xl56j7k",lineHeight:"xo5v014",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",$$css:!0},reactionCount:{color:"x5n08af",fontSize:"x1f6kntn",marginStart:"x12mruv9",marginEnd:"xfs2ol5",$$css:!0},reactionPillEmoji:{alignItems:"x6s0dn4",display:"x78zum5",fontSize:"x1pg5gke",height:"x1v9usgg",justifyContent:"xl56j7k",marginStart:"x12mruv9",marginEnd:"xfs2ol5",textAlign:"x2b8uid",width:"x6jxa94",$$css:!0},singleAvatar:{marginStart:"x12mruv9",marginEnd:"xfs2ol5",$$css:!0},singleReaction:{marginEnd:"xfs2ol5",$$css:!0},translate:{transform:"x1wx64ow",$$css:!0},translateReset:{transform:"xnn1q72",$$css:!0}};function m(a){var b=a.reaction,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(b.actorId)},[e,b.actorId],f.id+":112");if(a!=null)return h.jsx("div",{className:"x12mruv9 xfs2ol5",role:"none",children:h.jsx(c("IGDSingleAvatar.react"),{size:"micro",src:a.profilePictureUrl})});else return null}function n(a){var b=a.count,d=a.emojis,e=a.reactions,f=a.shouldShowAvatarForSingleReaction,g=e.length===1;a=d.map(function(a,b){return h.jsx("span",{className:c("stylex")([l.reactionPillEmoji,g&&!f?l.singleReaction:!1]),children:h.jsx(c("IGDSEmoji.react"),{emoji:a.join("")})},String(b))});return h.jsxs("div",{className:"x6s0dn4 x19g9edo x1yq40vb x6u7qqy x1okoo6m xy6v8t x13zp6kq x1mcfq15 xrosliz x1wb7cse x1gnnqk1 x9f619 x78zum5 x1q0g3np x17rw0jw xl56j7k xo5v014 x16hj40l xsyo7zv",role:"none",children:[a,g&&f?h.jsx(m,{reaction:e[0]}):null,b>1?h.jsx("div",{className:"x5n08af x1f6kntn x12mruv9 xfs2ol5",role:"none",children:c("intlSummarizeNumber")(b)}):null]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.hasReactions,e=a.isGroupThread,f=a.message,g=a.outgoing,m=a.reactions,o=a.reactionsV2;a=a.resetReactionTranslateStyle;var p=d("MWPActor.react").useActor(),q=c("useReStore")(),r=o!=null&&o.length>0,s=c("useIGDBroadcastChannelReactionsFooterButtonClickLogger")(f.threadKey,f.messageId);return h.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{itemsXstyle:a===!0?l.translateReset:l.translate,outgoing:g,xstyle:g?l.footerContainerOutgoing:l.footerContainer,children:b?h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{dialogResource:r?j:k,message:f,onPress:function(){i.onReady(function(a){return c("promiseDone")(a.log(q,f.messageId,f.threadKey,"direct_click","view_message_reactions",void 0,void 0,void 0,f.senderId,void 0,p))}),s()},outgoing:g,reactions:m,reactionsV2:r?o:void 0,shouldUseVariant16ForReactionsV2:r,children:function(a,b,c){return h.jsx(n,{count:b,emojis:a,reactions:c,shouldShowAvatarForSingleReaction:r?!1:e})}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageSeenStatusLayout.react",["IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x78zum5 x13a6bvl xvrgn94 x7ggn4r xhepvqq",children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchFailedLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=d("MWLSThread").useThread(a,function(a){return a.threadSubtype});b=b!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(b);var e=c("useIGDBroadcastChannelLogger")(a);a=h(function(){c("promiseDone")(e(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE))},[e]);return b?a:c("emptyFunction")}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchSuccessLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","ReQL","promiseDone","react","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(a,b){var e=c("useReStore")(),f=d("MWLSThread").useThread(a,function(a){return a.threadSubtype}),g=f!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f),j=c("useIGDBroadcastChannelLogger")(a);f=i(!1);var k=f[0],l=f[1];h(function(){if(g&&!k)var f=d("ReQL").fromTableAscending(e.table("community_chat_message_seen_count")).getKeyRange(a,b).subscribe(function(a,b){c("promiseDone")(j(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE)),f(),l(!0)})},[b,a,g,k,e,j])}g["default"]=a}),98);
__d("useMessageSeenCountNumber",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return a.messageId!=null?d("ReQL").fromTableAscending(b.table("community_chat_message_seen_count")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId],f.id+":23");e=e!=null?d("I64").to_int32(e.seenCount):null;return e}g["default"]=a}),98);
__d("IGDMessageSeenStatusBroadcastChannel.react",["fbt","IGDMessageSeenStatusLayout.react","LSFactory","LSFetchMessageSeenCount","emptyFunction","intlSummarizeNumber","promiseDone","react","useIGDBroadcastChannelSeenCountFetchFailedLogger","useIGDBroadcastChannelSeenCountFetchSuccessLogger","useMessageSeenCountNumber","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){var b=a.message;a=a.thread;c("useIGDBroadcastChannelSeenCountFetchSuccessLogger")(a.threadKey,b.messageId);var d=c("useIGDBroadcastChannelSeenCountFetchFailedLogger")(a.threadKey),e=c("useReStore")();j(function(){c("promiseDone")(e.runInTransaction(function(a){return c("LSFetchMessageSeenCount")(b.threadKey,b.messageId,c("LSFactory")(a))},"readwrite"),c("emptyFunction"),d)},[e,d,b.messageId,b.threadKey,a.threadSubtype]);a=c("useMessageSeenCountNumber")(b);return a!=null&&a!==0?i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__2h7TT-1dXxA__JHASH__",[h._param("lastMessageSeenCount",c("intlSummarizeNumber")(a))])}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDSeenParticipantsAndContacts",["I64","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var c=d("MWPActor.react").useActor();return h(function(){return Array.from(b.values()).filter(function(b){var e=b[0];b=b[1];return!d("I64").equal(b.id,c)?d("I64").ge(e.readWatermarkTimestampMs,a.timestampMs):!1})},[a,b,c])}g["default"]=a}),98);
__d("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadKey,e=c("useReStore")();a=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(e.table("contacts"))).map(function(a){var b=a[0];a=a[1];return[d("I64").to_string(a.id),[b,a]]})},[e,b],f.id+":36");return new Map(a)}g["default"]=a}),98);
__d("IGDMessageSeenStatusGroup.react",["fbt","IGDMessageSeenStatusLayout.react","react","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);b=c("useIGDSeenParticipantsAndContacts")(b,a);a=b.length;if(a===0)return null;var d=b[0];d[0];d=d[1];if(a===1)return i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__gdjDChfEo6A__JHASH__",[h._param("name",d.name)])});var e=b[1];e[0];e=e[1];if(a===2)return i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__yNECeZ5m4aY__JHASH__",[h._param("firstUsername",d.name),h._param("secondUsername",e.name)])});if(a>=3){b[0];b[1];a=b.slice(2);return i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__heuxvMZYF3W__JHASH__",[h._param("firstUsername",d.name),h._param("secondUsername",e.name),h._param("remainingUserCount",a.length.toString())])})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageSeenStatusOneToOne.react",["fbt","I64","IGDMessageSeenStatusLayout.react","react","useIGDRelativeTimeStamp","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.participant;a=c("useIGDRelativeTimeStamp")(d("I64").to_float(a.readWatermarkTimestampMs));return a!=null?i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__h2UawhHd-M5__JHASH__",[h._param("timestamp",a)])}):i.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__exjilGdWoWv__JHASH__")})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);b=c("useIGDSeenParticipantsAndContacts")(b,a);if(b.length>0){a=b[0];b=a[0];a[1];return i.jsx(j,{participant:b})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageSeenStatus.react",["I64","IGDMessageSeenStatusBroadcastChannel.react","IGDMessageSeenStatusGroup.react","IGDMessageSeenStatusOneToOne.react","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.thread;var e=d("MWPActor.react").useActor();e=d("I64").equal(b.sendStatusV2,d("LSIntEnum").ofNumber(2))&&d("I64").equal(b.senderId,e);if(e){if(a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype))return h.jsx(c("IGDMessageSeenStatusBroadcastChannel.react"),{message:b,thread:a});return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?h.jsx(c("IGDMessageSeenStatusGroup.react"),{message:b,thread:a}):h.jsx(c("IGDMessageSeenStatusOneToOne.react"),{message:b,thread:a})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageSendingStatus.react",["fbt","CometScreenReaderText.react","IGDSDirectPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsxs("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1n2onr6",children:[i.jsx(c("IGDSDirectPanoOutlineIcon"),{alt:"IGD message sending status icon",color:"ig-secondary-text","data-testid":void 0,size:12}),i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__MuPLBp1vro6__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDAttachmentSecure.react",["CometPlaceholder.react","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDEphemeralButton.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","MAWAttachmentBlob.react","MAWMsg","MAWSecurePlaceholder.react","MessagingAttachmentType","RavenMessagingState","cr:5862","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.attachmentType,f=a.connectBottom,g=a.connectTop,i=a.formatText,j=a.hasText,k=a.message,l=a.outgoing;e!=null?a=d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):a=!1;if(d("I64").equal(k.displayedContentTypes,d("LSIntEnum").ofNumber(256)))return null;e=a||d("MAWMsg").isMediaMsg(k)||d("MAWMsg").isXMAMsg(k);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e?b("cr:5862")==null?h.jsx(c("MAWSecurePlaceholder.react"),{message:k}):h.jsx(b("cr:5862"),{connectTop:g,message:k,renderAudioAttachment:function(a){return h.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,isSecure:!0,outgoing:l})},renderEphemeralMediaAttachment:function(a){var b=a.ephemeralMediaState;if(b!=null)if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l});else return h.jsx(c("IGDEphemeralButton.react"),{attachment:a,connectBottom:f,connectTop:g,outgoing:l});else return null},renderImageAttachment:function(a){return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderStickerAttachment:function(a){return h.jsx(c("IGDSticker.react"),{attachment:a,isSecure:!0})},renderVideoAttachment:function(a){return h.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderXMAAttachment:function(a){if(d("IGDAttachmentUtil").isUnsupportedXma(a))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:l});else if(a.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:a});else return h.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:f,connectTop:g,formatText:i,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},hasText:j,isSecure:!0,message:k,outgoing:l})}}):h.jsx(c("MAWSecurePlaceholder.react"),{message:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDE2EEAttributionThreadContextBanner.react",["fbt","CometLink.react","IGDSBox.react","IGDSLockFilledIcon","IGDSText.react","XInstagramHelpDotComContentControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"x1iymm2a",$$css:!0},linkMargin:{marginStart:"xsgj6o6",$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}},k=h._("__JHASH__B_F6DFujXgX__JHASH__"),l=h._("__JHASH__RV-kQJWBDXB__JHASH__"),m=h._("__JHASH__4Vv_6Y5N66l__JHASH__");function a(){var a;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return i.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"secondaryBackground",direction:"column",marginEnd:4,marginStart:4,marginTop:4,maxWidth:445,paddingX:4,paddingY:3,xstyle:j.container,children:[i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDSBox.react"),{marginEnd:2,children:i.jsx(c("IGDSLockFilledIcon"),{alt:k,color:"ig-primary-text","data-testid":void 0,size:8})}),i.jsx(c("IGDSText.react"),{size:"body",weight:"medium",children:l})]}),i.jsx(c("IGDSBox.react"),{direction:"row",marginTop:2,xstyle:j.text,children:i.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[k,i.jsx(c("CometLink.react"),{href:a,target:"_blank",xstyle:j.linkMargin,children:m})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPIsContextBannerDisabled",["LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,i=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled").isContextBannerDisabled(a)?null:h.jsxs(h.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(h.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,i!=null&&l!=null?b==null?void 0:b(i,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometLink.react","CometPlaceholder.react","IGDAvatar.react","IGDE2EEAttributionThreadContextBanner.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.bs","MWPThreadContextBanner.react","MWV2GetOtherUser.bs","MWVerticalRhythm","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","getLSContactHref","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignCenter:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",textAlign:"x2b8uid",$$css:!0},avatarContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},horizontalPadding:{boxSizing:"x9f619",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",width:"xh8yej3",$$css:!0},learnMoreLink:{marginStart:"xsgj6o6",$$css:!0},nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0},profileButtonContainer:{paddingBottom:"x1gan7if",paddingTop:"x1p5oq8j",$$css:!0}};function k(a){var b,e=a.descriptionText;a=a.threadType;a=d("LSMessagingThreadTypeUtil").isSecure(a);b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();return i.jsx("div",{className:"xz9dl7a",children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[e,a?i.jsx(c("CometLink.react"),{color:"primary",href:b,target:"_blank",xstyle:j.learnMoreLink,children:h._("__JHASH__tAm34XgWzqf__JHASH__")}):null]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.participantsAndContacts;a=a.thread;var e=a.threadType;b=d("MWV2GetOtherUser.bs").useOtherUser(a,b);e=d("LSMessagingThreadTypeUtil").isOneToOne(e);b=b!=null?c("getLSContactHref")(b[1]):void 0;a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(41),a);return a&&e&&b!=null?i.jsx("div",{className:"x1gan7if x1p5oq8j",children:i.jsx(c("IGDSButton.react"),{display:"block",href:b,label:h._("__JHASH__dwB6QHKUH_P__JHASH__"),variant:"secondary"})}):i.jsx(c("MWVerticalRhythm"),{height:32})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.thread;a=a.threadTitle;return i.jsx("div",{className:"x9f619 xpkgp8e xmns6w2 xh8yej3",children:i.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[i.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("LSVerificationBadge.bs"),{icon:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),thread:b})})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.thread,e=b.threadKey,g=b.threadType,h=c("useReStore")();a=d("LSMessagingThreadTypeUtil").isSecure(g);var j=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(e),d("ReQL").fromTableAscending(h.table("contacts")))},[h,e],f.id+":164");return i.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid",children:[i.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:function(a,b){return i.jsx(k,{descriptionText:a,threadType:g})},renderThreadPicture:function(a){return i.jsx("div",{className:"xyamay9 x1l90r2v",children:i.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})},renderThreadTitle:function(a){return i.jsx(m,{thread:b,threadTitle:a})},thread:b}),j.length>0&&i.jsx(l,{participantsAndContacts:j,thread:b}),a?i.jsx(c("IGDE2EEAttributionThreadContextBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["qex","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useIGDDeviceType").useIGDDeviceType();a=a.isMobile;return a?(a=c("qex")._("671"))!=null?a:5:(a=c("qex")._("675"))!=null?a:10}g["default"]=a}),98);
__d("IGDChatBubble.react",["MWPSolidMessageBubble.react","PolarisLikeAnimation","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.memo;var i=b.useMemo;function j(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA;a=a.showLikeAnimation;var j=i(function(){return f&&!g?{backgroundColor:"#3797F0",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}:{backgroundColor:"rgb(var(--ig-highlight-background))",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}},[f,g]);return h.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:d,connectTop:e,outgoing:f,precedesXMA:g,style:j,children:[b,a?h.jsx(c("PolarisLikeAnimation"),{likeEventCount:1},"igd-like-animation"):null]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.connectBottom,d=a.connectTop,e=a.outgoing;a=a.precedesXMA;c=h.jsx(j,{connectBottom:c,connectTop:d,outgoing:e,precedesXMA:a,showLikeAnimation:!1,children:b});if(a)return h.jsx("div",{role:"none",style:{width:"100%"},children:c});else return c}a.displayName=a.name+" [from "+f.id+"]";d=e(a);g["default"]=d}),98);
__d("IGDMessageSendErrorStatus.react",["IGDSCircleXOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x78zum5 xdt5ytf x13a6bvl x1k2j06m x1n2onr6",children:h.jsx(c("IGDSCircleXOutlineIcon"),{alt:"IGD message send error icon",color:"ig-error-or-destructive","data-testid":void 0,size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.message;a=a.sendStatusV2;return h.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od",children:d("I64").equal(a,d("LSIntEnum").ofNumber(1))?h.jsx(c("IGDMessageSendingStatus.react"),{}):d("I64").equal(a,d("LSIntEnum").ofNumber(4))?h.jsx(c("IGDMessageSendErrorStatus.react"),{}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDForwardedContent.react",["IGDSText.react","MWPForwardedContent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{paddingTop:"x889kno",$$css:!0},textIncoming:{paddingStart:"x1ye3gou",$$css:!0},textOutgoing:{paddingEnd:"xsyo7zv",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h.jsx("div",{className:c("stylex")(i.container,a?i.textOutgoing:i.textIncoming),children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("IGDSHeartPanoFilledIcon"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("I64").compare(a.attachmentIndex,b.attachmentIndex)}g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrl.bs","MWPBaseXMAAttachment.react","MWPXMAIconParser","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={card:{backgroundColor:"x19g9edo",$$css:!0},container:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},decorationIconOverlay:{bottom:"x1ey2m1c",end:"xds687c",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",start:"x17qophe",zIndex:"x1vjfegm",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",zIndex:"x1vjfegm",$$css:!0},headerImage:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginEnd:"x1w0mnb",marginStart:"x139jcc6",marginTop:"x9otpla",marginBottom:"x1wsgfga",objectFit:"xl1xv1r",$$css:!0},preview:{position:"x1n2onr6",$$css:!0},previewHeader:{end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},scrim:{backgroundImage:"x1n76ky8",bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};b={"mwp-xma-message-bubble-max-width":"200px"};var k={dark:b,light:b,type:"VARIABLES"};e={"mwp-xma-message-bubble-max-width":"100px"};var l={dark:e,light:e,type:"VARIABLES"};function m(a){return i(function(){var b=d("MWPXMAIconParser").parse(d("LSMediaUrl.bs").Attachment.headerImageUrl(a));b=(b==null?void 0:b.TAG)===1?b._0:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function n(a){var b=d("LSMediaUrl.bs").Attachment.previewUrl(a);a=d("LSMediaUrl.bs").Attachment.playableUrl(a);b=b!=null||a!=null;a=function(a,b){return d("LSMediaUrl.bs").Attachment.previewUrl(a)};return{getPreviewImageUrlXMA:a,hasPreview:b}}function a(a){var b=a.attachment,d=c("useXMAPreviewIconDecorator.react")(b.previewImageDecorationType),e=m(b);a=n(b);var f=a.getPreviewImageUrlXMA,g=a.hasPreview,i=d!=null,o=e!=null&&!g;return h.jsx(c("BaseTheme.react"),{config:o?k:l,children:h.jsx(c("MWPBaseXMAAttachment.react"),{attachment:b,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:function(a){switch(a.layoutType){case"vertical":return h.jsxs("div",{className:c("stylex")([j.container,j.card,g&&j.preview]),children:[(o||i)&&h.jsx("div",{className:c("stylex")([j.header,g&&j.previewHeader]),children:o&&h.jsxs(h.Fragment,{children:[(e==null?void 0:e.imageUrl)!=null&&h.jsx(c("BaseImage.react"),{height:20,src:e.imageUrl,width:20,xstyle:j.headerImage}),(e==null?void 0:e.title)!=null&&h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:e.title})]})}),h.jsx("div",{className:"x1ey2m1c xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:d}),g&&a.preview!=null&&h.jsxs(h.Fragment,{children:[h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:a.preview,getPreviewImageUrlXMA:f,size:"small"}),i&&h.jsx("div",{className:"x1n76ky8 x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy"})]})]});case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b==null?void 0:b.replySourceId,i=b==null?void 0:b.threadKey;b=d("ReQLSuspense").useArray(function(){return g!=null&&i!=null?d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(i,g):d("ReQL").empty()},[e,g,i],f.id+":40").sort(d("IGDRepliedUtils").orderByUserSelection);var j=b.length;if(j===0)return null;else if(j>1)return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a});else{j=b[0];if(d("I64").equal(j.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(j))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,outgoing:a});else if(j.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:j});else return h.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:j});else return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWPSolidMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=a.children,e=a.message;a=a.xstyle;var f=e.replyToUserId;return i.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:f!=null?d("I64").equal(e.senderId,f):!1,precedesXMA:!1,style:{backgroundColor:"rgb(var(--ig-highlight-background))"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__shPgdhtmHCq__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=b.replyAttachmentId,g=b.replySourceId,h=b.threadKey,l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("threads")).getKeyRange(h)},[l,h],f.id+":47"),n=d("ReQLSuspense").useFirst(function(){return g!=null&&e!=null?d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(h,g,d("I64").to_string(e)):d("ReQL").empty()},[l,h,g,e],f.id+":51");return n!=null?i.jsx(c("IGDChatImage.react"),{attachment:n,connectBottom:!1,connectTop:!1,isSecure:m!=null?d("LSMessagingThreadTypeUtil").isSecure(m.threadType):!1,maxHeight:340*.6,maxWidth:236*.6,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b.replySourceId,h=b.threadKey,l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":49"),m=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(h,g):d("ReQL").empty()},[e,g,h],f.id+":54").sort(d("IGDRepliedUtils").orderByUserSelection),n=m.length;if(n===0)return null;else if(n>1)return i.jsx(c("MWRepliesAttachment.react"),{outgoing:a});n=m[0];return n!=null?i.jsx(c("IGDXMAAttachment.react"),{attachment:n,connectBottom:!1,connectTop:!1,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},isReply:!0,isSecure:l!=null?d("LSMessagingThreadTypeUtil").isSecure(l.threadType):!1,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","MWV2MessageIsEmojiOnly.bs","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.text;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);return c("MWV2MessageIsEmojiOnly.bs")(a,!1)?h.jsx(c("IGDChatEmoji.react"),{text:a}):h.jsx(c("IGDRepliedMessageBubble.react"),{message:e,children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:f,transforms:d("MWChatTextTransform").epdTextTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var e=a.message;a=a.outgoing;var g=e.replyAttachmentId,i=e.replySourceId,j=e.threadKey,k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return i!=null&&g!=null?d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(j,i,d("I64").to_string(g)):d("ReQL").empty()},[k,g,i,j],f.id+":35");return l!=null?h.jsx(c("IGDChatVideo.react"),{attachment:l,connectTop:!1,isSecure:b,maxHeight:340*.6,maxWidth:236*.6,message:e,outgoing:!1}):h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.react","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesSticker.react","MWRepliesStory.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage,d=a.message;a=a.outgoing;return h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:h.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDReplySnippet.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x889kno",$$css:!0},containerIncoming:{paddingStart:"xurb0ha",$$css:!0},containerOutgoing:{paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=b.replySnippet;if(b!=null)return h.jsx("div",{className:c("stylex")(i.container,a?i.containerOutgoing:i.containerIncoming),children:h.jsx(c("IGDSText.react").Footnote,{color:"secondaryText",children:b})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPHasAttachments",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":23");return a!=null}g["default"]=a}),98);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPressable.react","I64","IGDAttachmentOpen.react","IGDAttachmentSecure.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSHotEmojiSize","LSIntEnum","MWMessageDeliveryStatus","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils.bs","MWPMessageS2SLoggingWrapper","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.bs","MWV2ReplyError.bs","PolarisDoubleTappable","deepEquals","lazyLoadComponent","react","stylex","useIsReadOnlyFeatureLimited","useMWPHasAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useId,l=e.useMemo,m=e.useState,n={alignEnd:{alignItems:"xuk3077",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},o=d("LSBitFlag").set(d("LSIntEnum").ofNumber(1),d("LSBitFlag").set(d("LSIntEnum").ofNumber(8),d("LSBitFlag").empty)),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function q(a){a.canNavigateToProfilePage;var b=a.isGroupThread,e=a.isLastMessageInGroup;a=a.message;var f=d("MWPContactContext.react").useMWPContactStableContext(),g=f.contact;f=f.contact;f=f===void 0?{secondaryName:void 0}:f;f=f.secondaryName;g=g!=null&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(85),g);if(!g)return i.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a});g=f!=null?{url:"/"+f}:void 0;f=h._("__JHASH__q99c5lFvU7E__JHASH__",[h._param("name",f)]);return i.jsx(c("CometPressable.react"),{"aria-label":f,linkProps:g,overlayDisabled:!0,children:i.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.attachmentType,e=a.domElementRef,f=a.formatText,g=a.isGroupThread,j=a.isModal,r=a.isSecureMessage,s=a.isXMAExpired,t=a.message,u=a.nextMessage,v=a.onDoubleClickToLike,w=a.prevMessage,x=a.reactions,y=a.reactionsV2;a=a.stopHoveringRef;var z=d("MWPActor.react").useActor(),A=d("MWPMessageParsingUtils.bs").isStartOfGroup(t,w),B=d("MWPMessageParsingUtils.bs").isEndOfGroup(t,u),C=d("I64").equal(t.senderId,z);z=m(!1);var D=z[0];z=z[1];var E=m(!1),F=E[0];E=E[1];var G=k(),H=m(!1),I=H[0],J=H[1];H=m(!1);var K=H[0],L=H[1];H=m(!1);var M=H[0];H=H[1];var N=y!=null?y.length>0:x.length>0,O=!C;O=O&&g;var P=t.replyToUserId!=null,Q=c("useIsReadOnlyFeatureLimited")(),R=l(function(){return{dark:{"mwp-message-list-profile-start-padding":"16px"},light:{"mwp-message-list-profile-start-padding":"16px"},type:"VARIABLES"}},[]),S=r?function(a,d,e,f,g,h,j,k){return i.jsx(c("IGDAttachmentSecure.react"),{attachmentType:b,connectBottom:g,connectTop:f,formatText:k,hasText:j,message:a,nextMessage:d,outgoing:h,prevMessage:e})}:function(a,b,d,e,f,g,h,j){return i.jsx(c("IGDAttachmentOpen.react"),{connectBottom:f,connectTop:e,formatText:j,hasText:h,message:a,nextMessage:b,outgoing:g,prevMessage:d})},T=d("I64").equal(t.displayedContentTypes,o),U=c("useMWPHasAttachments")(t);if(t.isUnsent)return null;return t.isAdminMessage?t.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:t,nextMessage:u,prevMessage:w}),U?S(t,void 0,void 0,!1,!1,C,!1,!1):null]})}):i.jsxs(i.Fragment,{children:[i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:t,prevMessage:w,children:function(){return i.jsx(c("MWV2MessageStartOfGroupContent.bs"),{domElementRef:e,message:t,prevMessage:w})}}),i.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:A?void 0:e,isDialogOpened:M||I||K,isFocused:D,isModal:j,message:t,messageDomID:G,nextMessage:u,outgoing:C,prevMessage:w,setFocused:z,setHovered:E,setIsDialogOpened:H,stopHoveringRef:a,theme:R,children:[i.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:A,isGroupThread:g,message:t,outgoing:C,renderForwardSnippet:function(a,b){return i.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})},renderPinnedText:function(a,b){return null},renderReplySnippet:function(a,b){return s?null:i.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},renderTextWrapper:function(a){return i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})},renderTimestamp:void 0}),A&&!O||P?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,P?i.jsx("div",{className:c("stylex")(n.repliedMessage,C?n.alignEnd:!1),role:"none",children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("MWV2ReplyError.bs"),{outgoing:C})},children:i.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:r,message:t,outgoing:C})})})}):null,i.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:t.messageId,optimisticMessageId:t.offlineThreadingId,statusType:d("MWMessageDeliveryStatus").getFromSendStatus(t.sendStatusV2).type,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:N,message:t,outgoing:C,renderGutterItem:function(){return i.jsx(c("IGDMessageGutterItem.react"),{message:t})},renderMessageActions:function(){return i.jsx(p,{ariaHidden:j===!1,focused:D||I||M||K||j,hasReactions:N,hovered:F,message:t,outgoing:C,setReportDialogOpen:L,setUnsendDialogOpen:J})},renderProfile:function(){return i.jsx(q,{isGroupThread:g,isLastMessageInGroup:B,message:t})},children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("MWV2ChatErrorBubble.react"),{isReply:P})},children:i.jsx(d("PolarisDoubleTappable").DoubleTappable,{ariaLabel:h._("__JHASH__3VJWAHWf1z___JHASH__").toString(),onDoubleClick:Q?void 0:v,role:"button",children:i.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:T?"above":"below",checkEmoticon:!1,isFirstMessageInGroup:A,isLastMessageInGroup:B,message:t,nextMessage:u,outgoing:C,prevMessage:w,reactions:x,renderAttachment:function(a,b,c){return S(t,u,w,a,b,C,c,f)},renderEmoji:function(a){var b=a.hotEmojiSize;if(r){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return i.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&d("I64").gt(b,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").NONE))?i.jsx(c("IGDHotlikeEmoji.react"),{}):i.jsx(c("IGDChatEmoji.react"),{text:a.text})},renderMessageBubble:function(a,b,d,e,f){return i.jsx(c("IGDChatBubble.react"),{connectBottom:d,connectTop:b,isSecure:r,message:a,outgoing:f,precedesXMA:e,children:i.jsx(c("IGDMessageListText.react"),{isSecureMessage:r,message:a,outgoing:f,precedesXMA:e})})},renderMessageContainer:function(a,b){return i.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:t.messageId,optimisticMessageId:t.offlineThreadingId,xstyle:b,children:a})},renderMessageFooter:function(){return i.jsx(c("IGDMessageRowFooter.react"),{hasReactions:N,isGroupThread:g,message:t,outgoing:C,reactions:x,reactionsV2:y,resetReactionTranslateStyle:s&&!T})},shouldRenderMessageContent:s||!(T&&d("IGDXMAAttachmentUtil").isEmojiReaction(t.text))})})})})}),B?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";var r=["message","nextMessage","prevMessage","reactions","reactionsV2","attachmentType"];function b(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return r.includes(d)?c("deepEquals")(a,b):a===b})}e=j(a,b);g["default"]=e}),98);
__d("IGDXMAUtils",["I64","LSIntEnum","MNLSXMALayoutType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a!=null&&a.xmaLayoutType!=null?d("I64").equal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1}g.checkIsXMAExpired=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=i(null),c=h(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWPSendOrRemoveReaction.react","MWChatReactionsUtils.bs","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){f=(yield d("ReQL").firstAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,b)}),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a})));if(f!=null)return!d("I64").equal(f.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return j.apply(this,arguments)}function a(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),j=a.threadKey,k=a.messageId,l=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(a,e,"message_double_click");return h(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(j)));if(!a)return;var b=(yield i(f,g,j,a.threadType));a=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),a)||b;if(a)return;l(k,d("MWChatReactionsUtils.bs").heartType1,"like")})())},[f,g,j,l,k])}g["default"]=a}),98);
__d("useIGDAutoFitViewport",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c){h(function(){if(!i(b)||!a.current)return;var d=a.current;if(!c){var e=[],f=0,g=!1;k(e,window,"touchstart",function(a){f=a.touches[0].clientY},!0);k(e,window,"touchmove",function(a){a=a.touches[0].clientY;a=a-f>0;if(!g)return;!a?(d.style.alignSelf="flex-end",d.scrollIntoView(!1)):(d.style.alignSelf="auto",d.scrollIntoView(!0))},!0);j(e,window.visualViewport,"resize",function(){g=window.innerHeight>window.visualViewport.height,g?(d.style.height=window.visualViewport.height+"px",d.style.alignSelf="flex-end",d.scrollIntoView(!1)):(d.style.height="auto",d.style.alignSelf="auto")});return function(){for(var a=0;a<e.length;a++){var b=e[a];b()}}}else d.style.height="auto",d.style.alignSelf="auto"},[c,b,a])}function i(a){return window.visualViewport&&d("PolarisUA").isMobile()&&d("PolarisConfig").isAndroid()&&a()}function j(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}function k(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}g.useIGDAutoFitViewport=a;g.checkIGDAutoFitViewportEligibility=i}),98);
__d("useMessageAttachment",["MWPMessageHasAttachment","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=c("MWPMessageHasAttachment")(a);return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId,e],f.id+":25")}g["default"]=a}),98);
__d("IGDMessageList.react",["FBLogger","I64","IGDEqualityUtils","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDXMAUtils","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MAWThreadCutover","MWInboxThreadMessagesSpinner.react","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageReactions.react","MWV2MessageActionsVisibility.bs","WebUXLoggingSurfaceContextProvider","cr:2956","cr:6602","gkx","polarisDebounce","react","shallowEqual","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDDeviceType","useMWPAriaLabelForMessageListGrid","useMessageAttachment","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState,n={container:{paddingStart:"xohu8s8",$$css:!0},messageBubble:{backgroundColor:"x19g9edo",$$css:!0}},o={bottom:500,top:500},p={bottom:100,top:100};function q(a){var e=a.domElementRef,f=a.formatText,g=a.message,i=a.modal,j=a.nextMessage,k=a.onGetScrollAreaElement,l=a.prevMessage,m=a.stopHoveringRef;a=a.thread;var n=d("useIGDDeviceType").useIGDDeviceType();n=n.isMobile;var q=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),r=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);q=q?d("I64").equal(a.threadKey,g.threadKey):!1;var s=c("useStableCallback")(c("useHandleDoubleClickToLike")(g,q)),t=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a),u=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(g),v=d("MWPMessageReactions.react").useReactions(g),w=c("useMessageAttachment")(g),x=d("IGDXMAUtils").checkIsXMAExpired(w);w=h.jsxs(h.Fragment,{children:[h.jsx(c("IGDMessageRow.react"),{attachmentType:w==null?void 0:w.attachmentType,domElementRef:e,formatText:f,isGroupThread:r,isModal:i===g.messageId,isSecureMessage:q,isXMAExpired:x,message:g,nextMessage:j,onDoubleClickToLike:s,prevMessage:l,reactions:v,reactionsV2:t?u:void 0,stopHoveringRef:m}),j!=null?null:h.jsx(c("IGDMessageSeenStatus.react"),{message:g,thread:a})]});return b("cr:2956")==null?w:h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_messages",children:h.jsx(b("cr:2956"),{root:k,rootMargin:n?p:o,children:w})})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b,e,f,g){var i=l(new WeakMap()),k=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return j(function(a){var d=i.current.get(a.message),j=babelHelpers["extends"]({},a,{formatText:f,modal:b,onGetScrollAreaElement:g,stopHoveringRef:e,thread:k});if(!d||!c("shallowEqual")(j,d.props)){d=h.jsx(q,babelHelpers["extends"]({},j));i.current.set(a.message,{props:j,row:d})}j=i.current.get(a.message);if(!j)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return j.row},[f,b,g,e,k])}function s(a){a=a.scrollTop;return a>100}function a(a,e){var f=a.formatText;f=f===void 0?!1:f;var g=a.pageSize,i=a.renderHeader,l=a.thread;a=c("useForwardedRef")(e);var o=a[0];e=a[1];a=d("MAWGating").isThreadLevelCutoverEnabled();var p=d("MAWThreadCutover").useIsCutoverSecureThread(l.threadKey),q=d("MAWThreadCutover").useCutoverOpenThread(l.threadKey),t=d("useIGDDeviceType").useIGDDeviceType(),u=t.isMobile;t=m(!1);var v=t[0],w=t[1];k(function(){function a(){w(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);u&&window.addEventListener("resize",b);return function(){u&&window.removeEventListener("resize",b)}},[u,v]);t=d("LSMessagingThreadTypeUtil").isSecure(l.threadType);var x=d("LSMessagingThreadTypeUtil").isGroup(l.threadType),y=c("useMWPAriaLabelForMessageListGrid")(l),z=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef(),A=t?!x:!0;t=m("");x=t[0];t=t[1];var B=j(function(){var a;return(a=o.current)==null?void 0:a.getScrollAreaElement()},[o]);z=r(l,x,z,f,B);f=d("Int64Hooks").useCallbackInt64(function(){return A&&b("cr:6602")!=null?h.jsx(b("cr:6602").MWPTypingIndicators,{checkPresenceSettings:!0,containerStyle:n.container,messageBubbleStyle:n.messageBubble,threadKey:l.threadKey,threadType:l.threadType}):null},[A,l.threadKey,l.threadType]);B=j(function(){return c("gkx")("8724")},[]);return a&&p&&q==null?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:y,modal:x,setModal:t,children:h.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:s,onUserScroll:d("useIGDAutoFitViewport").checkIGDAutoFitViewportEligibility(B)?void 0:function(){if(u&&v){var a;(a=document.activeElement)==null?void 0:a.blur()}},pageSize:g,ref:e,renderFooter:f,renderHeader:i,renderLoadingAnimation:function(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:z,secondaryThread:q,thread:l})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertIgFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({igFolder:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSMoveIgFolder",["LSIssueNewError","LSIssueNewTask","LSUpsertIgFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[7]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[8]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[7],d[8],f,f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("old_ig_folder",a[1]),d[4].set("new_ig_folder",a[2]),d[4].set("sync_group",d[0]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,511]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(d){return c.sp(b("LSUpsertIgFolder"),a[0],a[2])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMuteCallsFromThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("mailbox_type",a[1]),d[2].set("mute_calls_expire_time_ms",a[2]),d[2].set("request_id",a[3]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,229]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticMuteThread",["LSIssueNewTaskWithExtraOperationsAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({muteExpireTimeMs:a[2]})})},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,144]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]),f).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[0],threadKey:a[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("useIsEndChannelEnabled",["I64","LSIntEnum","LSThreadBitOffset","ThreadStatus","useIGDIsViewerAdmin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),a);a=c("useIGDIsViewerAdmin")(a);return a&&e&&!b}g.useIsEndChannelEnabled=a}),98);
__d("IGDBlockUserInboxInfoButton.react",["fbt","CometLazyDialogTrigger.react","CometTransientDialogProvider.react","I64","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MessageRequestsLog","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__caH-vNEa_9F__JHASH__"),k=h._("__JHASH__VzkchK2-JSk__JHASH__");function a(a){var b=a.clickPoint,e=a.contact,f=a.onClose,g=a.renderButton,h=a.thread,l=!d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),m=l?k:j,n=d("LSMessagingThreadTypeUtil").isSecure(h.threadType);a=d("LSMessagingThreadTypeUtil").isGroup(h.threadType);var o=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(h),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),q=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"block_profile_sheet",children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{clickPoint:b,contactID:e.id,isBlocked:l,isGroup:a,isSecure:n,onBlock:function(){n&&o&&!l&&d("MessageRequestsLog").logActionConfirmed(h,2,d("I64").to_string(e.id))},threadKey:h.threadKey,userName:e.name},dialogResource:c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDBlockUserInboxInfoButton.react"),onHide:f,children:function(a){return g(function(){q==null?void 0:q({eventName:l?"unblock_profile_attempt":"block_profile_attempt",flowInstanceId:p.current}),a(),n&&o&&!l&&d("MessageRequestsLog").logActionTapped(h,2,d("I64").to_string(e.id))},m)}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDDeleteThreadInboxInfoButton.react",["fbt","CometLazyDialogTrigger.react","CometTransientDialogProvider.react","IGDBaseButton.react","IGDBroadcastChannelQPL","IGDSBox.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MWCMThreadTypes.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","WebUXLoggingSurfaceContextProvider","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k={buttonContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){var b=a.onClick,e=b===void 0?c("emptyFunction"):b,f=a.onDelete,g=a.thread,l=c("useReStore")(),m=j(null),n=c("useIGDBroadcastChannelLogger")(g.threadKey),o=g.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(g.threadSubtype),p=o?h._("__JHASH__teB8cfQpjUc__JHASH__"):h._("__JHASH__V4lQZHEHmJ1__JHASH__"),q=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),r=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_delete_sheet",children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onDelete:function(){if(o){c("promiseDone")(n({action:"tap",event:"thread_delete_attempt",parent_surface:"broadcast",source:"delete_chat_dialog",surface:"thread_details"}));var a=d("ReQL").fromTableAscending(l.table("threads")).getKeyRange(g.threadKey).subscribe(function(b,e){e.operation==="delete"&&(c("promiseDone")(n({action:"view",event:"thread_delete_successful",parent_surface:"broadcast",source:"delete_broadcast_chat",surface:"thread_details"})),d("IGDBroadcastChannelQPL").logDeleteChannelSuccess(o),a())})}f()},thread:g},dialogResource:c("JSResourceForInteraction")("IGDChatSettingsDeleteThreadDialog.react").__setRef("IGDDeleteThreadInboxInfoButton.react"),onHide:function(){o&&c("promiseDone")(n({action:"tap",event:"thread_delete_cancel",parent_surface:"broadcast",source:"delete_chat_dialog",surface:"thread_details"}))},children:function(a){return i.jsx(c("IGDSBox.react"),{direction:"column",xstyle:k.buttonContainer,children:i.jsx(c("IGDBaseButton.react"),{onClick:function(){r==null?void 0:r({eventName:"thread_delete_attempt",flowInstanceId:q.current});a();e();o&&c("promiseDone")(n({action:"tap",event:"delete_broadcast_chat_dialog_rendered",parent_surface:"broadcast",source:"delete_broadcast_chat",surface:"thread_details"}));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","delete_thread")},ref:m,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:p})})})}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDDeleteOpenThreadInboxInfoButton.react",["I64","IGDBroadcastChannelQPL","IGDConfirmDeleteOpenMessageRequestLogger","IGDDeleteThreadInboxInfoButton.react","IGDOpenDeleteOpenMessageRequestDialogLogger","LSIntEnum","react","useIGDDeleteOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.thread,e=c("useIGDDeleteOpenThread")(b),f=d("I64").equal(b.parentThreadKey,d("LSIntEnum").ofNumber(-1)),g=d("I64").equal(b.parentThreadKey,d("LSIntEnum").ofNumber(-3));return h.jsx(c("IGDDeleteThreadInboxInfoButton.react"),{onClick:function(){if(f||g){d("IGDOpenDeleteOpenMessageRequestDialogLogger").logOpenDeleteOpenMessageRequestDialog(b);return}d("IGDBroadcastChannelQPL").logDeleteChannelStart(b)},onDelete:function(){e();if(f||g){d("IGDConfirmDeleteOpenMessageRequestLogger").logConfirmDeleteOpenMessageRequest(b);return}},thread:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadDetailRow.react",["IGDSBox.react","IGDSText.react","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={addOnEnd:{flexShrink:"x2lah0s",marginStart:"x16n37ib",$$css:!0},mobileRoot:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},root:{flexWrap:"xozqiw3",minHeight:"x879a55",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"xyinxu5",paddingBottom:"x1g2khh7",width:"xh8yej3",$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.addOnEnd;a=a.text;var e=d("useIGDDeviceType").useIGDDeviceType().isMobile;return h.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",xstyle:[i.root,e&&i.mobileRoot],children:[h.jsx(c("IGDSBox.react"),{alignItems:"start",xstyle:i.text,children:h.jsx(c("IGDSText.react"),{size:"label",children:a})}),h.jsx(c("IGDSBox.react"),{xstyle:i.addOnEnd,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDEncryptionKeysSection.react",["fbt","CometLazyDialogTrigger.react","CometPressable.react","IGDSChevronIcon","IGDThreadDetailRow.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{textAlign:"x1yc453h",width:"xh8yej3",$$css:!0}};function a(a){a=a.thread;var b=h._("__JHASH__Urimk0QzpYC__JHASH__"),d=c("JSResourceForInteraction")("IGDEncryptionKeysDialog.react").__setRef("IGDEncryptionKeysSection.react");return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{thread:a},dialogResource:d,children:function(a){return i.jsx(c("CometPressable.react"),{onPress:function(){return a()},xstyle:j.container,children:i.jsx(c("IGDThreadDetailRow.react"),{addOnEnd:i.jsx(c("IGDSChevronIcon"),{alt:"chevron",color:"ig-tertiary-text",direction:"next",size:16}),text:b})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDLeaveGroupInboxInfoButton.react",["fbt","IGDBaseButton.react","IGDSBox.react","IGDSText.react","JSResourceForInteraction","MWPBumpEntityKey","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k={buttonContainer:{paddingBottom:"xsag5q8",paddingTop:"xyamay9",$$css:!0},descriptionLabel:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){a=a.thread;var b=a;a=j(null);var e=c("useCometLazyDialog")(c("JSResourceForInteraction")("IGDChatSettingsLeaveThreadDialog.react").__setRef("IGDLeaveGroupInboxInfoButton.react")),f=e[0];return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{direction:"column",xstyle:k.buttonContainer,children:i.jsx(c("IGDBaseButton.react"),{onClick:function(){f({thread:b});return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","leave_chat")},ref:a,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:h._("__JHASH__hLJyeZmT1H___JHASH__")})})}),i.jsx(c("IGDSBox.react"),{xstyle:k.descriptionLabel,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"start",children:h._("__JHASH__GnubGc0xFZ5__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDReportProfileInboxInfoButton.react",["fbt","CometLazyDialogTrigger.react","I64","IGDBaseButton.react","IGDSBox.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","emptyFunction","getLSMediaContactProfilePictureUrl","react","usePolarisAnalyticsContext","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k=h._("__JHASH__wsQ3tUIxVjY__JHASH__"),l={buttonContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function m(a){var b=a.onTrigger;a=j(null);var e=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("IGDSBox.react"),{direction:"column",xstyle:l.buttonContainer,children:i.jsx(c("IGDBaseButton.react"),{onClick:function(){f==null?void 0:f({eventName:"report_profile",flowInstanceId:e.current});b();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","report")},ref:a,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:k})})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.contact,e=a.thread,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("ig_thread_info")).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":85");var h=d("LSMessagingThreadTypeUtil").isSecure(e.threadType),j=d("LSMessagingThreadTypeUtil").isGroup(e.threadType),k=c("usePolarisAnalyticsContext")()+"WWW";if(h)return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{isGroup:j,onClose:c("emptyFunction"),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(b),senderId:d("I64").to_string(b.id),threadId:d("I64").to_string(e.threadKey),threadKey:e.threadKey,username:b.secondaryName},dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingEncryptedThreadModal").__setRef("IGDReportProfileInboxInfoButton.react"),children:function(a){return i.jsx(m,{onTrigger:a})}});else return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{containerModule:k,isGroup:j,onClose:void 0,profilePicUrl:c("getLSMediaContactProfilePictureUrl")(b),senderId:d("I64").to_string(b.id),threadId:a==null?void 0:a.igThreadId,threadKey:e.threadKey,username:b.secondaryName},dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingThreadModal").__setRef("IGDReportProfileInboxInfoButton.react"),children:function(a){return i.jsx(m,{onTrigger:a})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSCanLeaveGroup",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-10));if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(28),a))return!b;else return!1}g["default"]=a}),98);
__d("IGDThreadActionSection.react",["fbt","I64","IGDAiAgentsUtils","IGDBaseButton.react","IGDBlockUserInboxInfoButton.react","IGDDeleteOpenThreadInboxInfoButton.react","IGDEncryptionKeysSection.react","IGDLeaveGroupInboxInfoButton.react","IGDReportProfileInboxInfoButton.react","IGDSBox.react","IGDSText.react","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","cr:5602","cr:6411","react","useIsEndChannelEnabled","useMWLSCanLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={actions:{flexShrink:"x2lah0s",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},actionsMobile:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},buttonContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){var e=a.isMobile,g=a.isSecure,k=a.isViewerInGroup,l=a.thread;a=c("useMWLSCanLeaveGroup")(l);var m=d("MWPActor.react").useActor(),n=c("useReStore")(),o=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType)&&!d("IGDAiAgentsUtils").isAiThread(l.threadSubtype)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.table("participants")).getKeyRange(l.threadKey),d("ReQL").fromTableAscending(n.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,m)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[l.threadType,l.threadKey,n,m,l.threadSubtype],f.id+":66"),p=h._("__JHASH__ayttqZWI5VP__JHASH__"),q=o!=null&&d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),o,!0);q=o!=null&&!q?i.jsx(c("IGDReportProfileInboxInfoButton.react"),{contact:o,thread:l}):null;o=o!=null?i.jsx(c("IGDBlockUserInboxInfoButton.react"),{clickPoint:"direct_thread_info",contact:o,onClose:function(){},renderButton:function(a,b){return i.jsx(c("IGDSBox.react"),{direction:"column",xstyle:j.buttonContainer,children:i.jsx(c("IGDBaseButton.react"),{onClick:a,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:b})})})},thread:l}):null;var r=d("useIsEndChannelEnabled").useIsEndChannelEnabled(l)&&b("cr:5602")!=null?i.jsx(b("cr:5602"),{pauseTimestamp:l.pauseThreadTimestamp,threadKey:l.threadKey}):null;return i.jsxs(i.Fragment,{children:[g?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{direction:"column",marginTop:3,xstyle:[j.actions,e&&j.actionsMobile],children:i.jsx(c("IGDSText.react"),{size:"label",weight:"semibold",children:p})}),i.jsx(c("IGDEncryptionKeysSection.react"),{thread:l})]}):null,i.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:[j.actions,e&&j.actionsMobile],children:[q,o,r,k&&a?i.jsx(c("IGDLeaveGroupInboxInfoButton.react"),{thread:l}):null,g?b("cr:6411")==null?i.jsx(c("IGDDeleteOpenThreadInboxInfoButton.react"),{thread:l}):i.jsx(b("cr:6411"),{thread:l}):i.jsx(c("IGDDeleteOpenThreadInboxInfoButton.react"),{thread:l})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadDetailRowButton.react",["IGDSButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{backgroundColor:"x19g9edo",color:"x5n08af",":hover_backgroundColor":"x1rtvea0",$$css:!0}};function a(a){var b=a.buttonRef,d=a.isDisabled;d=d===void 0?!1:d;var e=a.onClick;a=a.text;if(b!=null)return h.jsx(c("IGDSButton.react"),{display:"block",isDisabled:d,label:a,onClick:e,ref:b,role:"button",xstyle:i.root});else return h.jsx(c("IGDSButton.react"),{display:"block",isDisabled:d,label:a,onClick:e,role:"button",xstyle:i.root})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDEditThreadNameButton.react",["fbt","CometLazyDialogTrigger.react","IGDBroadcastChannelQPL","IGDThreadDetailRow.react","IGDThreadDetailRowButton.react","JSResourceForInteraction","LSIntEnum","LSThreadBitOffset","MWCMThreadTypes.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef;function k(a){a=a.thread;a=a;var b=j(null),e=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),f=e?h._("__JHASH__1DiqVIBtBxU__JHASH__"):h._("__JHASH__tok86-WpKEl__JHASH__"),g=h._("__JHASH__YL5ViCCRwTj__JHASH__"),k=d("IGDBroadcastChannelQPL").useLogEditChannelStart(a.threadKey);return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},thread:a},dialogResource:c("JSResourceForInteraction")("IGDEditThreadNameDialog.react").__setRef("IGDEditThreadNameButton.react"),children:function(a){return i.jsx(c("IGDThreadDetailRow.react"),{addOnEnd:i.jsx(c("IGDThreadDetailRowButton.react"),{buttonRef:b,onClick:function(){k(),a()},text:g}),text:f})}})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.thread;a=a;var b=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(60),a);if(b)return i.jsx(k,{thread:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDProMoveFolderThreadListButton.react",["fbt","I64","IGDProLogging","IGDThreadDetailRow.react","IGDThreadDetailRowButton.react","IgTags_InboxFolder","LSFactory","LSIntEnum","LSMoveIgFolder","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__OWZQWyPNwoQ__JHASH__"),k=h._("__JHASH__saSa6BKpo3d__JHASH__"),l=h._("__JHASH__uZ8cV-1fyMB__JHASH__");function a(a){var b=a.thread;a=b.igFolder;var e=b.threadKey,f=a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL))?d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY):a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY))?d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL):void 0,g=c("useReStore")(),h=function(){c("promiseDone")(g.runInTransaction(function(a){var d;return c("LSMoveIgFolder")(e,(d=b.igFolder)!=null?d:void 0,(d=f)!=null?d:void 0,c("LSFactory")(a))},"readwrite"),function(){if(f!=null)if(d("I64").equal(f,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY)))return d("IGDProLogging").ODSBumpMoveThreadPrimary();else if(d("I64").equal(f,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL)))return d("IGDProLogging").ODSBumpMoveThreadGeneral();else return})};return i.jsx(c("IGDThreadDetailRow.react"),{addOnEnd:i.jsx(c("IGDThreadDetailRowButton.react"),{buttonRef:void 0,onClick:h,text:j}),text:a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL))?k:a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY))?l:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadInfoE2EEAttribution.react",["fbt","CometLink.react","IGDSBox.react","IGDSLockFilledIcon","IGDSText.react","XInstagramHelpDotComContentControllerRouteBuilder","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={linkMargin:{marginStart:"xsgj6o6",$$css:!0},lockIcon:{paddingEnd:"x1sxyh0",$$css:!0},mobileRoot:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},root:{minHeight:"x879a55",paddingBottom:"xwxc41k",paddingStart:"x14gfdix",paddingEnd:"x14ya1hp",width:"xh8yej3",$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}},k=h._("__JHASH__drDwqj7Ttok__JHASH__"),l=h._("__JHASH__4Vv_6Y5N66l__JHASH__");function a(){var a,b=d("useIGDDeviceType").useIGDDeviceType().isMobile;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",xstyle:[j.root,b&&j.mobileRoot],children:[i.jsx(c("IGDSBox.react"),{height:"65%",xstyle:j.lockIcon,children:i.jsx(c("IGDSLockFilledIcon"),{alt:k,color:"ig-secondary-text","data-testid":void 0,size:8})}),i.jsx(c("IGDSBox.react"),{xstyle:j.text,children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",size:b?"body":"footnote",weight:"normal",children:[k,i.jsx(c("CometLink.react"),{href:a,target:"_blank",xstyle:j.linkMargin,children:l})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatMuteStore.bs",[],(function(a,b,c,d,e,f){"use strict";b={FifteenMinutes:9e5,OneHour:36e5,EightHours:288e5,OneDay:864e5,Indefinitely:-1};c={Message:"messageMuteScope",Call:"callMuteScope",Both:"bothMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("ChatMuteProvider.bs",["ChatMuteStore.bs","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement,i=c.useMemo,j=c.useReducer;function a(a){}c=[d("ChatMuteStore.bs").initialState,a];var k=e(c);function b(a){a=a.children;var b=j(d("ChatMuteStore.bs").reducer,d("ChatMuteStore.bs").initialState),c=b[0],e=b[1];b=k.Provider;var f=i(function(){return[c,e]},[c,e]);return h(b,{children:a,value:f})}b.displayName=b.name+" [from "+f.id+"]";g.ChatMuteContext=k;g.ChatMuteProvider=b;g.ChatMuteOptions=d("ChatMuteStore.bs").ChatMuteOptions}),98);
__d("useMWChatMuteThread",["ChatMuteStore.bs","I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThread","LSOptimisticMuteThread","ServerTime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadKey,e=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(a,f){var g=a!==-1?d("I64").of_float(d("ServerTime").getMillis()+d("I64").to_float(d("I64").of_int32(a))):d("I64").neg_one;a=function(){c("promiseDone")(e.runInTransaction(function(a){return c("LSOptimisticMuteThread")(b,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),g,c("LSFactory")(a))},"readwrite"))};var h=function(){c("promiseDone")(e.runInTransaction(function(a){return c("LSMuteCallsFromThread")(b,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),g,void 0,c("LSFactory")(a))},"readwrite"))};switch(f.type){case d("ChatMuteStore.bs").ChatMuteScopeTypes.Message:return a();case d("ChatMuteStore.bs").ChatMuteScopeTypes.Call:return h();case d("ChatMuteStore.bs").ChatMuteScopeTypes.Both:a();return h()}},[e,b])}g["default"]=a}),98);
__d("useMWChatUnmuteThread",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThread","LSOptimisticMuteThread","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("I64").zero;return h(function(e){var f=d("I64").to_string(e.threadKey);d("I64").equal(e.muteExpireTimeMs,b)||c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMuteThread")(d("I64").of_string(f),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),d("I64").zero,c("LSFactory")(a))},"readwrite"));if(!d("I64").equal(e.muteCallsExpireTimeMs,b)){c("promiseDone")(a.runInTransaction(function(a){return c("LSMuteCallsFromThread")(d("I64").of_string(f),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),d("I64").zero,void 0,c("LSFactory")(a))},"readwrite"));return}},[a,b])}g["default"]=a}),98);
__d("IGDThreadInfoMutedSection.react",["fbt","ChatMuteProvider.bs","I64","IGDSBox.react","IGDSGlimmer.react","IGDSSwitch.react","IGDThreadDetailRow.react","IGDThreadListNewMessageLoggingDataContext","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useMWChatMuteThread","useMWChatUnmuteThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={container:{paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"xyinxu5",paddingBottom:"x1g2khh7",width:"xh8yej3",$$css:!0},"switch":{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",marginStart:"x16n37ib",width:"x1ygkb0v",$$css:!0},text:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xmix8c7",width:"x1m56yxe",$$css:!0}};function l(a){var b=a.thread,e=c("useMWChatUnmuteThread")(),f=c("useMWChatMuteThread")(b);a=j(d("ChatMuteProvider.bs").ChatMuteContext);var g=a[0],k=d("I64").equal(b.muteExpireTimeMs,d("I64").neg_one)||d("I64").gt(b.muteExpireTimeMs,d("I64").of_float(Date.now()));a=h._("__JHASH__XYF8EHiGLbM__JHASH__");var l=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),m=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("IGDThreadDetailRow.react"),{addOnEnd:i.jsx(c("IGDSSwitch.react"),{"aria-label":a,onValueChange:function(){m==null?void 0:m({eventName:"toggle_mute",flowInstanceId:l.current}),k?e(b):f(-1,g.scope),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","quick_actions_mute."+(k?"unmute":"mute"))},testid:void 0,value:k}),text:a})}l.displayName=l.name+" [from "+f.id+"]";function m(){return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",xstyle:k.container,children:[i.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k.text}),i.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k["switch"]})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=a.threadKey,e=a.threadType,g=c("useReStore")(),h=d("MWPActor.react").useActor(),j=d("LSMessagingThreadTypeUtil").isOneToOne(e);e=d("ReQLSuspense").useFirst(function(){return j?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(g.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,h)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[h,g,j,b],f.id+":120");e=e!=null?!d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;var k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(19),a),n=d("I64").lt(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));if(n)return i.jsx(m,{});return k&&!e?i.jsx(l,{thread:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadInfoSection.react",["IGDAiAgentsUtils","IGDEditThreadNameButton.react","IGDProMoveFolderThreadListButton.react","IGDSBox.react","IGDThreadInfoE2EEAttribution.react","IGDThreadInfoMutedSection.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","cr:3252","cr:5619","react","useIsReadOnlyFeatureLimited","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={infoSection:{borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},paddingBottom:{paddingBottom:"xwib8y2",$$css:!0}};function a(a){a.isMobile;var e=a.isSecure;e=e===void 0?!1:e;var f=a.setShowInfo;a=a.thread;var g=c("usePolarisViewer")();g=g==null?!1:g.isProfessionalAccount;var j=!e&&d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&!d("IGDAiAgentsUtils").isAiThread(a.threadSubtype),k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),a),l=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);g=!e&&g===!0&&a.igFolder!=null&&a.folderName==="inbox"&&!l;l=c("useIsReadOnlyFeatureLimited")();return h.jsxs(h.Fragment,{children:[e?h.jsx(c("IGDThreadInfoE2EEAttribution.react"),{}):null,h.jsxs(c("IGDSBox.react"),{xstyle:e&&i.infoSection,children:[l?null:h.jsx(c("IGDEditThreadNameButton.react"),{thread:a}),k&&b("cr:5619")!=null&&h.jsx(b("cr:5619"),{thread:a}),h.jsx(c("IGDThreadInfoMutedSection.react"),{thread:a}),h.jsxs(c("IGDSBox.react"),{xstyle:i.paddingBottom,children:[j&&b("cr:3252")!=null?h.jsx(b("cr:3252"),{setShowInfo:f,threadKey:a.threadKey}):null,g?h.jsx(c("IGDProMoveFolderThreadListButton.react"),{thread:a}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDGroupMemberListItem.react",["fbt","CometLazyDialogTrigger.react","CometMiddot.react","CometPlaceholder.react","I64","IGDListCell.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSVerifiedBadge.react","IGDSingleAvatar.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSContactVerificationBadge.react","LSGroupParticipantJoinState","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","MessengerWebUXLogger","PolarisIGCoreMoreVerticalPanoOutline24Icon","getFBTSafeGenderFromGenderConst","getLSMediaContactProfilePictureUrl","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo;function l(a){return k(function(){var b=a.filter(function(a){return a!==null});if(b.length===0)return;else return b.map(function(a,b){return i.jsxs(i.Fragment,{children:[b!==0?i.jsx(c("CometMiddot.react"),{}):null,a]},String(b))})},[a])}function a(a){var b,e=a.contact,f=a.isGroup,g=a.isSecure,k=a.onClose,m=a.participant;a=a.thread;var n=e.secondaryName;n=n!=null?{target:"_blank",url:"https://www.instagram.com/"+n}:void 0;b=(b=m.isAdmin)!=null?b:!1;var o=d("useIGDDeviceType").useIGDDeviceType().isMobile,p=!d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),q=d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),r=c("LSContactGenderToGenderConst")(e.gender),s=d("MWPActor.react").useActor(),t=d("I64").equal(m.groupParticipantJoinState,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED));b=b?h._("__JHASH__1au-Sy6zjdP__JHASH__"):null;g&&(q&&!t?b=h._("__JHASH__NR_W3PERa64__JHASH__"):!q&&t&&(b=h._("__JHASH__-vdu5ZsYoKx__JHASH__")));q=l([b,p?h._("__JHASH__99hPFP9eCrN__JHASH__"):null,e.secondaryName!=null&&e.name!==e.secondaryName?e.name:null]);b=c("JSResourceForInteraction")("IGDGroupMembershipDialog.react").__setRef("IGDGroupMemberListItem.react");var u=h._("__JHASH__dIvMDAQD3KH__JHASH__",[h._name("name",e.name,c("getFBTSafeGenderFromGenderConst")(r))]);p=!d("I64").equal(e.id,s)&&f===!0?i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{contact:e,onClose:k,onCloseDialog:k,participant:m,threadKey:a.threadKey},dialogResource:b,children:function(a){return i.jsx(c("IGDSIconButton.react"),{onClick:a,padding:0,children:i.jsx(c("PolarisIGCoreMoreVerticalPanoOutline24Icon"),{alt:u,color:"ig-secondary-text",size:24})})}}):void 0;r=e.secondaryName!=null?i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDSText.react"),{color:g&&t?"tertiaryText":"primaryText",size:"body",weight:"semibold",children:e.secondaryName}),i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("LSContactVerificationBadge.react"),{contact:e,icon:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})})})]}):void 0;s=i.jsx(c("IGDSingleAvatar.react"),{isActive:!1,isMobile:o,size:"large",src:c("getLSMediaContactProfilePictureUrl")(e)});f=q!=null?i.jsxs("div",{children:[r,i.jsx("div",{className:"x889kno",children:i.jsx(c("IGDSText.react"),{color:g&&t?"tertiaryText":"secondaryText",size:"body",textAlign:"start",children:q})})]}):r;var v=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),w=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();k=j(function(){w==null?void 0:w({eventName:"open_profile",flowInstanceId:v.current})},[v,w]);return i.jsx(c("IGDListCell.react"),{addOnEnd:p,addOnStart:s,content:f,linkProps:n,onPress:k,size:o?"small":"large"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDGroupMemberList.react",["I64","IGDGroupMemberListItem.react","IGDListCellPlaceholder.react","LSMessagingThreadTypeUtil","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isGroup,e=a.onClose,f=a.participantsAndContacts,g=a.thread,i=(a=e)!=null?a:function(){};e=f.slice(0).sort(function(a,b){return b[1].rank-a[1].rank});var j=d("LSMessagingThreadTypeUtil").isSecure(g.threadType);if(e.length===0)return h.jsx(c("IGDListCellPlaceholder.react"),{});else return e.map(function(a){var e=a[1];return h.jsx(c("IGDGroupMemberListItem.react"),{contact:e,isGroup:b,isSecure:j,onClose:i,participant:a[0],thread:g},d("I64").to_string(e.id))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f,g){"use strict";g.armadillo=b("cr:1217").armadillo,g.gxac=b("cr:1217").gxac,g.nonGxac=b("cr:1217").nonGxac}),98);
__d("IGDThreadMembersSection.react",["fbt","CometLazyDialogTrigger.react","I64","IGDGroupMemberList.react","IGDSBox.react","IGDSButton.react","IGDSText.react","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWGroupLimitConfig.bs","MWPActor.react","MWPBumpEntityKey","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE","emptyFunction","react","useIGDIsViewerAdmin","useIsReadOnlyFeatureLimited"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={membersHeader:{paddingBottom:"x1g2khh7",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1p5oq8j",$$css:!0},membersHeaderMobile:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},membersList:{overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0},membersSection:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"xwib8y2",$$css:!0}};function a(a){var b=a.isMobile,e=a.isViewerInGroup,f=a.thread,g=d("LSMessagingThreadTypeUtil").isOneToOne(f.threadType);a=d("LSMessagingThreadTypeUtil").isGroup(f.threadType);var l=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f),m=d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE").useValue(f),n=d("MWPActor.react").useActor(),o=j(function(){if(!(g&&m.length>1))return i.jsx(c("IGDGroupMemberList.react"),{isGroup:!0,participantsAndContacts:m,thread:f});var a=m.filter(function(a){var b=a[0];a[1];return!d("I64").equal(b.contactId,n)});return i.jsx(c("IGDGroupMemberList.react"),{isGroup:!1,participantsAndContacts:a,thread:f})},[m,g,n,f]),p=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),q=p?d("MWGroupLimitConfig.bs").armadillo():d("MWGroupLimitConfig.bs").gxac;q=q-m.length|0;var r=q>0,s=c("useIGDIsViewerAdmin")(f),t=f.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f.threadSubtype),u=c("useIsReadOnlyFeatureLimited")();a=a&&!l&&(s||!p)&&e&&!t&&!u;l=m.map(function(a){var b=a[0];a[1];return d("I64").to_string(b.contactId)});s=t?h._("__JHASH__jCyCwcUSatZ__JHASH__"):h._("__JHASH__LccyHdpuGSr__JHASH__");var v=h._("__JHASH__1UsgFiP-Gbr__JHASH__");p=c("emptyFunction");return i.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:k.membersSection,children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",xstyle:[k.membersHeader,b&&k.membersHeaderMobile],children:[i.jsx(c("IGDSText.react"),{size:"label",weight:"semibold",children:s}),a?r?i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{filteredCandidates:l,maxRecipientsToAdd:q,onClose:p,thread:f},dialogResource:c("JSResourceForInteraction")("IGDAddParticipantDialog.react").__setRef("IGDThreadMembersSection.react"),children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:v,onClick:function(){a();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","add_member")},variant:"primary_link"})}}):i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{body:h._("__JHASH__i4s0QIHEC_L__JHASH__"),close:h._("__JHASH__FI1tkByyuGt__JHASH__"),onClose:function(){},title:h._("__JHASH__qc01BI1fkNA__JHASH__")},dialogResource:c("JSResourceForInteraction")("IGDAlertDialog.react").__setRef("IGDThreadMembersSection.react"),children:function(a){return i.jsx(c("IGDSButton.react"),{display:"block",label:v,onClick:function(){return a()},variant:"primary_link"})}}):null]}),i.jsx("div",{className:"xw2csxc x1odjw0f",children:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxInfo.react",["fbt","IGDAiAgentsUtils","IGDMobileNavigationButton.react","IGDSBox.react","IGDSText.react","IGDSectionHeader.react","IGDThreadActionSection.react","IGDThreadInfoSection.react","IGDThreadMembersSection.react","LSMessagingThreadTypeUtil","MWPActor.react","PolarisUA","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react").memo;var j={container:{display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},headerTextContainer:{display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},headerTextContainerDesktop:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0}};function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=a.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(g,e).map(function(a){return a.contactId})},[b,e,g],f.id+":60")!=null}function l(a){var b=a.isMobile,e=a.setShowInfo;a=a.thread;var f=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),g=k(a);return i.jsxs("div",{className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k x6ikm8r x10wlt62",children:[g?i.jsx(c("IGDThreadInfoSection.react"),{isMobile:b,isSecure:f,setShowInfo:e,thread:a}):null,d("IGDAiAgentsUtils").isAiThread(a.threadSubtype)?null:i.jsx(c("IGDThreadMembersSection.react"),{isMobile:b,isViewerInGroup:g,thread:a}),i.jsx(c("IGDThreadActionSection.react"),{isMobile:b,isSecure:f,isViewerInGroup:g,thread:a})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.setShowInfo;a=a.thread;var e=d("PolarisUA").isMobile(),f=h._("__JHASH__GUGB22aK56B__JHASH__");return i.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_details",children:[i.jsx(c("IGDSectionHeader.react"),{endAdornment:e?i.jsx("div",{}):void 0,isMobile:e,noBottomBorder:!0,startAdornment:e?i.jsx(c("IGDMobileNavigationButton.react"),{onClick:function(){return b(!1)}}):void 0,children:i.jsx(c("IGDSBox.react"),{xstyle:[j.headerTextContainer,!e&&j.headerTextContainerDesktop],children:i.jsx(c("IGDSText.react"),{size:"title",textAlign:"start",weight:"semibold",children:f})})}),i.jsx(l,{isMobile:e,setShowInfo:b,thread:a})]})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWAbPropsClient").getAbProps().client_group_participants_limit}b=32;c=256;g.armadillo=a;g.gxac=b;g.nonGxac=c}),98);/*FB_PKG_DELIM*/
__d("FXIGIdentitySwitcherDialogContentQuery$Parameters",["cr:2218"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:2218")}),null);
__d("FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5102952559805494"}),null);
__d("FXIGIdentitySwitcherDialogContentQuery$Parameters.instagram",["FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation"),metadata:{},name:"FXIGIdentitySwitcherDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useFXUserData",["Actor","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("Actor").useActor();a=a[0];return{accountId:c("CurrentUser").getAccountID(),actorId:a}}g["default"]=a}),98);
__d("useFXSwitcherButtonTappedLogger",["requireDeferred","useFXUserData"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("SwitcherButtonTappedFalcoEvent").__setRef("useFXSwitcherButtonTappedLogger");function a(){var a=c("useFXUserData")(),b=a.accountId,d=a.actorId;return function(a){h.onReady(function(c){c.log(function(){return babelHelpers["extends"]({entry_point:"settings",initiator_account_id:b,initiator_identity_id:d,is_cds:!0},a)})})}}g["default"]=a}),98);
__d("FXIGIdentitySwitcherDialog.entrypoint",["FXIGIdentitySwitcherDialogContentQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{fxQueryReference:{parameters:c("FXIGIdentitySwitcherDialogContentQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXIGIdentitySwitcherDialog.react").__setRef("FXIGIdentitySwitcherDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("PolarisSwitchAccountsModalLegacyConstants",[],(function(a,b,c,d,e,f){"use strict";a=50;b=72;f.FOOTER_HEIGHT=a;f.ITEM_HEIGHT=b}),66);
__d("PolarisSwitchAccountsModalLegacyBody.react",["IGDSBox.react","IGDSCircleCheckPanoFilledIcon","IGDSListItem.react","IGDSSpinner.react","PolarisAuthActionConstants","PolarisAuthFormCard.react","PolarisFXSSOActions","PolarisGenericStrings","PolarisIGCoreConstants","PolarisLoginActionLoginWithFBJSSDK","PolarisLoginActionOneTapLogin","PolarisOneTapLoginStorage","PolarisReactRedux","PolarisSwitchAccountsModalLegacyConstants","PolarisUA","PolarisUserAvatar.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=24,j="accountSwitcherModal",k=2*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+8,l=5*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+8;function a(a){var b=a.fbConnectedUsers,e=a.igConnectedUsers;a=a.oneTapUserIds;var f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisViewer")(),n=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),o=d("PolarisReactRedux").useSelector(function(a){return a==null?void 0:(a=a.fb)==null?void 0:(a=a.authResponse)==null?void 0:a.userID}),p=d("PolarisOneTapLoginStorage").getLoginNonces();switch(n){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:return h.jsxs(c("IGDSBox.react"),{flex:"grow",maxHeight:d("PolarisUA").isDesktop()?l:void 0,minHeight:d("PolarisUA").isDesktop()?k:void 0,overflow:"auto",position:"relative",children:[(g==null?void 0:g.profilePictureUrl)!=null&&(g==null?void 0:g.username)!=null&&h.jsx(c("IGDSListItem.react"),{addOnEnd:h.jsx(c("IGDSCircleCheckPanoFilledIcon"),{alt:d("PolarisGenericStrings").CHECKMARK_FILLED_ICON_ALT,color:"ig-primary-button",size:i}),addOnStart:h.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:g==null?void 0:g.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:g==null?void 0:g.username}),title:g==null?void 0:g.username}),b!=null&&(b==null?void 0:b.length)!==0&&o!=null&&b.map(function(a){return h.jsx(m,{onClick:function(){return f(d("PolarisLoginActionLoginWithFBJSSDK").loginWithFBJSSDK({source:j},a.username))},profilePictureUrl:a.profilePictureUrl,userId:o,username:a.username},a.username)}),a.map(function(a){var b=p[a],c=b.nonce,e=b.profilePicUrl;b=b.username;var g=function b(){f(d("PolarisLoginActionOneTapLogin").switchAccountLogin({loginNonce:c,retry:b,userId:a}))};return h.jsx(m,{onClick:g,profilePictureUrl:e,userId:a,username:b},a)}),e!=null&&(e==null?void 0:e.length)!==0&&e.map(function(a){return h.jsx(m,{onClick:function(){return f(d("PolarisFXSSOActions").loginWithIGSSO(a.username))},profilePictureUrl:a.profilePictureUrl,userId:null,username:a.username},a.username)})]});case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:case d("PolarisAuthActionConstants").AUTH.signup:return h.jsx(c("IGDSBox.react"),{alignItems:"center",maxHeight:800,overflow:"auto",position:"relative",children:h.jsx(c("PolarisAuthFormCard.react"),{hideAppUpsells:!0,hideBorder:!0,pageIdentifier:j,style:"modal",useMobileFooterPadding:!1})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.onClick,e=a.profilePictureUrl,f=a.userId;a=a.username;var g=d("PolarisReactRedux").useSelector(function(a){var b;return((b=a.auth.login)==null?void 0:b.requestInFlight)||((b=a.auth.twoFactor)==null?void 0:b.requestInFlight)||!1}),i=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.login)==null?void 0:a.userId}),j=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.login)==null?void 0:a.igUsername}),k=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.requestInFlight}),l=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.ssoUsername});return h.jsx(c("IGDSListItem.react"),{addOnEnd:g&&f!==null&&i===f&&(!j||j===a)||k&&a===l?h.jsx(c("IGDSSpinner.react"),{}):void 0,addOnStart:h.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:e,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:a}),onPress:function(){b()},title:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacyFooter.react",["IGDSBox.react","IGDSButton.react","IGDSDivider.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisNavigationStrings","PolarisReactRedux","PolarisSignupTypes","PolarisSwitchAccountsModalLegacyConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.numAccounts;var b=d("PolarisReactRedux").useDispatch(),e=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),f=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.signup)==null?void 0:a.step}),g=function(a){b(d("PolarisAuthActions").switchAuthType(a))},i;switch(e){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:i=h.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisNavigationStrings").LOG_IN_EXISTING_ACCOUNT,onClick:function(){return g(d("PolarisAuthActionConstants").AUTH.login)},variant:"primary_link"});break;case d("PolarisAuthActionConstants").AUTH.signup:if(f!==d("PolarisSignupTypes").STEP.base)return null;case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:default:return null}return i!=null?h.jsxs(h.Fragment,{children:[(d("PolarisUA").isDesktop()||d("PolarisUA").isMobile()&&a>1)&&h.jsx(c("IGDSDivider.react"),{}),h.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisSwitchAccountsModalLegacyConstants").FOOTER_HEIGHT,justifyContent:"center",position:"relative",children:i})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacyHeader.react",["IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSXPanoFilledIcon","PolarisAuthActionConstants","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreModalHeader","PolarisIGCoreText","PolarisReactRedux","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.onClose;var b=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType});switch(b){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:return d("PolarisUA").isDesktop()?h.jsx(c("PolarisIGCoreModalHeader"),{onClose:a,truncateText:!0,children:d("PolarisAuthStrings").SWITCH_ACCOUNTS}):h.jsxs(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:[h.jsx(c("IGDSBox.react"),{marginBottom:1,paddingX:4,paddingY:3,position:"relative",children:h.jsx(c("PolarisIGCoreText"),{display:"truncated",size:"label",weight:"semibold",children:d("PolarisAuthStrings").SWITCH_ACCOUNTS})}),h.jsx(c("IGDSDivider.react"),{})]});case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:case d("PolarisAuthActionConstants").AUTH.signup:return d("PolarisUA").isMobile()?null:h.jsx(c("IGDSBox.react"),{alignItems:"end",marginTop:3,paddingX:3,position:"relative",children:h.jsx(c("IGDSIconButton.react"),{onClick:a,children:h.jsx(c("IGDSXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,size:18})})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacy.react",["IGCoreModal","IGDSBox.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisFBConnectHelpers","PolarisIGCoreSheet","PolarisNavigationActions","PolarisOneTapLoginStorage","PolarisReactRedux","PolarisSwitchAccountsModalLegacyBody.react","PolarisSwitchAccountsModalLegacyConstants","PolarisSwitchAccountsModalLegacyFooter.react","PolarisSwitchAccountsModalLegacyHeader.react","PolarisUA","Promise","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=1,j=69;function k(a){var b=window.innerHeight;a=a*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+j+(d("PolarisSwitchAccountsModalLegacyConstants").FOOTER_HEIGHT+i);a=a/b*100;return Math.round(a)+1}function a(){var a,e=d("PolarisReactRedux").useDispatch(),f=c("usePolarisViewer")(),g=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),i=function(){b("Promise").resolve(e(d("PolarisNavigationActions").closeAccountSwitcher())).then(function(){return e(d("PolarisAuthActions").resetAuth())})},j=(a=d("PolarisReactRedux").useSelector(function(a){return a.fb.igProfiles}))==null?void 0:a.filter(function(a){return a.username!==(f==null?void 0:f.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)});a=(a=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.igProfiles}))==null?void 0:a.filter(function(a){return a.username!==(f==null?void 0:f.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)&&(!j||!j.some(function(b){return b.username===a.username}))});var l=d("PolarisOneTapLoginStorage").getLoginNonces();l=Object.keys(l).filter(function(a){return a!==(f==null?void 0:f.id)});var m=(f!=null?1:0)+(j!=null?j.length:0)+l.length+(a!=null?a.length:0);a=h.jsxs(c("IGDSBox.react"),{"data-testid":void 0,height:"100%",children:[h.jsx(c("PolarisSwitchAccountsModalLegacyHeader.react"),{onClose:i}),h.jsx(c("PolarisSwitchAccountsModalLegacyBody.react"),{fbConnectedUsers:j,igConnectedUsers:a,oneTapUserIds:l}),h.jsx(c("PolarisSwitchAccountsModalLegacyFooter.react"),{numAccounts:m})]});if(d("PolarisUA").isDesktop()||d("PolarisUA").isMobile()&&(g===d("PolarisAuthActionConstants").AUTH.login||g===d("PolarisAuthActionConstants").AUTH.twoFactor))return h.jsx(c("IGCoreModal"),{closeButtonPosition:d("PolarisUA").isMobile()?"background":void 0,disablePopInAnimation:!0,onClose:i,children:a});l=k(m);g=[];l>=100?g=["100%"]:m<=3||l<=50?g=[l+"%"]:g=["50%",l+"%"];return h.jsx(c("PolarisIGCoreSheet"),{onClose:i,stops:g,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModal.react",["CometDialogLoadingState.react","FXIGIdentitySwitcherDialog.entrypoint","FXIdentitySwitcherGating","PolarisAuthActionConstants","PolarisAuthActions","PolarisNavigationActions","PolarisReactRedux","PolarisSwitchAccountsModalLegacy.react","Promise","promiseDone","react","useCometEntryPointDialog","useFXSwitcherButtonTappedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef,k=[d("PolarisAuthActionConstants").AUTH.fbLogin,d("PolarisAuthActionConstants").AUTH.fbAccountPicker,d("PolarisAuthActionConstants").AUTH.fxSSO,d("PolarisAuthActionConstants").AUTH.oneTapLogin];function a(){var a=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),e=d("PolarisReactRedux").useDispatch(),f=k.includes(a)&&d("FXIdentitySwitcherGating").shouldShowCompanySwitcherOnIG(),g=j(!1),l=function(){g.current=!1};a=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:function(){a(),c("promiseDone")(b("Promise").resolve(e(d("PolarisNavigationActions").closeAccountSwitcher())).then(function(){return e(d("PolarisAuthActions").resetAuth())}))}})};a=c("useCometEntryPointDialog")(c("FXIGIdentitySwitcherDialog.entrypoint"),{},void 0,a);var m=a[0],n=c("useFXSwitcherButtonTappedLogger")();i(function(){f&&!g.current&&(g.current=!0,m({onBeforeClose:l}),n({is_badge_shown:!1}))},[f,m,n]);return f?null:h.jsx(c("PolarisSwitchAccountsModalLegacy.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDShell.react",["BaseTheme.react","IGDSBox.react","IGDThemeConfig","PolarisBaseShell.react","PolarisCallGatingHelpers","PolarisCreationModal.react","PolarisHasFeedCreation","PolarisQPConstants","PolarisQPManager.react","PolarisReactRedux","PolarisSwitchAccountsModal.react","PolarisToastWrapper.react","VideoPlayerGlobalComponents.react","cr:1005","deferredLoadComponent","polarisIsUserLoggedIn","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("PolarisIncomingCall.react").__setRef("IGDShell.react")),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotEnabledModal.react").__setRef("IGDShell.react")),k=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotFollowingModal.react").__setRef("IGDShell.react")),l={desktopContent:{backgroundColor:"xnz67gz",flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"xlnp5zw",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};a=function(a){a=a.children;var e=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isAccountSwitcherOpen}),f=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isFeedCreationModalOpen}),g=d("PolarisReactRedux").useSelector(function(a){return a.direct.verifiedUserCalling}),m=g.notEnabledModalOpen;g=g.notFollowingModalOpen;var n=null;f&&d("PolarisHasFeedCreation").hasFeedCreation()&&(n=h.jsx("div",{children:h.jsx(c("PolarisCreationModal.react"),{})}));return h.jsx(c("VideoPlayerGlobalComponents.react"),{children:h.jsxs(c("PolarisBaseShell.react"),{xstyle:l.root,children:[h.jsxs(c("BaseTheme.react"),{config:c("IGDThemeConfig"),children:[h.jsxs("div",{className:"xnz67gz x1iyjqo2 x5yr21d xmz0i5r xlnp5zw",children:[m&&h.jsx(j,{}),g&&h.jsx(k,{}),h.jsxs(c("IGDSBox.react"),{height:"100vh",position:"relative",width:"100%",children:[b("cr:1005")!=null?h.jsxs(b("cr:1005"),{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(i,{}),a]}):h.jsxs(h.Fragment,{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(i,{}),a]}),h.jsx("div",{children:h.jsx(c("PolarisToastWrapper.react"),{})})]})]}),e&&d("polarisIsUserLoggedIn").isUserLoggedIn()&&h.jsx("div",{children:h.jsx(c("PolarisSwitchAccountsModal.react"),{})}),n]}),h.jsx(c("PolarisQPManager.react"),{slot:d("PolarisQPConstants").SLOTS.inbox})]})})};e=a;g["default"]=e}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleButtonFalcoEvent").__setRef("DirectRequestsDeclineMultipleButtonFalcoEventDeferred");function a(a){var b=a.e_counter_channel,c=a.is_interop;h.onReady(function(a){return a.log(function(){return{e_counter_channel:b,is_interop:c}})})}g.logDirectRequestsDeclineMultipleButtonFalcoEvent=a}),98);
__d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleConfirmFalcoEvent").__setRef("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred");function a(a){var b=a.all_used,c=a.e_counter_channel,d=a.is_interop,e=a.num_requests_visible,f=a.num_selected;h.onReady(function(a){return a.log(function(){return{all_used:b,e_counter_channel:c,is_interop:d,num_requests_visible:e,num_selected:f}})})}g.logDirectRequestsDeclineMultipleConfirmFalcoEvent=a}),98);
__d("IGDConfirmBulkDeleteMessageRequestsLogger",["DirectRequestsDeclineMultipleConfirmFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred").logDirectRequestsDeclineMultipleConfirmFalcoEvent({all_used:a===b,e_counter_channel:"",is_interop:!1,num_requests_visible:a.toString(),num_selected:b.toString()})}g.logConfirmBulkDeleteMessageRequests=a}),98);
__d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger",["DirectRequestsDeclineMultipleButtonFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred").logDirectRequestsDeclineMultipleButtonFalcoEvent({e_counter_channel:"",is_interop:!1})}g.logOpenBulkDeleteOpenMessageRequestsDialog=a}),98);
__d("IGDBulkDeleteMessageRequestsButton.react",["fbt","CometLazyDialogTrigger.react","I64","IGDBaseButton.react","IGDConfirmBulkDeleteMessageRequestsLogger","IGDOpenBulkDeleteOpenMessageRequestsDialogLogger","IGDSText.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWIsXacGroupThread.bs","MWPThreadsForThreadList","MWThreadListSupportedThreadTypes.bs","MWXacGating.bs","ODS","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState;function a(){var a=c("useReStore")(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":47"),e=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(a,d("LSIntEnum").ofNumber(-1),b).filter(function(a){return d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1}).filter(function(a){if(d("MWXacGating.bs").isGroupsEnabled())return!0;else return!d("MWIsXacGroupThread.bs").check(a)})},[a,b],f.id+":54"),g=e.reduce(function(a,b){return d("LSMessagingThreadTypeUtil").isSecure(b.threadType)?a:a+1},0),l=j(null),m=e.length,n=k(!1),o=n[0],p=n[1],q=h._("__JHASH___PkI0imDUep__JHASH__",[h._param("messageRequestCount",String(m))]);return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},onDeleteFulfill:function(){p(!1),g>0&&d("IGDConfirmBulkDeleteMessageRequestsLogger").logConfirmBulkDeleteMessageRequests(g,g)},onDeleteStart:function(){return p(!0)},threads:e},dialogResource:c("JSResourceForInteraction")("IGDBulkDeleteMessageRequestsDialog.react").__setRef("IGDBulkDeleteMessageRequestsButton.react"),children:function(a){return i.jsx("div",{className:"x1yrsyyn x10b6aqq",children:i.jsx(c("IGDBaseButton.react"),{disabled:m===0||o,onClick:function(){a(),d("ODS").bumpEntityKey(3185,"igd.message_requests","delete_bulk"),g>0&&d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger").logOpenBulkDeleteOpenMessageRequestsDialog()},ref:l,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:q})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMaster.react",["I64","IGDNullState.react","IGDOpenThreadContainer.react","IGDRouteProvider.react","LSMessagingThreadTypeUtil","cr:5493","react","useForceUpdate","useMaybeAddE2EEAnnotations"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useLayoutEffect,j=e.useRef;function a(){var a=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=d("IGDRouteProvider.react").useThreadTypeFromCurrentRoute();c("useMaybeAddE2EEAnnotations")();var f=function(){if(a==null)return h.jsx(c("IGDNullState.react"),{});var f=e!=null?d("LSMessagingThreadTypeUtil").isSecure(e):!1;return f?!b("cr:5493")?h.jsx(c("IGDNullState.react"),{}):h.jsx(b("cr:5493"),{threadKey:a},d("I64").to_string(a)):h.jsx(c("IGDOpenThreadContainer.react"),{threadKey:a},d("I64").to_string(a))};return k(a,f)}a.displayName=a.name+" [from "+f.id+"]";function k(a,b){var e=a?d("I64").to_string(a):void 0,f=j(e);a=j(null);var g=c("useForceUpdate")();i(function(){f.current!==e&&(f.current=e,window.requestAnimationFrame(g))},[g,e]);if(f.current!==e)return a.current;a.current=b();return a.current}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);
__d("translatedServerString",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),j=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),k={contents:!1};function a(){var a=c("useReStore")();return h(function(){if(k.contents)return;k.contents=!0;var b=d("ReQL").fromTableAscending(a.table("user_visible_errors")).subscribe(function(b,d){switch(d.operation){case"add":var e=d.value;b=e.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;j.onReady(function(b){b.mwPushErrorToast({body:e.errorBodyText!=null?c("translatedServerString")(e.errorBodyText):void 0,onDismiss:function(){i.onReady(function(b){b.removeUserVisibleErrorFromTable(a,e.errorId)})},title:c("translatedServerString")(e.errorTitleText)})});return;case"put":case"delete":return}});return function(){k.contents=!1;return b()}},[a])}g["default"]=a}),98);
__d("IGDInboxRoot.react",["BaseHeadingContext","CometRouterFocusRegion.react","IGDDeviceTypeProvider.react","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxLayout.react","IGDMaster.react","MWSetupPresenceReportingDeferred.react","XPlatWebAudioPlaybackContextProvider.react","cr:2598","react","useGetStableCometRouterDispatcher","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(){var a=i(c("BaseHeadingContext"));return h.jsx(c("CometRouterFocusRegion.react"),{children:h.jsx(c("BaseHeadingContext").Provider,{children:h.jsx(c("IGDMaster.react"),{}),value:a+1|0})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.leftRail;c("useSubscribeToErrorTableAndShowToast")();b("cr:2598")==null?void 0:b("cr:2598").useEBShadowTest();return h.jsx(d("IGDDeviceTypeProvider.react").IGDDeviceTypeProvider,{isMobile:!1,children:h.jsxs(d("useGetStableCometRouterDispatcher").CometRouterDispatcherGetterContextProvider,{children:[h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContainer,{children:h.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:h.jsxs(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContextProvider,{children:[h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutLeftColumn,{children:a}),h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContentArea,{children:h.jsx(j,{})})]})})}),h.jsx(c("MWSetupPresenceReportingDeferred.react"),{})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageRequestLeftRailLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={messageRequestsRoot:{borderEnd:"xvb8j5",boxSizing:"x1afcbsf",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1us19tq",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mobileRoot:{borderEnd:"x1b1mbwd",height:"x1dr59a3",$$css:!0},page:{display:"x78zum5",height:"x5yr21d",width:"xh8yej3",$$css:!0},root:{backgroundColor:"xvbhtw8",height:"x5yr21d",outline:"x1a2a7pz",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.isMobile;b=b;a=(a=a)!=null?a:!1;return h.jsx("div",{className:c("stylex")(i.root,a?i.mobileRoot:!1),children:h.jsx("div",{className:"x78zum5 x5yr21d xh8yej3",children:h.jsx("div",{className:"xvb8j5 x1afcbsf x78zum5 xdt5ytf x1us19tq x1n2onr6 xh8yej3",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;a=a;return h.jsx("div",{className:"xyinxu5 xxbr6pl x1g2khh7 xbbxn1n",children:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=a.children;a=a;return h.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k xyamay9 x4uap5 x1l90r2v xkhd6sd x2b8uid xh8yej3",children:a})}e.displayName=e.name+" [from "+f.id+"]";g.Container=a;g.InfoBox=b;g.Footer=e}),98);
__d("IGDMessageRequestLeftRail.react",["fbt","CometTransientDialogProvider.react","IGDBulkDeleteMessageRequestsButton.react","IGDListCell.react","IGDMessageRequestLeftRailLayout.react","IGDMobileNavigationButton.react","IGDNavigation","IGDRouteProvider.react","IGDSBox.react","IGDSChevronIcon","IGDSEyeOffOutlineIcon","IGDSText.react","IGDSectionHeader.react","IGDThreadList.react","LSIntEnum","MWPActor.react","MWPThreadsForThreadList","MWVerticalRhythm","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":45");return d("ReQLSuspense").useFirst(function(){return d("MWPThreadsForThreadList").createIterable(a,d("LSIntEnum").ofNumber(-1),e)},[a,b,e],f.id+":53")!=null}var k=h._("__JHASH__1t-ijjLolTC__JHASH__");function l(a){a.entryPoint;var b=a.hiddenRequestsListItem,e=a.info,f=a.isMobile,g=a.onReturn,h=a.parentThreadKey;a=a.title;var k=j();return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSectionHeader.react"),{isMobile:f,noBottomBorder:!0,startAdornment:i.jsx(c("IGDMobileNavigationButton.react"),{onClick:g}),children:i.jsx(c("IGDSText.react"),{size:"headline2",weight:"semibold",children:a})}),e!=null?i.jsx(d("IGDMessageRequestLeftRailLayout.react").InfoBox,{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e})}):null,i.jsx(c("IGDThreadList.react"),{afterContent:k?b:void 0,beforeContent:k?void 0:b,gridLabel:a,isMessageRequestRoute:!0,parentThreadKey:h})]})}l.displayName=l.name+" [from "+f.id+"]";var m={avatarBackground:{backgroundColor:"x19g9edo",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xnnlda6",width:"x15yg21f",$$css:!0}};function n(a){a=a.isMobile;var b=d("IGDNavigation").useIGDNavigation();return i.jsxs(i.Fragment,{children:[i.jsx(l,{entryPoint:"inboxThreadList",hiddenRequestsListItem:i.jsx(c("IGDListCell.react"),{addOnEnd:i.jsx(c("IGDSChevronIcon"),{alt:"Chevron icon to indicate entering the hidden requests window",color:"ig-primary-text",direction:"next",size:16}),addOnStart:i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",xstyle:m.avatarBackground,children:i.jsx(c("IGDSEyeOffOutlineIcon"),{alt:"Eye-off icon for the hidden requests",color:"ig-primary-text",size:24})}),content:i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:19}),i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"body",weight:"normal",children:h._("__JHASH__X7L8UEukC2K__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:19})]}),onPress:function(){return b.openHiddenRequests()},size:"large"}),info:h._("__JHASH__CGYj424Ak7B__JHASH__"),isMobile:a,onReturn:function(){return b.goToNullState()},parentThreadKey:d("LSIntEnum").ofNumber(-1),title:k}),i.jsx(d("IGDMessageRequestLeftRailLayout.react").Footer,{children:i.jsx(c("IGDBulkDeleteMessageRequestsButton.react"),{})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.isMobile;var b=d("IGDNavigation").useIGDNavigation();return i.jsx(l,{entryPoint:"inboxThreadList",info:h._("__JHASH__-xRAJ6voSvo__JHASH__"),isMobile:a,onReturn:function(){return b.openPendingInbox()},parentThreadKey:d("LSIntEnum").ofNumber(-3),title:h._("__JHASH__NUWCEJOzzXk__JHASH__")})}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.isMobile;a=a===void 0?!1:a;var b=d("IGDRouteProvider.react").useIsCurrentRouteMessageHiddenRequests();b=b?i.jsx(o,{isMobile:a}):i.jsx(n,{isMobile:a});return i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(d("IGDMessageRequestLeftRailLayout.react").Container,{isMobile:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWEncryptedBackupsIssueRangeQueryDeferred",["react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("useMWEncryptedBackupsIssueRangeQueryDeferred");function a(){var a=c("useReStore")();return h(function(b,c,d,e){i.onReady(function(f){return f.runQuery(a,b,c,d,e)})},[a])}g["default"]=a}),98);
__d("useMAWQPLLogger",["QPLUserFlow","Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){return h(function(){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQuery","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","gkx","promiseDone","qpl","react","useMAWQPLLogger","useMWEncryptedBackupsIssueRangeQueryDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useCallback,i=a.useMemo;e={useFetchCutoverMessages:function(a,e,g){var i=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(a)},[i,a],f.id+":44"),k=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[i,e],f.id+":51"),l=h(function(a){c("promiseDone")(i.runInTransaction(function(d){if(e!=null&&k!=null)return c("LSIssueMessagesRangeQuery")(e,k.minTimestampMs,a,c("LSFactory")(d));else return b("Promise").resolve()},"readwrite"))},[i,k,e]),m=c("useMWEncryptedBackupsIssueRangeQueryDeferred")();return h(function(b){if(j==null)return;var e=j.hasMoreBefore,f=d("MAWDbMsg").toMsgId(j.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){m(c,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero);if(!e)return l(b)})})}))},[j,i,a,m,l])},useFetchSecureMessages:function(a){var e=c("useReStore")(),f=c("useMWEncryptedBackupsIssueRangeQueryDeferred")(),g=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974")),h=g.addQPLAnnotations,j=g.markQPLFailure,k=g.markQPLPoint,l=g.markQPLStart,m=g.markQPLSuccess;return i(function(){return function(g,i,n){var o=l();function p(a){k(o,"load_more_msgs_success","successfully loaded messages from worker"),h(o,a)}d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");k(o,"before_start_load_more_msgs","before fetching messages range from table");h(o,{string:babelHelpers["extends"]({direction:n,thread_id:d("I64").to_string(i)},a!=null?{thread_type:d("I64").to_string(a)}:{})});return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(i)).then(function(a){if(a!=null&&!a.isLoadingBefore&&n==="before"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");k(o,"put_message_range","put txn in messages_ranges_v2__generated table");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:n,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(b){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+b.hasMoreBefore.toString());p({bool:{hasMoreBefore:b.hasMoreBefore}});if(b.hasMoreBefore){m(o);return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);k(o,"issued_range_query","useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);m(o);return f(e,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero)})}))})})["catch"](function(a){j(o,a)})}if(c("gkx")("8830")&&a!=null&&!a.isLoadingAfter&&n==="after"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,f){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.maxMessageId),threadId:e}).then(function(a){p({bool:{hasMoreAfter:a.hasMoreAfter}}),d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())})["catch"](function(a){j(o,a)}))})})["catch"](function(a){j(o,a)})}h(o,{bool:{isLoadingAfter:a==null?void 0:a.isLoadingAfter,isLoadingBefore:a==null?void 0:a.isLoadingBefore}});k(o,"already_loading_messages","end the load more QPL event.");m(o);return b("Promise").resolve()})["catch"](function(a){j(o,a)})}},[h,e,f,j,k,l,m,a])}};a=e;g["default"]=a}),98);
__d("PolarisDirectInbox.react",["IGDInboxContextProviders.react","IGDInboxLeftRail.react","IGDInboxRoot.react","IGDMessageRequestLeftRail.react","IGDPageSetup.react","IGDShell.react","PolarisDirectInboxMetaManager.react","PolarisDirectStrings","cr:3279","react","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.placeholder;var e=c("useRoutePassthroughProps")();e=e!=null&&(e.entryPoint==="pendingRequests"||e.entryPoint==="inboxSpam");e=e?h.jsx(c("IGDMessageRequestLeftRail.react"),{}):h.jsx(c("IGDInboxLeftRail.react"),{});var f=b("cr:3279"),g="DirectThreadPage",i=d("PolarisDirectStrings").INBOX_STRING;return h.jsx(c("IGDShell.react"),{children:h.jsx(c("IGDPageSetup.react"),{placeholder:a,children:h.jsx(d("IGDInboxContextProviders.react").IGDInboxContextProviders,{children:f?h.jsxs(f,{children:[h.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:i}),h.jsx(c("IGDInboxRoot.react"),{leftRail:e})]}):h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:i}),h.jsx(c("IGDInboxRoot.react"),{leftRail:e})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({text:null});g["default"]=b}),98);
__d("MWLSUseLatch.bs",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;h(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return i(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.createContext;var j=b.createElement,k=b.useCallback,l=b.useRef,m=e(null);function n(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return j(m.Provider,{children:b,value:a})}var o={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function p(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function q(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function r(a,b){var d=q(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,void 0,c("LSFactory")(a))},"readwrite"))}function s(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var t=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=l({enabled:!1,handler:null}),m=l(null),q=c("useReStore")(),u=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),g):!1;g=!c("gkx")("1835569");var v=e===!0||g||((e=j.current)==null?void 0:e.handler)==null||u;g=function(a){var b;return((b=j.current)==null?void 0:b.handler)==null?!1:!p(a).some(function(a){return t.has(a)})};e=c("useFileDragEvents")(function(){return!1},void 0,g);g=k(function(a){var b;if(((b=j.current)==null?void 0:b.enabled)===!1)return;b=(b=j.current)==null?void 0:b.handler;if(b==null){if(!u){var d=j.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(s):d;d.length!==a.length&&r(q,d.length);!v&&a.length!==0&&b(a)},[f,v,u,q]);c("useFileDragEvents")(g,m.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(o.root,(g=a)!=null?g:!1),ref:m,children:[i.jsx(n,{fileUploadHandlerConfigRef:j,children:b}),!v&&e?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=m;g.MWV2FileDropzone=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=e();function a(a){a=a.children;var b=j("");return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useMemo;function a(a,b){var c=i(function(){return b.current},[b]);h(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){b===void 0&&(b=!1),h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.react",["I64","Int64Hooks","Lexical","LexicalText","MWChatFocusComposerContext","MWLSUseLatch.bs","MWPActor.react","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","WALoggerDeferred","cr:11463","deepEquals","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWLSUpdateDraftMessage","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=e.useEffect,k=e.useMemo,l=e.useRef,m=[];function n(a,b){j(function(){b(a.getEditorState())},[a,b]),j(function(){return a.registerUpdateListener(function(a){return b(a.editorState)})},[b,a])}var o=["MWPComposerEditor","Composer"];function p(a,b){b=d("MWLSUseLatch.bs").useLatch(b,!0,5e3);var c=b[0],e=b[1],f=l("");j(function(){var b=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return a.registerUpdateListener(b)},[c,e,a])}function q(a,b){var e=i(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("usePrevious")(f);j(function(){var a=g==null?f!=null:c("deepEquals")(g,f)?!1:!0;a&&b()},[a,f,g,b])}var r=b("cr:11463")==null?function(a){}:b("cr:11463").useHook,s=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.autoFocus,e=b===void 0?!0:b;b=a.children;var f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey,t=a.getEditorState,u=a.getTextFromEditorState,v=u===void 0?s:u;u=a.isPreviewThread;var w=u===void 0?!1:u;u=a.isSendDisabled;var x=u===void 0?!1:u;u=a.mediaStaging;u=u===void 0?m:u;var y=a.onSendEmptyMessage,z=a.onSendMessage,A=a.onTypingStateChanged,B=a.persistEditorState,C=a.thread,D=a.useMWPComposerPrepopulateEditorState;a=a.clearFormatAfterSend;var E=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),F=i(c("MWPreloadedText"));F=F.text!=null?F.text:E!=null?E.current:C.draftMessage;var G=l(F),H=l(null);r(H.current);var I=k(function(){return c("mwpLexicalCreateEditor")()},[]);t=t!=null?t(d("I64").to_string(C.threadKey)):JSON.stringify(I.getEditorState());t=t!=null?JSON.parse(t):JSON.parse("{}");var J={contents:function(){return I.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}},K=c("useMWLSUpdateDraftMessage")(I,B),L=c("useDebounced")(K,500),M=l();B=d("MWV2ComposerHasContentContext.bs").useComposerHasContext();var N=B.shouldClearDraftMessageRef,O=B.hasContentRef,P=h(function(){var a;a=(a=document.activeElement)==null?void 0:(a=a.attributes.getNamedItem("id"))==null?void 0:a.value;if(a==null?void 0:a.includes("prevent-composer-focus-steal"))return;return I.focus(function(){})},[I]);j(function(){return function(){Boolean(N==null?void 0:N.current)&&c("promiseDone")(K(C.threadKey,""));var a=M.current;a!=null&&c("promiseDone")(K(C.threadKey,a))}},[]);B=d("Int64Hooks").useCallbackInt64(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});M.current=a;O!=null&&(O.current=a!=="");L(C.threadKey,a);if(w&&E!=null){E.current=a;return}},[O,L,C.threadKey,w,E]);n(I,B);p(I,A);B=F!=null?F.trim()==="":!0;A=c("useMWPLexicalIsTextContentEmpty")(I,!0,B);F=u.length>0;var Q=!A||F,R=u.filter(function(a){return!a.isSent}).length;B=i(d("MWChatFocusComposerContext").context);var S=B.setFocusComposer;j(function(){e&&S(function(){return P()})},[e,I,P,S]);j(function(){R>0&&P()},[I,P,R]);var T=d("MWV2IsTabFocusedContext.bs").useIsTabFocused();j(function(){T&&!w&&P()},[I,T,w,P]);q(I,P);c("useMWPCometComposerPrepopulateDraftMessage")(I,G);D==null?void 0:D(I,t);var U=d("MWPActor.react").useActor(),V=function(a,b,e,f,h,i,j,k,l){g!=null&&g(d("I64").to_string(C.threadKey),d("I64").to_string(U));c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling MAWSendSecureMessageV2.useOnSendSecureMessage in MWPComposerEditor"],"LOG"));z(a,b,e,f,h,i,j,k,l,void 0);return P()};A=h(function(){if(x)return;if(Q){c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling onSendMessage"],"LOG"));var a=f!=null?f(I,d("I64").to_string(C.threadKey)):c("MWV2ChatComposerGetViewContent").getRanges(I),b=I.getEditorState();b=v(b);V(b,a)}else y==null?void 0:y();M.current="";return J.contents()},[I,V,Q,x]);c("useMWPLexicalCommitMessageOnEnter")(I,A);c("useLexicalInitializeEditor__DEPRECATED")(I);c("useMWPLexicalClearEditor")(I,a);return b(I,Q,H,A)}g.MWPComposerEditor=a}),98);/*FB_PKG_DELIM*/
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xi81zsa",fontSize:"x1nxh6w3",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.xstyle;a=a===void 0?!1:a;return i.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:!0,connectTop:!1,outgoing:d,precedesXMA:!1,style:{backgroundColor:"var(--mwp-reply-background-color)"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),"data-testid":void 0,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.bs","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,j.jsx("span",{className:"x1lliihq x1i64zmx",children:j.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","LSIntEnum","MWLSThreadDisplayContext","MWPStableImage.react","MWPThreadCapabilitiesContext","cr:956","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.isSticker;f=f===void 0?!1:f;var g=a.outgoing,j=a.src;a=a.width;var k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=k==="ChatTab";var l=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();l=c("gkx")("1581")&&l(d("LSIntEnum").ofNumber(46));g=f?!1:g?i.outgoing:i.incoming;e=h.jsx(d("MWPStableImage.react").MWPStableImage,{alt:"",className:c("stylex")(i.root,f&&i.rootHasSticker,g),height:e!=null?d("I64").to_float(e):void 0,maxHeight:100,maxWidth:k?180:300,src:j,width:a!=null?d("I64").to_float(a):void 0});return b("cr:956")!=null&&l&&!f?h.jsx(b("cr:956"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:j,xstyle:[i.root,g],children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","MWV2Sticker.react","ReQL","ReQLSuspense","cr:2472","cr:3200","cr:6426","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var l=h._("__JHASH__13yhS1gywbZ__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(k.threadKey,b,d("I64").to_string(a)):d("ReQL").empty()},[m,k],f.id+":65");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2472")!=null?b("cr:2472").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:3200")==null)return null;else return i.jsx(b("cr:3200"),{xstyle:j.replyHotLikeSticker});e=c("getLSMediaMessageReplyMediaUrl")(k);if(e!=null&&n==null)return i.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(n==null)return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.italic,children:l});b("cr:6426")==null||!g?e=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)}:e=function(a){return b("cr:6426").getAttachmentBlobNonOptional(a.attachmentFbid)};return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWV2Sticker.react"),{attachment:n,getPreviewUrl:e,scale:.6,xstyle:j.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","CometPressable.react","I64","MWRepliesImage.react","XCometStoriesControllerRouteBuilder","cr:6426","getLSMediaMessageReplyMediaUrl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6426")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):null}:c("getLSMediaMessageReplyMediaUrl");e=e(f);return e==null?null:i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:i.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsRollcallEnabled",["MWCMIsAnyCMThread","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});return a===!0&&c("gkx")("6957")}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["CometPressable.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,j=a.outgoing,k=a.renderAttachment,l=a.renderExpiredMessage,m=a.renderGIF,n=a.renderMedia,o=a.renderPost,p=a.renderRemovedMessage,q=a.renderRollcallContribution,r=a.renderSticker,s=a.renderStory,t=a.renderTextMessage,u=a.renderUnavailableMessage;a=a.renderVideo;var v=g.replyAttachmentId,w=g.replyAttachmentType,x=g.replyMessageText;w!=null&&(!e||g.replyStatus!=null&&!d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED)))?(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=h.jsx(s,{isSecureMessage:f,message:g,outgoing:j}):v!=null?d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))?q!=null?e=h.jsx(q,{message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=h.jsx(a,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF))?m!=null?e=h.jsx(m,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))?r!=null?e=h.jsx(r,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").LINK))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?e=h.jsx(k,{message:g,outgoing:j}):o!=null?e=h.jsx(o,{message:g,outgoing:j}):e=(c("recoverableViolation")("Unknown attachment type: "+d("I64").to_string(w),"messenger_comet"),null):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&r!=null?e=h.jsx(r,{message:g,outgoing:j}):e=null:v!=null?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED))?p!=null?e=h.jsx(p,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").EXPIRED))?l!=null?e=h.jsx(l,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?u!=null?e=h.jsx(u,{outgoing:j}):e=null:x!=null&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?x!==""?e=h.jsx(t,{message:g,outgoing:j,text:x}):e=h.jsx(k,{message:g,outgoing:j}):e=null;s=h.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var y=g.replySourceTimestampMs,z=g.replySourceId,A=c("useMWJumpToMessage")("Pinned");q=w!=null&&(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION)));var B=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(z!=null&&y!=null&&b){m=function(){A(z,y)};if(q&&a){var C=d("I64").of_string((o=g.replyAttachmentExtra)!=null?o:"0"),D=g.threadKey,E=(r=g.replySourceId)!=null?r:null;m=function(){B(C,D,E)}}return h.jsx(c("CometPressable.react"),{onPress:m,overlayDisabled:!0,xstyle:function(){return[i.pressable]},children:s})}else return s}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function j(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function k(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function l(a,b,e){var g=c("useReStore")(),l=a.messageId,m=a.threadKey,n=c("MWPMessageHasAttachment")(a),o=d("ReQLSuspense").useFirst(function(){if(n)return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(m,l);else return d("ReQL").empty()},[g,l,m,n],f.id+":63");return i(function(){if(b)if(o!=null)if(j(o))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(k(o))return h._("__JHASH__INRUrq18hhv__JHASH__");else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(o!=null)if(e!=null)if(j(o))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(k(o))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(j(o))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(k(o))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,o,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();return l(a,b,c[0])}g.useTitle=a}),98);
__d("MWPMessageS2SLoggingWrapper",["CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.statusType;var g=["Sent","Delivered","Error"].includes(a),i=null;if(g){i=(g=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(e)))!=null?g:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(f))}return i!=null?h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:i,pageletName:"Message-s2s",xstyle:!1,children:[h.jsx(c("CometHeroFailTrigger.react"),{description:"Message returned from server with error status",fail:a==="Error"}),b]}):h.jsx("div",{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWMediaTraceHandler.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),d("I64").neg_one,void 0,d("I64").to_string(e)+","+d("I64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("MWV2SendOpenMessage",["ArmadilloDataTraceCheckPoint.bs","I64","Int64Hooks","LSAppendDataTraceAddon","LSAuthorityLevel","LSFactory","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSOptimisticSendMessageV2","LSShape","LSThreadBitOffset","LSVec","MAWOptimisticUpdateContactRelationship.bs","MWCMThreadTypes.react","MWChatInteraction.bs","MWConsole","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MWSharedMsgLogUtils","MWVersion.bs","MessagePowerUp","MessageRequestsLog","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWLSUpdateDraftMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler.bs").logMediaSendStart(a,b,c,d("I64").of_int32(e)))});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddon")(e,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,d("I64").minus_one,void 0,b,c("LSFactory")(a)))});return l.apply(this,arguments)}function m(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,e,f,g){var j=c("useReStore")(),l=d("MWPActor.react").useActor(),n=h(d("MWPReplyContext.react").MWPReplyContext),o=n.clearReply,p=n.reply,q=c("useLSMessagingInitiatingSource")(),r=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(40),a);n=a.threadSubtype;n={isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:d("I64").to_string(a.threadKey),thread_subtype:n&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(n)?d("I64").to_string(n):"",thread_type:d("I64").to_string(a.threadType)};var s=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,n),t=c("useCometInteractionTracing")(c("qpl")._(25313175,"1551"),"fast","INTERACTION",void 0,n),u=c("useMWLSDefaultThreadSource")(),v=c("useMWLSUpdateDraftMessage")();return d("Int64Hooks").useCallbackInt64(function(h,n,w,x,y,z,A,B,C,D,E,F){E===void 0&&(E=!1);F===void 0&&(F=!1);var G=!1,H=d("LSMessagingThreadTypeUtil").isMessageRequest(a);return s(function(s){t(function(t){var I=function(a){[s,t].forEach(function(b){a(b,b===t)})},J=u(a.threadKey),K={contents:!0},L=c("LSGenerateTraceId")(),M={contents:1},N={initiatingSource:q,isMessageRequest:H,mwVersion:d("MWVersion.bs").v2,threadType:a.threadType};c("promiseDone")(v(a.threadKey,""));c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=c("LSFactory")(e),s=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.table("media_staging")).filter(function(b){return!b.isSent&&d("I64").equal(b.threadKey,a.threadKey)}))),t=d("MWSharedMsgLogUtils").getMessageTypeParams(h,x,p,w,z,B,s);I(function(b){d("MWSharedMsgLogUtils").addSharedMetadataForInteractionTrace(b,t,a,q)});if(B==null){var u=n!=null?d("LSShape").ofRecord({mention_ids:n.map(function(a){return a.id}).join(","),mention_lengths:n.map(function(a){return String(a.length)}).join(","),mention_offsets:n.map(function(a){return String(a.offset)}).join(","),mention_types:n.length!==0?n.map(function(a){return a.type}).join(","):void 0}):void 0,v=t.hasAttachment,H=t.hasGif,O=t.hasLinks,P=t.hasSticker,Q=t.hasText;P?M.contents=4:H&&(M.contents=6);var R=c("gkx")("7566");I(function(a){return a.addMarkerPoint("before_create_optimistic_message","AppTiming")});var S;if(Q||P||H){G=!0;if(!E||F){yield k(e,d("I64").to_string(a.threadKey),L);S=(yield c("LSOptimisticSendMessageV2")(l,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,void 0,d("LSShape").ofRecord({attribution_app_id:y,calculate_denormalizations:!1,data_trace_id:L,external_attachment_url:z,hot_emoji_size:x,initiating_source:q,mark_read:d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:u,optimistic_attachment_preview:A,platform_token:C,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:J,sticker_id:w,text_has_links:O&&R}),o));I(function(a){return a.addMarkerPoint("create_optimistic_message_success","AppTiming")});v||I(function(a,b){var c=S[0];d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(c):c,N)});f!=null&&f({TAG:0,hasMention:n!=null&&n.length>0,isGIF:H,isReply:!!(p&&p.messageId!==""),isSticker:P,isText:Q,offlineThreadingId:S[0]});u=S[0];D!=null&&D(u);if(E)return}}else D!=null&&D();if(s.length===0){d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,(O=S)==null?void 0:O[0],[],J,M.contents,p!=null);return}R=s[0];M.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(R.attachmentType);var T=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(s,r);for(var U=0;U<T.length;U++)(!E||U===0&&F&&!G||!F)&&(yield* function*(){var h=T[U],b=c("LSGenerateTraceId")(),m=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make(h.map(d("LSShape").ofRecord)),void 0,o)),g=m[0];U===0&&I(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(g):g,N)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(g),threadAttributionSource:J,threadKey:a.threadKey});f!==void 0&&f({TAG:2,numberOfAttachments:h.length,offlineThreadingId:g});yield i(e,b,d("I64").of_int32(h.length),M.contents);m=function*(f){var b=h[f];yield c("LSInsertNewMediaSend")(b.attachment_fbid,g,d("I64").of_int32(f),b.attachment_type,!1,!1,!1,!1,o);f=s.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(f!=null){var i=f.fbid;i!=null&&(yield c("LSMarkSubJobCompletedV2")(b.attachment_fbid,i,void 0,void 0,void 0,o),yield d("MWPOpenComposerUtils").deleteMediaStaging(e,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:d("I64").to_string(i)})}))}K.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var n=0;n<h.length;n++)yield* m(n);d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,g,h.map(function(a){return a.attachment_fbid}),J,M.contents,p!=null);yield d("MWPOpenComposerUtils").resumeSendJob(o,g,b);yield k(e,d("I64").to_string(a.threadKey),b);yield d("LSFlushDataTrace.bs").updateAndFlushTrace(e,b)}());v=d("I64").to_string(a.threadKey);H=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[v,null]:[null,v];var V=H[0],W=H[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:K.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:W,thread_fbid:V}});return}var X=d("OfflineThreadingId").createOfflineThreadingID(),Y=d("MWPComposerMediaUploadUtil").getAudioAttachment(X,B.file,B.duration,B.waveformData);yield i(e,L,d("I64").one,2);P=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make([d("LSShape").ofRecord(Y)]),void 0,o));var Z=P[0];I(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(Z):Z,N)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:Z,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:d("I64").of_string(Z),threadAttributionSource:J,threadKey:a.threadKey});f!=null&&f({TAG:1,offlineThreadingId:Z});yield c("LSInsertNewMediaSend")(X,Z,d("I64").zero,Y.attachment_type,!1,!1,!1,!1,o);Q=function(e,f){c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2")(X,d("I64").of_float(f),void 0,void 0,void 0,b);yield d("MWPOpenComposerUtils").resumeSendJob(b,Z,L);m(Y.playable_url,f,j,a.threadKey)});return function(a){return e.apply(this,arguments)}}(),"readwrite")),d("MWPSendMessageLogger").log(j,a.threadKey,a.threadType,l,Z,[d("I64").to_string(d("I64").of_float(f))],J,d("MessagingLoggingUtils").convertI64ToAttachmentType(Y.attachment_type),p!=null)};d("MWPComposerMediaUploadUtil").startUpload(void 0,Q,void 0,!0,[B.file],[X],void 0,void 0,B.waveformData,void 0)});return function(a){return e.apply(this,arguments)}}(),"readwrite","ui"),function(){e(),o(a.threadKey,!1),d("MAWOptimisticUpdateContactRelationship.bs").call(a,j,l),H&&d("MessageRequestsLog").logActionConfirmed(a,1)})})})},[a,s,t,u,q,v,j,l,p,g,f,r,e,o])}g.useOnSendOpenMessage=a}),98);/*FB_PKG_DELIM*/
__d("MWLSPostbackCtaHandler.bs",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWPActor.react","MWThreadKey.react","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(h,i){var j=d("LSThreadAttributionTypeUtil.bs").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){var g;return c("LSOptimisticSendMessage")(b,e,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),i,i,!1,void 0,void 0,void 0,void 0,j,void 0,h,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(g=f)!=null?g:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function l(a){if(a==null)return null;switch(d("LSIntEnum").toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler,m=a.renderButtonActionEventButton,n=a.renderButtonActionNonEventButton,o=a.renderDeeplinkActionButton,p=a.renderDisabledButtonActionButton,q=a.renderUrlActionButton,r=a.threadKey,s=a.title,t=a.type,u=c("useReStore")();a=d("MWLSThread").useThread(r,function(a){return a.threadType});var v=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:t,eventName:"xma_attachment_cta",threadKey:r,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("attachment_ctas")).getKeyRange(g)},[u,g],f.id+":147");j(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(t);a&&k.onReady(function(a){a.logImpression({surface:"admin_message"})})},[t]);if(w==null)return null;h=h(w);e=l(e);var x=null;switch(h.actionType){case"BUTTON":var y=h.secondaryInfo,z=h.primaryInfo,A=t==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&r!=null&&!((a=a)!=null?a:!1)&&A?x=m(b,r,s,e,w,y):A||(x=n(s,e,w,y,z));break;case"URL":a=h.secondaryInfo;x=q(s,e,w,a,h.primaryInfo);break;case"DISABLED_BUTTON":x=p(s);break;case"DEEPLINK":m=h.primaryInfo;b=m.loggingDetails;r=m.threadKey;A=d("MWInboxRouteBuilder").buildURL({thread_key:d("I64").to_string(r)});x=o(s,r,w,b,A);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});x=null;break;case"NOT_SUPPORTED":x=null;break}return i.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:v,children:x})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrl.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return h.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.createElement,l=i.useContext,m=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),n=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),o=j({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),g=f(d("LSIntEnum").ofNumber(25));f=f(d("LSIntEnum").ofNumber(24));b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?n.has(b)&&!g||m.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return k(o.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=l(o);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var p={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:h.jsx(c("BaseImage.react"),{height:e!=null?d("I64").to_int32(e):void 0,src:a,width:b!=null?d("I64").to_int32(b):void 0,xstyle:p.image})})}e.displayName=e.name+" [from "+f.id+"]";function q(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrl.bs").AttachmentItem.playableUrl(e),h=d("LSMediaUrl.bs").Attachment.previewUrlLarge(c);b=a?(b=d("LSMediaUrl.bs").AttachmentItem.previewUrlLarge(e))!=null?b:d("LSMediaUrl.bs").AttachmentItem.previewUrl(e):d("LSMediaUrl.bs").AttachmentItem.previewUrl(e);f=f==null?d("LSMediaUrl.bs").Attachment.previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{_0:g,TAG:0};if(a!=null)return{_0:a,TAG:1};return b==="image"&&g!=null?{_0:g,TAG:1}:{_0:void 0,TAG:2}}function r(a,b){var e=a.xmaLayoutType!=null&&!d("I64").equal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=o;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=q;g.useTitleAndSubtitle=r}),98);/*FB_PKG_DELIM*/
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return h.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","MWPMessageHasAttachment","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function n(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}function o(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=d("I64").equal(a.id,f);var g=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return i.jsx(n,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}function p(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function q(a){a=a.message;var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":130");if(a.length===0)return null;if(a.length>1)return a.every(p)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):null;a=a[0];var j=a.accessibilitySummaryText,k=a.attachmentType,l=a.filename;a=a.titleText;if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),a!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",a)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__456qLg2FzOf__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),j!=null&&j!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",j)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),l!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",l)]):null]});else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function r(a){var e=a.message,f=a.participant,g=a.sender;a=a.threadType;var h=m(!1),j=h[0],l=h[1];k(function(){var a=c("setTimeout")(function(){return l(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!j)return null;h=d("LSMessagingThreadTypeUtil").isSecure(a);j=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text;return i.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[i.jsx(o,{message:e,participant:f,sender:g}),j!=null?j:null,c("MWPMessageHasAttachment")(e)&&!h?i.jsx(q,{message:e}):null]})}r.displayName=r.name+" [from "+f.id+"]";function s(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),h=l(d("ServerTime").getMillis()),i=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(i).subscribe(function(e,g){if(g.operation!=="add")return;var i=g.value;d("I64").to_float(i.timestampMs)>h.current&&(h.current=d("I64").to_float(i.timestampMs),c("promiseDone")(b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(i.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(i.threadKey,i.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(i,c,b)}))})},[f,g,a,i])}function a(a){a=a.thread;var b=a.threadType,e=m(null),f=e[0],g=e[1];e=j(function(a,e,f){if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return i.jsx(r,{message:a,participant:f,sender:e,threadType:b})})},[b]);s(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381"),{}),b("cr:1799382")!=null&&a?h.jsx(b("cr:1799382"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("connectivity_status")).map(function(a){return d("I64").equal(a.internetConnectionState,d("LSIntEnum").ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":63");return i.jsx(j,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadThemeProvider.react",["I64","Int64Hooks","LSIntEnum","MWPThreadThemeContext","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","cr:6797","defaultMWPThreadTheme","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useState;function k(a,e){var g=c("useReStore")(),h=c("useCurrentDisplayMode")(),j=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("thread_themes")).getKeyRange(a)},[g,a],f.id+":40"),k=b("cr:6797")==null?void 0:b("cr:6797")(g,a),l=h==="dark"&&k!=null?k:j,m=d("ReQLSuspense").useArray(function(){return(l==null?void 0:l.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("gradient_colors")).getKeyRange(l==null?void 0:l.fbid)},[g,l==null?void 0:l.fbid],f.id+":54");return i(function(){return l!=null?{incomingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:l}:e},[l,m,e])}var l={incomingGradientColors:[],outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")};function a(a){var b=a.children,e=a.themeFbid;a=a.defaultTheme;a=a===void 0?l:a;var f=j(),g=f[0],i=f[1];f=d("Int64Hooks").useMemoInt64(function(){var a;return(a=g)!=null?a:e},[e,g]);var m=k(f,a);f=d("Int64Hooks").useMemoInt64(function(){return{incomingGradientColors:m.incomingGradientColors,outgoingGradientColors:m.outgoingGradientColors,previewId:g,setPreviewId:i,threadTheme:m.threadTheme}},[m,g]);return h.jsx(c("MWPThreadThemeContext").Provider,{value:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","CometPressable.react","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWPSolidMessageBubble.react","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__wwWALtSTrAJ__JHASH__"),k=h._("__JHASH__6AjB8pge-ih__JHASH__"),l=h._("__JHASH__4zpYeMebeaQ__JHASH__"),m=h._("__JHASH__FLEPIyrCx7D__JHASH__"),n=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),o=h._("__JHASH__TfJs-614iIk__JHASH__");function p(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,j=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:d("I64").to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&j||!(d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&h)?g:i.jsx(c("CometPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:50,testid:void 0})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,q=a.outgoing,r=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var s=b.attachmentType,t=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession(d("I64").to_string(b.threadKey),b.attachmentFbid),u=b.ephemeralMediaState;u=u!=null?d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&t?"seen":"expired":"expired";var v=u==="expired"||u==="seen"||q,w=null;switch(d("LSIntEnum").toNumber(s)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:w=v?m:j;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:w=v?n:k;break;default:w=v?o:l;break}return i.jsx(p,{ariaLabel:w,attachment:b,buildURL:f,initiallyUnread:t,outgoing:q,shouldDisableOnOutgoing:a,children:i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:q,style:{backgroundColor:e},children:r(b,u,t,w)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPColorUtils",["I64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("I64").to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}function a(a,b){a=[].concat(a).sort(function(a,b){return d("I64").to_int32(a.gradientIndex)-d("I64").to_int32(b.gradientIndex)|0}).map(function(a){return h(a.color)});var e=a.length;if(e!==1){if(e!==0){e=b!=null;var f=[];b!=null&&f.push(a[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var g=e?1:0,e=a.length-(e?2:1)|0;g<=e;++g)f.push(a[g]);b!=null&&(f.push(a[a.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),f.push(a[a.length-1|0]));g=f.join(", ");return"linear-gradient("+g+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}g.int64ToHex=h;g.gradient=a}),98);
__d("defaultMWPThreadTheme",["I64"],(function(a,b,c,d,e,f,g){"use strict";a={accessibilityLabel:"Default Blue",appColorMode:d("I64").zero,fallbackColor:d("I64").of_string("-16743169"),fbid:d("I64").of_string("196241301102133"),isDeprecated:!1,normalThemeId:d("I64").zero,reverseGradiantsForRadial:!1,themeIdx:d("I64").of_string("94")};g["default"]=a}),98);
__d("MWPThreadThemeContext",["defaultMWPThreadTheme","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b={incomingGradientColors:[],outgoingGradientColors:[],previewId:void 0,setPreviewId:c("emptyFunction"),threadTheme:c("defaultMWPThreadTheme")};e=a(b);g["default"]=e}),98);
__d("useMWPThreadTheme",["MWPThreadThemeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("MWPThreadThemeContext"))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").to_int32(d("I64").and_(d("LSIntEnum").ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message,g=a.paint;g=g===void 0?!0:g;var j=a.renderEmphasisRing;a=a.xmaLayout;var k=c("MWPMessageHasXMA")(f),l=c("MWPMessageIsReply")(f),m=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;m=h.jsx("div",{className:c("stylex")(i.container,k?i.container_for_xma:!1,m?i.container_for_poll:!1),"data-testid":void 0,children:b});return h.jsxs(h.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!k||!f)?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!l&&g,children:j!=null?j(k,m):m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPSolidMessageBubble.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.style,l=a.xmaLayout;l=l===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:l;a=a.xstyle;b=b!=null?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,g?j?i.outgoing_connect_top:i.incoming_connect_top:!1,(!b||l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&f?j?i.outgoing_connect_bot:i.incoming_connect_bot:!1,l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&b?i.precedes_xma:!1,(g=a)!=null?g:!1),"data-testid":void 0,role:"none",style:k,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").Children,j={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=i.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(j.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(j.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction.bs").get(e);f=d("MWChatInteraction.bs").get(f);e=(e=e)!=null?e:f;if(e==null)return h.jsx("div",{className:c("stylex")(a),children:b});else return h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPReplyContext.react",["I64","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useCallback,j=b.useMemo,k=b.useState,l=c("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),m=e({clearReply:c("emptyFunction"),reply:void 0,setReply:c("emptyFunction")});function n(a){try{return JSON.parse(a)}catch(a){return}}function a(a){var b=a.children,c=a.clearThreadReply,e=a.getRepliesState,f=a.persistRepliesState,g=a.senderId;a=a.threadKey;e=e!=null&&a!=null?n(e(d("I64").to_string(a))):void 0;a=k(e);var o=a[0],p=a[1],q=i(function(a,b){l.onReady(function(c){c.logClearReply(b,a,o!=null)});p();if(c!=null)return c(d("I64").to_string(a))},[c,o]),r=i(function(a,b){l.onReady(function(c){c.logSetReply(o,a,b)});p(a);if(f!=null)return f({messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,senderId:g,sendStatusV2:a.sendStatusV2,threadKey:d("I64").to_string(b),timestampMs:a.timestampMs})},[f,o,g]);e=j(function(){return{clearReply:q,reply:o,setReply:r}},[o,r,q]);return h.jsx(m.Provider,{value:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWPReplyContext=m;g.MWPReplyContextProvider=a}),98);/*FB_PKG_DELIM*/
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky"||a==="coreblue")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return{_0:a,TAG:1};if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{_0:[b,a],TAG:0}}return}g.parse=a}),98);/*FB_PKG_DELIM*/
__d("MWPThreadThemeGradientUtils",["MWPColorUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[0];return d("MWPColorUtils").int64ToHex(b!=null?b.color:a.fallbackColor)}function b(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[b.length-1];return d("MWPColorUtils").int64ToHex(b!=null?b.color:a.fallbackColor)}function e(a){return a.outgoingGradientColors.length>1}function f(a){if(!c("gkx")("1969"))return{"--messenger-header-background":"var(--messenger-card-background)"};var b={};a.backgroundUrl!=null&&(b["--messenger-card-background"]="transparent");a.titlebarBackgroundColor&&(b["--messenger-header-background"]=d("MWPColorUtils").int64ToHex(a.titlebarBackgroundColor));a.tertiaryTextColor&&(b["--secondary-text"]=b["--placeholder-text"]=d("MWPColorUtils").int64ToHex(a.tertiaryTextColor));return b}g.getTopGradientColor=a;g.getBottomGradientColor=b;g.isGradient=e;g.getStyleOverridesForThreadTheme=f}),98);/*FB_PKG_DELIM*/
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWPOpenComposerUtils",["I64","LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!=null)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function e(a,c,d){return a.table("media_staging").get({hd:c,tl:0}).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return b("Promise").resolve()})}function f(a,c,d,e,f){return a.table("attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!=null)return a.table("attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},f(g));else return b("Promise").resolve()})}function h(a,e,f){return c("LSResumeMediaSendJob")(e,d("I64").zero,(f=f)!=null?f:void 0,a).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobs")(e,a);else return b("Promise").resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=h}),98);/*FB_PKG_DELIM*/
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(c!=null){a=d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(b).bounds({gt:d("ReQL").key(d("I64").zero)});b=c.minLastActivityTimestampMs;c=c.maxLastActivityTimestampMs;b=!d("I64").equal(b,d("I64").zero)&&!d("I64").equal(b,d("I64").one)?b:void 0;c=!d("I64").equal(c,d("I64").zero)&&!d("I64").equal(c,d("I64").one)?c:void 0;if(b!=null)if(c!=null)return a.bounds({gte:d("ReQL").key(b),lte:d("ReQL").key(c)});else return a.bounds({gte:d("ReQL").key(b)});else if(c!=null)return a.bounds({lte:d("ReQL").key(c)});else return a}else return d("ReQL").empty()}g.createIterable=a}),98);/*FB_PKG_DELIM*/
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts")))},[b,a.threadKey],f.id+":28")}g.useValue=a}),98);/*FB_PKG_DELIM*/
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[d("I64").and_(d("LSIntEnum").ofNumber(1024),a.displayedContentTypes),d("I64").and_(d("LSIntEnum").ofNumber(2048),a.displayedContentTypes)].some(function(a){return d("I64").to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPMessageHasAttachment",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(8192)))&&!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(128))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(128),d("LSIntEnum").ofNumber(8192))))return!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(512)));else return!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useMaybeShowCSAMBlockAsyncDeferred",["cr:6799"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.onProceed;return a&&a()}function a(){return(b("cr:6799")==null?void 0:b("cr:6799")())||h}g["default"]=a}),98);